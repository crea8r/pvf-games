"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_game_TetrisGame_jsx";
exports.ids = ["components_game_TetrisGame_jsx"];
exports.modules = {

/***/ "./components/game/GameBoard.jsx":
/*!***************************************!*\
  !*** ./components/game/GameBoard.jsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_tetris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/tetris */ \"./lib/tetris.js\");\n\n\n\nconst CELL_SIZE = \"w-6 h-6\"; // Original smaller cell size\nconst GameBoard = ({ board, currentPiece, gameOver })=>{\n    // Create visual board with current piece overlay\n    const visualBoard = board.map((row)=>[\n            ...row\n        ]);\n    // Add current piece to visual board\n    if (currentPiece) {\n        for(let py = 0; py < currentPiece.shape.length; py++){\n            for(let px = 0; px < currentPiece.shape[py].length; px++){\n                if (currentPiece.shape[py][px]) {\n                    const x = currentPiece.x + px;\n                    const y = currentPiece.y + py;\n                    if (y >= 0 && y < board.length && x >= 0 && x < board[0].length) {\n                        visualBoard[y][x] = currentPiece.type;\n                    }\n                }\n            }\n        }\n    }\n    // Get cell color based on piece type\n    const getCellColor = (cellValue)=>{\n        if (cellValue === 0) return \"bg-gray-900 border-gray-800\";\n        return `${_lib_tetris__WEBPACK_IMPORTED_MODULE_2__.PIECES[cellValue]?.color || \"bg-gray-500\"} border-gray-600`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"inline-block bg-gray-800 p-4 rounded-lg border-2 border-gray-600\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"grid gap-px bg-gray-700 p-2 rounded\",\n            style: {\n                gridTemplateColumns: \"repeat(15, 1fr)\"\n            },\n            children: visualBoard.map((row, y)=>row.map((cell, x)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `${CELL_SIZE} border ${getCellColor(cell)} ${gameOver ? \"opacity-50\" : \"\"}`\n                    }, `${y}-${x}`, false, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/GameBoard.jsx\",\n                        lineNumber: 36,\n                        columnNumber: 13\n                    }, undefined)))\n        }, void 0, false, {\n            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/GameBoard.jsx\",\n            lineNumber: 33,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/GameBoard.jsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameBoard);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL2dhbWUvR2FtZUJvYXJkLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBCO0FBQ2dCO0FBRTFDLE1BQU1FLFlBQVksV0FBVyw2QkFBNkI7QUFFMUQsTUFBTUMsWUFBWSxDQUFDLEVBQUVDLEtBQUssRUFBRUMsWUFBWSxFQUFFQyxRQUFRLEVBQUU7SUFDbEQsaURBQWlEO0lBQ2pELE1BQU1DLGNBQWNILE1BQU1JLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFBTztlQUFJQTtTQUFJO0lBRTdDLG9DQUFvQztJQUNwQyxJQUFJSixjQUFjO1FBQ2hCLElBQUssSUFBSUssS0FBSyxHQUFHQSxLQUFLTCxhQUFhTSxLQUFLLENBQUNDLE1BQU0sRUFBRUYsS0FBTTtZQUNyRCxJQUFLLElBQUlHLEtBQUssR0FBR0EsS0FBS1IsYUFBYU0sS0FBSyxDQUFDRCxHQUFHLENBQUNFLE1BQU0sRUFBRUMsS0FBTTtnQkFDekQsSUFBSVIsYUFBYU0sS0FBSyxDQUFDRCxHQUFHLENBQUNHLEdBQUcsRUFBRTtvQkFDOUIsTUFBTUMsSUFBSVQsYUFBYVMsQ0FBQyxHQUFHRDtvQkFDM0IsTUFBTUUsSUFBSVYsYUFBYVUsQ0FBQyxHQUFHTDtvQkFDM0IsSUFBSUssS0FBSyxLQUFLQSxJQUFJWCxNQUFNUSxNQUFNLElBQUlFLEtBQUssS0FBS0EsSUFBSVYsS0FBSyxDQUFDLEVBQUUsQ0FBQ1EsTUFBTSxFQUFFO3dCQUMvREwsV0FBVyxDQUFDUSxFQUFFLENBQUNELEVBQUUsR0FBR1QsYUFBYVcsSUFBSTtvQkFDdkM7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7SUFFQSxxQ0FBcUM7SUFDckMsTUFBTUMsZUFBZSxDQUFDQztRQUNwQixJQUFJQSxjQUFjLEdBQUcsT0FBTztRQUM1QixPQUFPLENBQUMsRUFBRWpCLCtDQUFNLENBQUNpQixVQUFVLEVBQUVDLFNBQVMsY0FBYyxnQkFBZ0IsQ0FBQztJQUN2RTtJQUVBLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVO1lBQXNDQyxPQUFPO2dCQUFFQyxxQkFBcUI7WUFBa0I7c0JBQ2xHaEIsWUFBWUMsR0FBRyxDQUFDLENBQUNDLEtBQUtNLElBQ3JCTixJQUFJRCxHQUFHLENBQUMsQ0FBQ2dCLE1BQU1WLGtCQUNiLDhEQUFDTTt3QkFFQ0MsV0FBVyxDQUFDLEVBQUVuQixVQUFVLFFBQVEsRUFBRWUsYUFBYU8sTUFBTSxDQUFDLEVBQ3BEbEIsV0FBVyxlQUFlLEdBQzNCLENBQUM7dUJBSEcsQ0FBQyxFQUFFUyxFQUFFLENBQUMsRUFBRUQsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUFVOUI7QUFFQSxpRUFBZVgsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RldHJpcy1zdHJlYW1lci1hcHAvLi9jb21wb25lbnRzL2dhbWUvR2FtZUJvYXJkLmpzeD8yNGIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQSUVDRVMgfSBmcm9tICcuLi8uLi9saWIvdGV0cmlzJztcblxuY29uc3QgQ0VMTF9TSVpFID0gJ3ctNiBoLTYnOyAvLyBPcmlnaW5hbCBzbWFsbGVyIGNlbGwgc2l6ZVxuXG5jb25zdCBHYW1lQm9hcmQgPSAoeyBib2FyZCwgY3VycmVudFBpZWNlLCBnYW1lT3ZlciB9KSA9PiB7XG4gIC8vIENyZWF0ZSB2aXN1YWwgYm9hcmQgd2l0aCBjdXJyZW50IHBpZWNlIG92ZXJsYXlcbiAgY29uc3QgdmlzdWFsQm9hcmQgPSBib2FyZC5tYXAocm93ID0+IFsuLi5yb3ddKTtcbiAgXG4gIC8vIEFkZCBjdXJyZW50IHBpZWNlIHRvIHZpc3VhbCBib2FyZFxuICBpZiAoY3VycmVudFBpZWNlKSB7XG4gICAgZm9yIChsZXQgcHkgPSAwOyBweSA8IGN1cnJlbnRQaWVjZS5zaGFwZS5sZW5ndGg7IHB5KyspIHtcbiAgICAgIGZvciAobGV0IHB4ID0gMDsgcHggPCBjdXJyZW50UGllY2Uuc2hhcGVbcHldLmxlbmd0aDsgcHgrKykge1xuICAgICAgICBpZiAoY3VycmVudFBpZWNlLnNoYXBlW3B5XVtweF0pIHtcbiAgICAgICAgICBjb25zdCB4ID0gY3VycmVudFBpZWNlLnggKyBweDtcbiAgICAgICAgICBjb25zdCB5ID0gY3VycmVudFBpZWNlLnkgKyBweTtcbiAgICAgICAgICBpZiAoeSA+PSAwICYmIHkgPCBib2FyZC5sZW5ndGggJiYgeCA+PSAwICYmIHggPCBib2FyZFswXS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpc3VhbEJvYXJkW3ldW3hdID0gY3VycmVudFBpZWNlLnR5cGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGNlbGwgY29sb3IgYmFzZWQgb24gcGllY2UgdHlwZVxuICBjb25zdCBnZXRDZWxsQ29sb3IgPSAoY2VsbFZhbHVlKSA9PiB7XG4gICAgaWYgKGNlbGxWYWx1ZSA9PT0gMCkgcmV0dXJuICdiZy1ncmF5LTkwMCBib3JkZXItZ3JheS04MDAnO1xuICAgIHJldHVybiBgJHtQSUVDRVNbY2VsbFZhbHVlXT8uY29sb3IgfHwgJ2JnLWdyYXktNTAwJ30gYm9yZGVyLWdyYXktNjAwYDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIGJnLWdyYXktODAwIHAtNCByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ncmF5LTYwMFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdhcC1weCBiZy1ncmF5LTcwMCBwLTIgcm91bmRlZFwiIHN0eWxlPXt7IGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICdyZXBlYXQoMTUsIDFmciknIH19PlxuICAgICAgICB7dmlzdWFsQm9hcmQubWFwKChyb3csIHkpID0+XG4gICAgICAgICAgcm93Lm1hcCgoY2VsbCwgeCkgPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e2Ake3l9LSR7eH1gfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake0NFTExfU0laRX0gYm9yZGVyICR7Z2V0Q2VsbENvbG9yKGNlbGwpfSAke1xuICAgICAgICAgICAgICAgIGdhbWVPdmVyID8gJ29wYWNpdHktNTAnIDogJydcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkpXG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVCb2FyZDsiXSwibmFtZXMiOlsiUmVhY3QiLCJQSUVDRVMiLCJDRUxMX1NJWkUiLCJHYW1lQm9hcmQiLCJib2FyZCIsImN1cnJlbnRQaWVjZSIsImdhbWVPdmVyIiwidmlzdWFsQm9hcmQiLCJtYXAiLCJyb3ciLCJweSIsInNoYXBlIiwibGVuZ3RoIiwicHgiLCJ4IiwieSIsInR5cGUiLCJnZXRDZWxsQ29sb3IiLCJjZWxsVmFsdWUiLCJjb2xvciIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImNlbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/game/GameBoard.jsx\n");

/***/ }),

/***/ "./components/game/NextPiece.jsx":
/*!***************************************!*\
  !*** ./components/game/NextPiece.jsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_tetris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/tetris */ \"./lib/tetris.js\");\n\n\n\nconst NextPiece = ({ pieceType, fromBlockchain = false })=>{\n    // Handle loading/invalid state\n    if (!pieceType || !_lib_tetris__WEBPACK_IMPORTED_MODULE_2__.PIECES[pieceType]) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-800 p-4 rounded-lg border border-gray-600\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"text-white text-sm font-semibold mb-3\",\n                    children: \"Next Piece\"\n                }, void 0, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                    lineNumber: 9,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-24 bg-gray-900 rounded flex items-center justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-gray-500 text-xs\",\n                        children: \"Loading...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                        lineNumber: 11,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                    lineNumber: 10,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n            lineNumber: 8,\n            columnNumber: 7\n        }, undefined);\n    }\n    const piece = _lib_tetris__WEBPACK_IMPORTED_MODULE_2__.PIECES[pieceType];\n    if (!piece || !piece.shape) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-gray-800 p-4 rounded-lg border border-gray-600\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"text-white text-sm font-semibold mb-3\",\n                    children: \"Next Piece\"\n                }, void 0, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                    lineNumber: 21,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-24 bg-gray-900 rounded flex items-center justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-red-400 text-xs\",\n                        children: \"Invalid piece\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                        lineNumber: 23,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                    lineNumber: 22,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n            lineNumber: 20,\n            columnNumber: 7\n        }, undefined);\n    }\n    const shape = piece.shape;\n    // Use fixed 4x4 grid for consistent sizing\n    const gridSize = 4;\n    // Create centered preview with better centering logic\n    const preview = Array(gridSize).fill(null).map(()=>Array(gridSize).fill(0));\n    // Calculate better centering offsets\n    const pieceHeight = shape.length;\n    const pieceWidth = Math.max(...shape.map((row)=>row.length));\n    const offsetY = Math.max(0, Math.floor((gridSize - pieceHeight) / 2));\n    const offsetX = Math.max(0, Math.floor((gridSize - pieceWidth) / 2));\n    // Place the piece in the preview grid with bounds checking\n    for(let y = 0; y < shape.length; y++){\n        for(let x = 0; x < shape[y].length; x++){\n            const previewY = offsetY + y;\n            const previewX = offsetX + x;\n            if (previewY >= 0 && previewY < gridSize && previewX >= 0 && previewX < gridSize && shape[y][x]) {\n                preview[previewY][previewX] = pieceType;\n            }\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-lg border border-gray-600\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-white text-sm font-semibold\",\n                        children: \"Next Piece\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, undefined),\n                    fromBlockchain && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium\",\n                        children: \"⛓️ Chain\"\n                    }, void 0, false, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                        lineNumber: 62,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                lineNumber: 59,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid gap-[1px] bg-gray-900 p-3 rounded-lg\",\n                    style: {\n                        gridTemplateColumns: `repeat(${gridSize}, 1fr)`,\n                        width: \"120px\",\n                        height: \"120px\"\n                    },\n                    children: preview.flat().map((cell, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `\n                rounded-sm transition-all duration-150\n                ${cell === pieceType ? `${piece.color} border border-gray-600 shadow-md` : \"bg-gray-800 border border-gray-700\"}\n              `,\n                            style: {\n                                minWidth: \"4px\",\n                                minHeight: \"4px\"\n                            }\n                        }, index, false, {\n                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                            lineNumber: 77,\n                            columnNumber: 13\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                    lineNumber: 68,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-3 text-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-gray-400 text-sm font-mono uppercase tracking-wider\",\n                    children: [\n                        pieceType,\n                        \"-piece\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                    lineNumber: 95,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n                lineNumber: 94,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/NextPiece.jsx\",\n        lineNumber: 58,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NextPiece);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxDQUFDOzRCQUNEUCxPQUFPO2dDQUNMUSxVQUFVO2dDQUNWQyxXQUFXOzRCQUNiOzJCQVhLSDs7Ozs7Ozs7Ozs7Ozs7OzBCQWdCYiw4REFBQzlCO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRTtvQkFBS0YsV0FBVTs7d0JBQ2JIO3dCQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLckI7QUFFQSxpRUFBZUQsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RldHJpcy1zdHJlYW1lci1hcHAvLi9jb21wb25lbnRzL2dhbWUvTmV4dFBpZWNlLmpzeD9kNGE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQSUVDRVMgfSBmcm9tICcuLi8uLi9saWIvdGV0cmlzJztcblxuY29uc3QgTmV4dFBpZWNlID0gKHsgcGllY2VUeXBlLCBmcm9tQmxvY2tjaGFpbiA9IGZhbHNlIH0pID0+IHtcbiAgLy8gSGFuZGxlIGxvYWRpbmcvaW52YWxpZCBzdGF0ZVxuICBpZiAoIXBpZWNlVHlwZSB8fCAhUElFQ0VTW3BpZWNlVHlwZV0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNjAwXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1zZW1pYm9sZCBtYi0zXCI+TmV4dCBQaWVjZTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtMjQgYmctZ3JheS05MDAgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC14c1wiPkxvYWRpbmcuLi48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHBpZWNlID0gUElFQ0VTW3BpZWNlVHlwZV07XG4gIGlmICghcGllY2UgfHwgIXBpZWNlLnNoYXBlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTYwMFwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgbWItM1wiPk5leHQgUGllY2U8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLTI0IGJnLWdyYXktOTAwIHJvdW5kZWQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgdGV4dC14c1wiPkludmFsaWQgcGllY2U8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHNoYXBlID0gcGllY2Uuc2hhcGU7XG4gIFxuICAvLyBVc2UgZml4ZWQgNHg0IGdyaWQgZm9yIGNvbnNpc3RlbnQgc2l6aW5nXG4gIGNvbnN0IGdyaWRTaXplID0gNDtcbiAgXG4gIC8vIENyZWF0ZSBjZW50ZXJlZCBwcmV2aWV3IHdpdGggYmV0dGVyIGNlbnRlcmluZyBsb2dpY1xuICBjb25zdCBwcmV2aWV3ID0gQXJyYXkoZ3JpZFNpemUpLmZpbGwobnVsbCkubWFwKCgpID0+IEFycmF5KGdyaWRTaXplKS5maWxsKDApKTtcbiAgXG4gIC8vIENhbGN1bGF0ZSBiZXR0ZXIgY2VudGVyaW5nIG9mZnNldHNcbiAgY29uc3QgcGllY2VIZWlnaHQgPSBzaGFwZS5sZW5ndGg7XG4gIGNvbnN0IHBpZWNlV2lkdGggPSBNYXRoLm1heCguLi5zaGFwZS5tYXAocm93ID0+IHJvdy5sZW5ndGgpKTtcbiAgY29uc3Qgb2Zmc2V0WSA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKGdyaWRTaXplIC0gcGllY2VIZWlnaHQpIC8gMikpO1xuICBjb25zdCBvZmZzZXRYID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigoZ3JpZFNpemUgLSBwaWVjZVdpZHRoKSAvIDIpKTtcbiAgXG4gIC8vIFBsYWNlIHRoZSBwaWVjZSBpbiB0aGUgcHJldmlldyBncmlkIHdpdGggYm91bmRzIGNoZWNraW5nXG4gIGZvciAobGV0IHkgPSAwOyB5IDwgc2hhcGUubGVuZ3RoOyB5KyspIHtcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHNoYXBlW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICBjb25zdCBwcmV2aWV3WSA9IG9mZnNldFkgKyB5O1xuICAgICAgY29uc3QgcHJldmlld1ggPSBvZmZzZXRYICsgeDtcbiAgICAgIFxuICAgICAgaWYgKHByZXZpZXdZID49IDAgJiYgcHJldmlld1kgPCBncmlkU2l6ZSAmJiBcbiAgICAgICAgICBwcmV2aWV3WCA+PSAwICYmIHByZXZpZXdYIDwgZ3JpZFNpemUgJiYgXG4gICAgICAgICAgc2hhcGVbeV1beF0pIHtcbiAgICAgICAgcHJldmlld1twcmV2aWV3WV1bcHJldmlld1hdID0gcGllY2VUeXBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNjAwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0zXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1zZW1pYm9sZFwiPk5leHQgUGllY2U8L2gzPlxuICAgICAgICB7ZnJvbUJsb2NrY2hhaW4gJiYgKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwMCB0ZXh0LXdoaXRlIHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAg4puT77iPIENoYWluXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJncmlkIGdhcC1bMXB4XSBiZy1ncmF5LTkwMCBwLTMgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBgcmVwZWF0KCR7Z3JpZFNpemV9LCAxZnIpYCxcbiAgICAgICAgICAgIHdpZHRoOiAnMTIwcHgnLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMTIwcHgnXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtwcmV2aWV3LmZsYXQoKS5tYXAoKGNlbGwsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgIHJvdW5kZWQtc20gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTUwXG4gICAgICAgICAgICAgICAgJHtjZWxsID09PSBwaWVjZVR5cGUgPyBcbiAgICAgICAgICAgICAgICAgIGAke3BpZWNlLmNvbG9yfSBib3JkZXIgYm9yZGVyLWdyYXktNjAwIHNoYWRvdy1tZGAgOiBcbiAgICAgICAgICAgICAgICAgICdiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNzAwJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzRweCcsXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiAnNHB4JyxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXNtIGZvbnQtbW9ubyB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5cbiAgICAgICAgICB7cGllY2VUeXBlfS1waWVjZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE5leHRQaWVjZTsiXSwibmFtZXMiOlsiUmVhY3QiLCJQSUVDRVMiLCJOZXh0UGllY2UiLCJwaWVjZVR5cGUiLCJmcm9tQmxvY2tjaGFpbiIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwic3BhbiIsInBpZWNlIiwic2hhcGUiLCJncmlkU2l6ZSIsInByZXZpZXciLCJBcnJheSIsImZpbGwiLCJtYXAiLCJwaWVjZUhlaWdodCIsImxlbmd0aCIsInBpZWNlV2lkdGgiLCJNYXRoIiwibWF4Iiwicm93Iiwib2Zmc2V0WSIsImZsb29yIiwib2Zmc2V0WCIsInkiLCJ4IiwicHJldmlld1kiLCJwcmV2aWV3WCIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsIndpZHRoIiwiaGVpZ2h0IiwiZmxhdCIsImNlbGwiLCJpbmRleCIsImNvbG9yIiwibWluV2lkdGgiLCJtaW5IZWlnaHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/game/NextPiece.jsx\n");

/***/ }),

/***/ "./components/game/TetrisGame.jsx":
/*!****************************************!*\
  !*** ./components/game/TetrisGame.jsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GameBoard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameBoard */ \"./components/game/GameBoard.jsx\");\n/* harmony import */ var _NextPiece__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NextPiece */ \"./components/game/NextPiece.jsx\");\n/* harmony import */ var _lib_tetris__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/tetris */ \"./lib/tetris.js\");\n/* harmony import */ var _lib_solana__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/solana */ \"./lib/solana.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_solana__WEBPACK_IMPORTED_MODULE_5__]);\n_lib_solana__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\nconst TetrisGame = ({ selectedRoom, isRoomClaimed, gameMode = \"normal\", onGameStarted })=>{\n    const [board, setBoard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.createBoard)());\n    const [currentPiece, setCurrentPiece] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [nextPieceType, setNextPieceType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.getRandomPieceType)());\n    const [score, setScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [lines, setLines] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [level, setLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [gameOver, setGameOver] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPaused, setIsPaused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [gameStarted, setGameStarted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [nextPieceFromBlockchain, setNextPieceFromBlockchain] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [roomData, setRoomData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const gameLoopRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const blockchainPollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const dropTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(1000);\n    const lastDropTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(Date.now());\n    // Initialize game\n    const initializeGame = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const newBoard = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.createBoard)();\n        const firstPieceType = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.getRandomPieceType)();\n        const newNextPieceType = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.getRandomPieceType)();\n        const firstPiece = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.createPieceState)(firstPieceType);\n        setBoard(newBoard);\n        setCurrentPiece(firstPiece);\n        setNextPieceType(newNextPieceType);\n        setNextPieceFromBlockchain(false);\n        setScore(0);\n        setLines(0);\n        setLevel(1);\n        setGameOver(false);\n        setGameStarted(true);\n        lastDropTime.current = Date.now();\n    }, []);\n    // Spawn new piece\n    const spawnNewPiece = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const pieceType = nextPieceType;\n        const newPiece = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.createPieceState)(pieceType);\n        if (!(0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.isValidMove)(board, newPiece.shape, newPiece.x, newPiece.y)) {\n            setGameOver(true);\n            return;\n        }\n        setCurrentPiece(newPiece);\n        // Generate next piece (will be overridden by blockchain if available)\n        const newNextPieceType = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.getRandomPieceType)();\n        setNextPieceType(newNextPieceType);\n        setNextPieceFromBlockchain(false);\n    }, [\n        board,\n        nextPieceType\n    ]);\n    // Move piece\n    const movePiece = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((deltaX, deltaY)=>{\n        if (!currentPiece || gameOver || isPaused) return false;\n        const newX = currentPiece.x + deltaX;\n        const newY = currentPiece.y + deltaY;\n        if ((0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.isValidMove)(board, currentPiece.shape, newX, newY)) {\n            setCurrentPiece((prev)=>({\n                    ...prev,\n                    x: newX,\n                    y: newY\n                }));\n            return true;\n        }\n        return false;\n    }, [\n        currentPiece,\n        board,\n        gameOver,\n        isPaused\n    ]);\n    // Rotate piece\n    const rotatePieceHandler = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!currentPiece || gameOver || isPaused) return;\n        const rotatedShape = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.rotatePiece)(currentPiece.shape);\n        if ((0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.isValidMove)(board, rotatedShape, currentPiece.x, currentPiece.y)) {\n            setCurrentPiece((prev)=>({\n                    ...prev,\n                    shape: rotatedShape,\n                    rotation: (prev.rotation + 90) % 360\n                }));\n        }\n    }, [\n        currentPiece,\n        board,\n        gameOver,\n        isPaused\n    ]);\n    // Hard drop\n    const hardDrop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!currentPiece || gameOver || isPaused) return;\n        let newY = currentPiece.y;\n        while((0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.isValidMove)(board, currentPiece.shape, currentPiece.x, newY + 1)){\n            newY++;\n        }\n        setCurrentPiece((prev)=>({\n                ...prev,\n                y: newY\n            }));\n        // Trigger immediate placement\n        setTimeout(()=>{\n            if (currentPiece) {\n                lockPiece();\n            }\n        }, 50);\n    }, [\n        currentPiece,\n        board,\n        gameOver,\n        isPaused\n    ]);\n    // Lock piece in place\n    const lockPiece = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!currentPiece) return;\n        const newBoard = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.placePiece)(board, currentPiece.shape, currentPiece.x, currentPiece.y, currentPiece.type);\n        const { board: clearedBoard, linesCleared } = (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.clearLines)(newBoard);\n        setBoard(clearedBoard);\n        setLines((prev)=>prev + linesCleared);\n        setScore((prev)=>prev + (0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.calculateScore)(linesCleared, level));\n        // Level up every 10 lines\n        const newLines = lines + linesCleared;\n        const newLevel = Math.floor(newLines / 10) + 1;\n        if (newLevel !== level) {\n            setLevel(newLevel);\n            dropTimeRef.current = Math.max(50, 1000 - (newLevel - 1) * 50);\n        }\n        spawnNewPiece();\n    }, [\n        currentPiece,\n        board,\n        lines,\n        level,\n        spawnNewPiece\n    ]);\n    // Game loop\n    const gameLoop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (gameOver || isPaused || !gameStarted) return;\n        const now = Date.now();\n        if (now - lastDropTime.current >= dropTimeRef.current) {\n            if (!movePiece(0, 1)) {\n                lockPiece();\n            }\n            lastDropTime.current = now;\n        }\n    }, [\n        gameOver,\n        isPaused,\n        gameStarted,\n        movePiece,\n        lockPiece\n    ]);\n    // Blockchain polling\n    const pollBlockchain = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (gameMode !== \"streamer\" || selectedRoom === null || !isRoomClaimed || gameOver) return;\n        console.log(\"Polling blockchain for room:\", selectedRoom);\n        try {\n            const data = await (0,_lib_solana__WEBPACK_IMPORTED_MODULE_5__.fetchRoomData)(selectedRoom);\n            console.log(\"Fetched room data:\", data);\n            setRoomData(data);\n            if (data.latest_chosen_piece !== undefined && data.latest_chosen_piece !== null) {\n                const blockchainPieceType = (0,_lib_solana__WEBPACK_IMPORTED_MODULE_5__.getPieceFromBlockchain)(data.latest_chosen_piece);\n                // Update next piece if we have a valid blockchain piece and it's different\n                if (blockchainPieceType && blockchainPieceType !== nextPieceType) {\n                    setNextPieceType(blockchainPieceType);\n                    setNextPieceFromBlockchain(true);\n                    console.log(\"Updated next piece from blockchain:\", blockchainPieceType);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error polling blockchain:\", error);\n        // Don't clear the next piece on error, keep existing one\n        }\n    }, [\n        selectedRoom,\n        isRoomClaimed,\n        gameMode,\n        nextPieceType,\n        gameOver\n    ]);\n    // Keyboard controls\n    const handleKeyPress = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        if (!gameStarted) {\n            if (event.key === \" \" || event.key === \"Enter\") {\n                initializeGame();\n            }\n            return;\n        }\n        switch(event.key.toLowerCase()){\n            case \"arrowleft\":\n                // case 'a':\n                event.preventDefault();\n                movePiece(-1, 0);\n                break;\n            case \"arrowright\":\n                // case 'd':\n                event.preventDefault();\n                movePiece(1, 0);\n                break;\n            case \"arrowdown\":\n                // case 's':\n                event.preventDefault();\n                if (movePiece(0, 1)) {\n                    setScore((prev)=>prev + 1);\n                }\n                break;\n            case \"arrowup\":\n                // case 'w':\n                event.preventDefault();\n                rotatePieceHandler();\n                break;\n            case \" \":\n                event.preventDefault();\n                hardDrop();\n                break;\n        }\n    }, [\n        gameStarted,\n        movePiece,\n        rotatePieceHandler,\n        hardDrop,\n        gameOver,\n        initializeGame\n    ]);\n    // Setup intervals\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        gameLoopRef.current = setInterval(gameLoop, 16); // ~60fps\n        return ()=>clearInterval(gameLoopRef.current);\n    }, [\n        gameLoop\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameMode === \"streamer\" && selectedRoom !== null && isRoomClaimed) {\n            console.log(\"Starting blockchain polling for room:\", selectedRoom);\n            blockchainPollRef.current = setInterval(pollBlockchain, 2000);\n            // Call immediately once\n            pollBlockchain();\n            return ()=>{\n                console.log(\"Stopping blockchain polling\");\n                clearInterval(blockchainPollRef.current);\n            };\n        }\n    }, [\n        pollBlockchain,\n        selectedRoom,\n        isRoomClaimed,\n        gameMode\n    ]);\n    // Event listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        window.addEventListener(\"keydown\", handleKeyPress);\n        return ()=>window.removeEventListener(\"keydown\", handleKeyPress);\n    }, [\n        handleKeyPress\n    ]);\n    // Notify parent of game state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (onGameStarted) {\n            onGameStarted(gameStarted);\n        }\n    }, [\n        gameStarted,\n        onGameStarted\n    ]);\n    // Initialize first piece when game starts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameStarted && !currentPiece && !gameOver) {\n            spawnNewPiece();\n        }\n    }, [\n        gameStarted,\n        currentPiece,\n        gameOver,\n        spawnNewPiece\n    ]);\n    // Ensure next piece is always set\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (gameStarted && !nextPieceType) {\n            setNextPieceType((0,_lib_tetris__WEBPACK_IMPORTED_MODULE_4__.getRandomPieceType)());\n            setNextPieceFromBlockchain(false);\n        }\n    }, [\n        gameStarted,\n        nextPieceType\n    ]);\n    const isNormalMode = gameMode === \"normal\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `flex ${isNormalMode ? \"flex-col items-center\" : \"h-full\"}`,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `flex gap-4 ${isNormalMode ? \"items-start\" : \"flex-1 items-start\"}`,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `flex ${isNormalMode ? \"justify-center\" : \"flex-1 justify-center\"} relative`,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GameBoard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            board: board,\n                            currentPiece: currentPiece,\n                            gameOver: gameOver\n                        }, void 0, false, {\n                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                            lineNumber: 279,\n                            columnNumber: 11\n                        }, undefined),\n                        !gameStarted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center rounded-lg\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-white text-xl font-bold mb-2\",\n                                        children: gameOver ? \"Game Over!\" : \"Tetris\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                        lineNumber: 289,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-gray-300 text-sm\",\n                                        children: \"Press SPACE or ENTER to start\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                        lineNumber: 292,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                lineNumber: 288,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                            lineNumber: 287,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                    lineNumber: 278,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-40\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_NextPiece__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            pieceType: nextPieceType,\n                            fromBlockchain: nextPieceFromBlockchain\n                        }, void 0, false, {\n                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                            lineNumber: 301,\n                            columnNumber: 11\n                        }, undefined),\n                        gameMode === \"streamer\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-gray-800 p-3 rounded-lg border border-gray-600 mt-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-white text-xs font-semibold mb-2\",\n                                    children: \"Room Info\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                    lineNumber: 309,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-gray-400 space-y-1\",\n                                    children: !roomData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-yellow-400\",\n                                        children: \"Loading room data...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                        lineNumber: 312,\n                                        columnNumber: 19\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \"Last Buyer:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                                lineNumber: 315,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-white font-mono text-xs break-all\",\n                                                children: roomData.last_buyer ? `${roomData.last_buyer.slice(0, 8)}...` : \"None\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                                lineNumber: 316,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-gray-400\",\n                                                children: [\n                                                    \"Latest Piece: \",\n                                                    roomData.latest_chosen_piece !== null ? (0,_lib_solana__WEBPACK_IMPORTED_MODULE_5__.getPieceFromBlockchain)(roomData.latest_chosen_piece) : \"None\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                                lineNumber: 322,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-gray-400\",\n                                                children: [\n                                                    \"Exists: \",\n                                                    roomData.exists ? \"Yes\" : \"No\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                                lineNumber: 326,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-gray-400\",\n                                                children: roomData.timestamp ? new Date(roomData.timestamp * 1000).toLocaleTimeString() : \"No timestamp\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                                lineNumber: 329,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true)\n                                }, void 0, false, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                                    lineNumber: 310,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                            lineNumber: 308,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n                    lineNumber: 300,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n            lineNumber: 277,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/game/TetrisGame.jsx\",\n        lineNumber: 275,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TetrisGame);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNFLDhEQUFDRDswREFBSTs7Ozs7OzBEQUNMLDhEQUFDQTtnREFBSUMsV0FBVTswREFDWjdELFNBQVNnRSxVQUFVLEdBQ2xCLENBQUMsRUFBRWhFLFNBQVNnRSxVQUFVLENBQUNDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQ3ZDOzs7Ozs7MERBR0osOERBQUNMO2dEQUFJQyxXQUFVOztvREFBZ0I7b0RBQ2Q3RCxTQUFTNkMsbUJBQW1CLEtBQUssT0FDOUN2RSxtRUFBc0JBLENBQUMwQixTQUFTNkMsbUJBQW1CLElBQUk7Ozs7Ozs7MERBRTNELDhEQUFDZTtnREFBSUMsV0FBVTs7b0RBQWdCO29EQUNwQjdELFNBQVNrRSxNQUFNLEdBQUcsUUFBUTs7Ozs7OzswREFFckMsOERBQUNOO2dEQUFJQyxXQUFVOzBEQUNaN0QsU0FBU21FLFNBQVMsR0FDakIsSUFBSTdELEtBQUtOLFNBQVNtRSxTQUFTLEdBQUcsTUFBTUMsa0JBQWtCLEtBQ3REOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFheEI7QUFFQSxpRUFBZTdGLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXRyaXMtc3RyZWFtZXItYXBwLy4vY29tcG9uZW50cy9nYW1lL1RldHJpc0dhbWUuanN4PzgzYWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgR2FtZUJvYXJkIGZyb20gJy4vR2FtZUJvYXJkJztcbmltcG9ydCBOZXh0UGllY2UgZnJvbSAnLi9OZXh0UGllY2UnO1xuaW1wb3J0IHtcbiAgY3JlYXRlQm9hcmQsXG4gIHJvdGF0ZVBpZWNlLFxuICBpc1ZhbGlkTW92ZSxcbiAgcGxhY2VQaWVjZSxcbiAgY2xlYXJMaW5lcyxcbiAgY2FsY3VsYXRlU2NvcmUsXG4gIGdldFJhbmRvbVBpZWNlVHlwZSxcbiAgY3JlYXRlUGllY2VTdGF0ZSxcbiAgUElFQ0VTXG59IGZyb20gJy4uLy4uL2xpYi90ZXRyaXMnO1xuaW1wb3J0IHsgZmV0Y2hSb29tRGF0YSwgZ2V0UGllY2VGcm9tQmxvY2tjaGFpbiB9IGZyb20gJy4uLy4uL2xpYi9zb2xhbmEnO1xuXG5jb25zdCBUZXRyaXNHYW1lID0gKHsgc2VsZWN0ZWRSb29tLCBpc1Jvb21DbGFpbWVkLCBnYW1lTW9kZSA9ICdub3JtYWwnLCBvbkdhbWVTdGFydGVkIH0pID0+IHtcbiAgY29uc3QgW2JvYXJkLCBzZXRCb2FyZF0gPSB1c2VTdGF0ZShjcmVhdGVCb2FyZCgpKTtcbiAgY29uc3QgW2N1cnJlbnRQaWVjZSwgc2V0Q3VycmVudFBpZWNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbmV4dFBpZWNlVHlwZSwgc2V0TmV4dFBpZWNlVHlwZV0gPSB1c2VTdGF0ZShnZXRSYW5kb21QaWVjZVR5cGUoKSk7XG4gIGNvbnN0IFtzY29yZSwgc2V0U2NvcmVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtsaW5lcywgc2V0TGluZXNdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtsZXZlbCwgc2V0TGV2ZWxdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtnYW1lT3Zlciwgc2V0R2FtZU92ZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNQYXVzZWQsIHNldElzUGF1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2dhbWVTdGFydGVkLCBzZXRHYW1lU3RhcnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtuZXh0UGllY2VGcm9tQmxvY2tjaGFpbiwgc2V0TmV4dFBpZWNlRnJvbUJsb2NrY2hhaW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcm9vbURhdGEsIHNldFJvb21EYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGNvbnN0IGdhbWVMb29wUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IGJsb2NrY2hhaW5Qb2xsUmVmID0gdXNlUmVmKCk7XG4gIGNvbnN0IGRyb3BUaW1lUmVmID0gdXNlUmVmKDEwMDApO1xuICBjb25zdCBsYXN0RHJvcFRpbWUgPSB1c2VSZWYoRGF0ZS5ub3coKSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBnYW1lXG4gIGNvbnN0IGluaXRpYWxpemVHYW1lID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG5ld0JvYXJkID0gY3JlYXRlQm9hcmQoKTtcbiAgICBjb25zdCBmaXJzdFBpZWNlVHlwZSA9IGdldFJhbmRvbVBpZWNlVHlwZSgpO1xuICAgIGNvbnN0IG5ld05leHRQaWVjZVR5cGUgPSBnZXRSYW5kb21QaWVjZVR5cGUoKTtcbiAgICBjb25zdCBmaXJzdFBpZWNlID0gY3JlYXRlUGllY2VTdGF0ZShmaXJzdFBpZWNlVHlwZSk7XG4gICAgXG4gICAgc2V0Qm9hcmQobmV3Qm9hcmQpO1xuICAgIHNldEN1cnJlbnRQaWVjZShmaXJzdFBpZWNlKTtcbiAgICBzZXROZXh0UGllY2VUeXBlKG5ld05leHRQaWVjZVR5cGUpO1xuICAgIHNldE5leHRQaWVjZUZyb21CbG9ja2NoYWluKGZhbHNlKTtcbiAgICBzZXRTY29yZSgwKTtcbiAgICBzZXRMaW5lcygwKTtcbiAgICBzZXRMZXZlbCgxKTtcbiAgICBzZXRHYW1lT3ZlcihmYWxzZSk7XG4gICAgc2V0R2FtZVN0YXJ0ZWQodHJ1ZSk7XG4gICAgbGFzdERyb3BUaW1lLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICB9LCBbXSk7XG5cbiAgLy8gU3Bhd24gbmV3IHBpZWNlXG4gIGNvbnN0IHNwYXduTmV3UGllY2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgcGllY2VUeXBlID0gbmV4dFBpZWNlVHlwZTtcbiAgICBjb25zdCBuZXdQaWVjZSA9IGNyZWF0ZVBpZWNlU3RhdGUocGllY2VUeXBlKTtcbiAgICBcbiAgICBpZiAoIWlzVmFsaWRNb3ZlKGJvYXJkLCBuZXdQaWVjZS5zaGFwZSwgbmV3UGllY2UueCwgbmV3UGllY2UueSkpIHtcbiAgICAgIHNldEdhbWVPdmVyKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRDdXJyZW50UGllY2UobmV3UGllY2UpO1xuICAgIC8vIEdlbmVyYXRlIG5leHQgcGllY2UgKHdpbGwgYmUgb3ZlcnJpZGRlbiBieSBibG9ja2NoYWluIGlmIGF2YWlsYWJsZSlcbiAgICBjb25zdCBuZXdOZXh0UGllY2VUeXBlID0gZ2V0UmFuZG9tUGllY2VUeXBlKCk7XG4gICAgc2V0TmV4dFBpZWNlVHlwZShuZXdOZXh0UGllY2VUeXBlKTtcbiAgICBzZXROZXh0UGllY2VGcm9tQmxvY2tjaGFpbihmYWxzZSk7XG4gIH0sIFtib2FyZCwgbmV4dFBpZWNlVHlwZV0pO1xuXG4gIC8vIE1vdmUgcGllY2VcbiAgY29uc3QgbW92ZVBpZWNlID0gdXNlQ2FsbGJhY2soKGRlbHRhWCwgZGVsdGFZKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50UGllY2UgfHwgZ2FtZU92ZXIgfHwgaXNQYXVzZWQpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjb25zdCBuZXdYID0gY3VycmVudFBpZWNlLnggKyBkZWx0YVg7XG4gICAgY29uc3QgbmV3WSA9IGN1cnJlbnRQaWVjZS55ICsgZGVsdGFZO1xuICAgIFxuICAgIGlmIChpc1ZhbGlkTW92ZShib2FyZCwgY3VycmVudFBpZWNlLnNoYXBlLCBuZXdYLCBuZXdZKSkge1xuICAgICAgc2V0Q3VycmVudFBpZWNlKHByZXYgPT4gKHsgLi4ucHJldiwgeDogbmV3WCwgeTogbmV3WSB9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LCBbY3VycmVudFBpZWNlLCBib2FyZCwgZ2FtZU92ZXIsIGlzUGF1c2VkXSk7XG5cbiAgLy8gUm90YXRlIHBpZWNlXG4gIGNvbnN0IHJvdGF0ZVBpZWNlSGFuZGxlciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRQaWVjZSB8fCBnYW1lT3ZlciB8fCBpc1BhdXNlZCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHJvdGF0ZWRTaGFwZSA9IHJvdGF0ZVBpZWNlKGN1cnJlbnRQaWVjZS5zaGFwZSk7XG4gICAgXG4gICAgaWYgKGlzVmFsaWRNb3ZlKGJvYXJkLCByb3RhdGVkU2hhcGUsIGN1cnJlbnRQaWVjZS54LCBjdXJyZW50UGllY2UueSkpIHtcbiAgICAgIHNldEN1cnJlbnRQaWVjZShwcmV2ID0+ICh7IFxuICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgc2hhcGU6IHJvdGF0ZWRTaGFwZSwgXG4gICAgICAgIHJvdGF0aW9uOiAocHJldi5yb3RhdGlvbiArIDkwKSAlIDM2MCBcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIFtjdXJyZW50UGllY2UsIGJvYXJkLCBnYW1lT3ZlciwgaXNQYXVzZWRdKTtcblxuICAvLyBIYXJkIGRyb3BcbiAgY29uc3QgaGFyZERyb3AgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50UGllY2UgfHwgZ2FtZU92ZXIgfHwgaXNQYXVzZWQpIHJldHVybjtcbiAgICBcbiAgICBsZXQgbmV3WSA9IGN1cnJlbnRQaWVjZS55O1xuICAgIHdoaWxlIChpc1ZhbGlkTW92ZShib2FyZCwgY3VycmVudFBpZWNlLnNoYXBlLCBjdXJyZW50UGllY2UueCwgbmV3WSArIDEpKSB7XG4gICAgICBuZXdZKys7XG4gICAgfVxuICAgIFxuICAgIHNldEN1cnJlbnRQaWVjZShwcmV2ID0+ICh7IC4uLnByZXYsIHk6IG5ld1kgfSkpO1xuICAgIC8vIFRyaWdnZXIgaW1tZWRpYXRlIHBsYWNlbWVudFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRQaWVjZSkge1xuICAgICAgICBsb2NrUGllY2UoKTtcbiAgICAgIH1cbiAgICB9LCA1MCk7XG4gIH0sIFtjdXJyZW50UGllY2UsIGJvYXJkLCBnYW1lT3ZlciwgaXNQYXVzZWRdKTtcblxuICAvLyBMb2NrIHBpZWNlIGluIHBsYWNlXG4gIGNvbnN0IGxvY2tQaWVjZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRQaWVjZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG5ld0JvYXJkID0gcGxhY2VQaWVjZShib2FyZCwgY3VycmVudFBpZWNlLnNoYXBlLCBjdXJyZW50UGllY2UueCwgY3VycmVudFBpZWNlLnksIGN1cnJlbnRQaWVjZS50eXBlKTtcbiAgICBjb25zdCB7IGJvYXJkOiBjbGVhcmVkQm9hcmQsIGxpbmVzQ2xlYXJlZCB9ID0gY2xlYXJMaW5lcyhuZXdCb2FyZCk7XG4gICAgXG4gICAgc2V0Qm9hcmQoY2xlYXJlZEJvYXJkKTtcbiAgICBzZXRMaW5lcyhwcmV2ID0+IHByZXYgKyBsaW5lc0NsZWFyZWQpO1xuICAgIHNldFNjb3JlKHByZXYgPT4gcHJldiArIGNhbGN1bGF0ZVNjb3JlKGxpbmVzQ2xlYXJlZCwgbGV2ZWwpKTtcbiAgICBcbiAgICAvLyBMZXZlbCB1cCBldmVyeSAxMCBsaW5lc1xuICAgIGNvbnN0IG5ld0xpbmVzID0gbGluZXMgKyBsaW5lc0NsZWFyZWQ7XG4gICAgY29uc3QgbmV3TGV2ZWwgPSBNYXRoLmZsb29yKG5ld0xpbmVzIC8gMTApICsgMTtcbiAgICBpZiAobmV3TGV2ZWwgIT09IGxldmVsKSB7XG4gICAgICBzZXRMZXZlbChuZXdMZXZlbCk7XG4gICAgICBkcm9wVGltZVJlZi5jdXJyZW50ID0gTWF0aC5tYXgoNTAsIDEwMDAgLSAobmV3TGV2ZWwgLSAxKSAqIDUwKTtcbiAgICB9XG4gICAgXG4gICAgc3Bhd25OZXdQaWVjZSgpO1xuICB9LCBbY3VycmVudFBpZWNlLCBib2FyZCwgbGluZXMsIGxldmVsLCBzcGF3bk5ld1BpZWNlXSk7XG5cbiAgLy8gR2FtZSBsb29wXG4gIGNvbnN0IGdhbWVMb29wID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChnYW1lT3ZlciB8fCBpc1BhdXNlZCB8fCAhZ2FtZVN0YXJ0ZWQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChub3cgLSBsYXN0RHJvcFRpbWUuY3VycmVudCA+PSBkcm9wVGltZVJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAoIW1vdmVQaWVjZSgwLCAxKSkge1xuICAgICAgICBsb2NrUGllY2UoKTtcbiAgICAgIH1cbiAgICAgIGxhc3REcm9wVGltZS5jdXJyZW50ID0gbm93O1xuICAgIH1cbiAgfSwgW2dhbWVPdmVyLCBpc1BhdXNlZCwgZ2FtZVN0YXJ0ZWQsIG1vdmVQaWVjZSwgbG9ja1BpZWNlXSk7XG5cbiAgLy8gQmxvY2tjaGFpbiBwb2xsaW5nXG4gIGNvbnN0IHBvbGxCbG9ja2NoYWluID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChnYW1lTW9kZSAhPT0gJ3N0cmVhbWVyJyB8fCBzZWxlY3RlZFJvb20gPT09IG51bGwgfHwgIWlzUm9vbUNsYWltZWQgfHwgZ2FtZU92ZXIpIHJldHVybjtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnUG9sbGluZyBibG9ja2NoYWluIGZvciByb29tOicsIHNlbGVjdGVkUm9vbSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaFJvb21EYXRhKHNlbGVjdGVkUm9vbSk7XG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hlZCByb29tIGRhdGE6JywgZGF0YSk7XG4gICAgICBzZXRSb29tRGF0YShkYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEubGF0ZXN0X2Nob3Nlbl9waWVjZSAhPT0gdW5kZWZpbmVkICYmIGRhdGEubGF0ZXN0X2Nob3Nlbl9waWVjZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBibG9ja2NoYWluUGllY2VUeXBlID0gZ2V0UGllY2VGcm9tQmxvY2tjaGFpbihkYXRhLmxhdGVzdF9jaG9zZW5fcGllY2UpO1xuICAgICAgICAvLyBVcGRhdGUgbmV4dCBwaWVjZSBpZiB3ZSBoYXZlIGEgdmFsaWQgYmxvY2tjaGFpbiBwaWVjZSBhbmQgaXQncyBkaWZmZXJlbnRcbiAgICAgICAgaWYgKGJsb2NrY2hhaW5QaWVjZVR5cGUgJiYgYmxvY2tjaGFpblBpZWNlVHlwZSAhPT0gbmV4dFBpZWNlVHlwZSkge1xuICAgICAgICAgIHNldE5leHRQaWVjZVR5cGUoYmxvY2tjaGFpblBpZWNlVHlwZSk7XG4gICAgICAgICAgc2V0TmV4dFBpZWNlRnJvbUJsb2NrY2hhaW4odHJ1ZSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0ZWQgbmV4dCBwaWVjZSBmcm9tIGJsb2NrY2hhaW46JywgYmxvY2tjaGFpblBpZWNlVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcG9sbGluZyBibG9ja2NoYWluOicsIGVycm9yKTtcbiAgICAgIC8vIERvbid0IGNsZWFyIHRoZSBuZXh0IHBpZWNlIG9uIGVycm9yLCBrZWVwIGV4aXN0aW5nIG9uZVxuICAgIH1cbiAgfSwgW3NlbGVjdGVkUm9vbSwgaXNSb29tQ2xhaW1lZCwgZ2FtZU1vZGUsIG5leHRQaWVjZVR5cGUsIGdhbWVPdmVyXSk7XG5cbiAgLy8gS2V5Ym9hcmQgY29udHJvbHNcbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICBpZiAoIWdhbWVTdGFydGVkKSB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnICcgfHwgZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgIGluaXRpYWxpemVHYW1lKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHN3aXRjaCAoZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgJ2Fycm93bGVmdCc6XG4gICAgICAvLyBjYXNlICdhJzpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbW92ZVBpZWNlKC0xLCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhcnJvd3JpZ2h0JzpcbiAgICAgIC8vIGNhc2UgJ2QnOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBtb3ZlUGllY2UoMSwgMCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYXJyb3dkb3duJzpcbiAgICAgIC8vIGNhc2UgJ3MnOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAobW92ZVBpZWNlKDAsIDEpKSB7XG4gICAgICAgICAgc2V0U2NvcmUocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhcnJvd3VwJzpcbiAgICAgIC8vIGNhc2UgJ3cnOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByb3RhdGVQaWVjZUhhbmRsZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaGFyZERyb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBjYXNlICdwJzpcbiAgICAgIC8vICAgc2V0SXNQYXVzZWQocHJldiA9PiAhcHJldik7XG4gICAgICAvLyAgIGJyZWFrO1xuICAgICAgLy8gY2FzZSAncic6XG4gICAgICAvLyAgIGlmIChnYW1lT3Zlcikge1xuICAgICAgLy8gICAgIGluaXRpYWxpemVHYW1lKCk7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vICAgYnJlYWs7XG4gICAgfVxuICB9LCBbZ2FtZVN0YXJ0ZWQsIG1vdmVQaWVjZSwgcm90YXRlUGllY2VIYW5kbGVyLCBoYXJkRHJvcCwgZ2FtZU92ZXIsIGluaXRpYWxpemVHYW1lXSk7XG5cbiAgLy8gU2V0dXAgaW50ZXJ2YWxzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZ2FtZUxvb3BSZWYuY3VycmVudCA9IHNldEludGVydmFsKGdhbWVMb29wLCAxNik7IC8vIH42MGZwc1xuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGdhbWVMb29wUmVmLmN1cnJlbnQpO1xuICB9LCBbZ2FtZUxvb3BdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnYW1lTW9kZSA9PT0gJ3N0cmVhbWVyJyAmJiBzZWxlY3RlZFJvb20gIT09IG51bGwgJiYgaXNSb29tQ2xhaW1lZCkge1xuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGJsb2NrY2hhaW4gcG9sbGluZyBmb3Igcm9vbTonLCBzZWxlY3RlZFJvb20pO1xuICAgICAgYmxvY2tjaGFpblBvbGxSZWYuY3VycmVudCA9IHNldEludGVydmFsKHBvbGxCbG9ja2NoYWluLCAyMDAwKTtcbiAgICAgIC8vIENhbGwgaW1tZWRpYXRlbHkgb25jZVxuICAgICAgcG9sbEJsb2NrY2hhaW4oKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTdG9wcGluZyBibG9ja2NoYWluIHBvbGxpbmcnKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChibG9ja2NoYWluUG9sbFJlZi5jdXJyZW50KTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbcG9sbEJsb2NrY2hhaW4sIHNlbGVjdGVkUm9vbSwgaXNSb29tQ2xhaW1lZCwgZ2FtZU1vZGVdKTtcblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleVByZXNzKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlQcmVzcyk7XG4gIH0sIFtoYW5kbGVLZXlQcmVzc10pO1xuXG4gIC8vIE5vdGlmeSBwYXJlbnQgb2YgZ2FtZSBzdGF0ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG9uR2FtZVN0YXJ0ZWQpIHtcbiAgICAgIG9uR2FtZVN0YXJ0ZWQoZ2FtZVN0YXJ0ZWQpO1xuICAgIH1cbiAgfSwgW2dhbWVTdGFydGVkLCBvbkdhbWVTdGFydGVkXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBmaXJzdCBwaWVjZSB3aGVuIGdhbWUgc3RhcnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdhbWVTdGFydGVkICYmICFjdXJyZW50UGllY2UgJiYgIWdhbWVPdmVyKSB7XG4gICAgICBzcGF3bk5ld1BpZWNlKCk7XG4gICAgfVxuICB9LCBbZ2FtZVN0YXJ0ZWQsIGN1cnJlbnRQaWVjZSwgZ2FtZU92ZXIsIHNwYXduTmV3UGllY2VdKTtcblxuICAvLyBFbnN1cmUgbmV4dCBwaWVjZSBpcyBhbHdheXMgc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdhbWVTdGFydGVkICYmICFuZXh0UGllY2VUeXBlKSB7XG4gICAgICBzZXROZXh0UGllY2VUeXBlKGdldFJhbmRvbVBpZWNlVHlwZSgpKTtcbiAgICAgIHNldE5leHRQaWVjZUZyb21CbG9ja2NoYWluKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtnYW1lU3RhcnRlZCwgbmV4dFBpZWNlVHlwZV0pO1xuXG4gIGNvbnN0IGlzTm9ybWFsTW9kZSA9IGdhbWVNb2RlID09PSAnbm9ybWFsJztcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCAke2lzTm9ybWFsTW9kZSA/ICdmbGV4LWNvbCBpdGVtcy1jZW50ZXInIDogJ2gtZnVsbCd9YH0+XG4gICAgICB7LyogR2FtZSBCb2FyZCBhbmQgTmV4dCBQaWVjZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBnYXAtNCAke2lzTm9ybWFsTW9kZSA/ICdpdGVtcy1zdGFydCcgOiAnZmxleC0xIGl0ZW1zLXN0YXJ0J31gfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4ICR7aXNOb3JtYWxNb2RlID8gJ2p1c3RpZnktY2VudGVyJyA6ICdmbGV4LTEganVzdGlmeS1jZW50ZXInfSByZWxhdGl2ZWB9PlxuICAgICAgICAgIDxHYW1lQm9hcmQgXG4gICAgICAgICAgICBib2FyZD17Ym9hcmR9IFxuICAgICAgICAgICAgY3VycmVudFBpZWNlPXtjdXJyZW50UGllY2V9IFxuICAgICAgICAgICAgZ2FtZU92ZXI9e2dhbWVPdmVyfSBcbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBTdGFydCBHYW1lIE92ZXJsYXkgKi99XG4gICAgICAgICAgeyFnYW1lU3RhcnRlZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS03MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14bCBmb250LWJvbGQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAge2dhbWVPdmVyID8gJ0dhbWUgT3ZlciEnIDogJ1RldHJpcyd9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIFByZXNzIFNQQUNFIG9yIEVOVEVSIHRvIHN0YXJ0XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNDBcIj5cbiAgICAgICAgICA8TmV4dFBpZWNlIFxuICAgICAgICAgICAgcGllY2VUeXBlPXtuZXh0UGllY2VUeXBlfSBcbiAgICAgICAgICAgIGZyb21CbG9ja2NoYWluPXtuZXh0UGllY2VGcm9tQmxvY2tjaGFpbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBCbG9ja2NoYWluIEluZm8gLSBvbmx5IGluIHN0cmVhbWVyIG1vZGUgKi99XG4gICAgICAgICAge2dhbWVNb2RlID09PSAnc3RyZWFtZXInICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC0zIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCBtdC0zXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteHMgZm9udC1zZW1pYm9sZCBtYi0yXCI+Um9vbSBJbmZvPC9oMz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgeyFyb29tRGF0YSA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwXCI+TG9hZGluZyByb29tIGRhdGEuLi48L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5MYXN0IEJ1eWVyOjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1tb25vIHRleHQteHMgYnJlYWstYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3Jvb21EYXRhLmxhc3RfYnV5ZXIgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke3Jvb21EYXRhLmxhc3RfYnV5ZXIuc2xpY2UoMCwgOCl9Li4uYCA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgJ05vbmUnXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgTGF0ZXN0IFBpZWNlOiB7cm9vbURhdGEubGF0ZXN0X2Nob3Nlbl9waWVjZSAhPT0gbnVsbCA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UGllY2VGcm9tQmxvY2tjaGFpbihyb29tRGF0YS5sYXRlc3RfY2hvc2VuX3BpZWNlKSA6ICdOb25lJ31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIEV4aXN0czoge3Jvb21EYXRhLmV4aXN0cyA/ICdZZXMnIDogJ05vJ31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtyb29tRGF0YS50aW1lc3RhbXAgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKHJvb21EYXRhLnRpbWVzdGFtcCAqIDEwMDApLnRvTG9jYWxlVGltZVN0cmluZygpIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAnTm8gdGltZXN0YW1wJ1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRldHJpc0dhbWU7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsIkdhbWVCb2FyZCIsIk5leHRQaWVjZSIsImNyZWF0ZUJvYXJkIiwicm90YXRlUGllY2UiLCJpc1ZhbGlkTW92ZSIsInBsYWNlUGllY2UiLCJjbGVhckxpbmVzIiwiY2FsY3VsYXRlU2NvcmUiLCJnZXRSYW5kb21QaWVjZVR5cGUiLCJjcmVhdGVQaWVjZVN0YXRlIiwiUElFQ0VTIiwiZmV0Y2hSb29tRGF0YSIsImdldFBpZWNlRnJvbUJsb2NrY2hhaW4iLCJUZXRyaXNHYW1lIiwic2VsZWN0ZWRSb29tIiwiaXNSb29tQ2xhaW1lZCIsImdhbWVNb2RlIiwib25HYW1lU3RhcnRlZCIsImJvYXJkIiwic2V0Qm9hcmQiLCJjdXJyZW50UGllY2UiLCJzZXRDdXJyZW50UGllY2UiLCJuZXh0UGllY2VUeXBlIiwic2V0TmV4dFBpZWNlVHlwZSIsInNjb3JlIiwic2V0U2NvcmUiLCJsaW5lcyIsInNldExpbmVzIiwibGV2ZWwiLCJzZXRMZXZlbCIsImdhbWVPdmVyIiwic2V0R2FtZU92ZXIiLCJpc1BhdXNlZCIsInNldElzUGF1c2VkIiwiZ2FtZVN0YXJ0ZWQiLCJzZXRHYW1lU3RhcnRlZCIsIm5leHRQaWVjZUZyb21CbG9ja2NoYWluIiwic2V0TmV4dFBpZWNlRnJvbUJsb2NrY2hhaW4iLCJyb29tRGF0YSIsInNldFJvb21EYXRhIiwiZ2FtZUxvb3BSZWYiLCJibG9ja2NoYWluUG9sbFJlZiIsImRyb3BUaW1lUmVmIiwibGFzdERyb3BUaW1lIiwiRGF0ZSIsIm5vdyIsImluaXRpYWxpemVHYW1lIiwibmV3Qm9hcmQiLCJmaXJzdFBpZWNlVHlwZSIsIm5ld05leHRQaWVjZVR5cGUiLCJmaXJzdFBpZWNlIiwiY3VycmVudCIsInNwYXduTmV3UGllY2UiLCJwaWVjZVR5cGUiLCJuZXdQaWVjZSIsInNoYXBlIiwieCIsInkiLCJtb3ZlUGllY2UiLCJkZWx0YVgiLCJkZWx0YVkiLCJuZXdYIiwibmV3WSIsInByZXYiLCJyb3RhdGVQaWVjZUhhbmRsZXIiLCJyb3RhdGVkU2hhcGUiLCJyb3RhdGlvbiIsImhhcmREcm9wIiwic2V0VGltZW91dCIsImxvY2tQaWVjZSIsInR5cGUiLCJjbGVhcmVkQm9hcmQiLCJsaW5lc0NsZWFyZWQiLCJuZXdMaW5lcyIsIm5ld0xldmVsIiwiTWF0aCIsImZsb29yIiwibWF4IiwiZ2FtZUxvb3AiLCJwb2xsQmxvY2tjaGFpbiIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwibGF0ZXN0X2Nob3Nlbl9waWVjZSIsInVuZGVmaW5lZCIsImJsb2NrY2hhaW5QaWVjZVR5cGUiLCJlcnJvciIsImhhbmRsZUtleVByZXNzIiwiZXZlbnQiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsInByZXZlbnREZWZhdWx0Iiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc05vcm1hbE1vZGUiLCJkaXYiLCJjbGFzc05hbWUiLCJmcm9tQmxvY2tjaGFpbiIsImgzIiwibGFzdF9idXllciIsInNsaWNlIiwiZXhpc3RzIiwidGltZXN0YW1wIiwidG9Mb2NhbGVUaW1lU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/game/TetrisGame.jsx\n");

/***/ }),

/***/ "./lib/solana.js":
/*!***********************!*\
  !*** ./lib/solana.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEV_WALLET: () => (/* binding */ DEV_WALLET),\n/* harmony export */   InitializeButton: () => (/* binding */ InitializeButton),\n/* harmony export */   PIECE_PRICE: () => (/* binding */ PIECE_PRICE),\n/* harmony export */   PROGRAM_ID: () => (/* binding */ PROGRAM_ID),\n/* harmony export */   ROOMS_COUNT: () => (/* binding */ ROOMS_COUNT),\n/* harmony export */   claimRoom: () => (/* binding */ claimRoom),\n/* harmony export */   connection: () => (/* binding */ connection),\n/* harmony export */   fetchRoomData: () => (/* binding */ fetchRoomData),\n/* harmony export */   getAvailableRooms: () => (/* binding */ getAvailableRooms),\n/* harmony export */   getConfigPDA: () => (/* binding */ getConfigPDA),\n/* harmony export */   getPieceFromBlockchain: () => (/* binding */ getPieceFromBlockchain),\n/* harmony export */   getPiecePriceFromConfig: () => (/* binding */ getPiecePriceFromConfig),\n/* harmony export */   getRoomPDA: () => (/* binding */ getRoomPDA),\n/* harmony export */   isAppInitialized: () => (/* binding */ isAppInitialized),\n/* harmony export */   isRoomExpired: () => (/* binding */ isRoomExpired)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_createClaimRoomInstruction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/createClaimRoomInstruction */ \"./utils/createClaimRoomInstruction.ts\");\n/* harmony import */ var _utils_program__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/program */ \"./utils/program.ts\");\n/* harmony import */ var _solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/wallet-adapter-react */ \"@solana/wallet-adapter-react\");\n/* harmony import */ var _utils_createInitializeInstruction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/createInitializeInstruction */ \"./utils/createInitializeInstruction.ts\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_7__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__]);\n_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n// Program constants\nconst PROGRAM_ID = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(\"FHbWQGzgrdKnuZcp4bLhE2GdwzxrGciWKUegW42yj33h\"); // Replace with actual program ID\nconst DEV_WALLET = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(\"3eBER4Ed9z91SVFbRxEsqrVBfohsgukMz4go1vqTdzfo\");\nconst PIECE_PRICE = 1000000; // 0.001 SOL in lamports\nconst ROOMS_COUNT = 10;\n// Connection setup - use localhost for development\nconst connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Connection(\"http://localhost:8899\", \"confirmed\");\n// Get room PDA (Program Derived Address)\nfunction getRoomPDA(roomId) {\n    const [roomPDA] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_7__.Buffer.from(\"room\"),\n        buffer__WEBPACK_IMPORTED_MODULE_7__.Buffer.from([\n            roomId\n        ])\n    ], PROGRAM_ID);\n    return roomPDA;\n}\n// Check if room is expired (2+ minutes old)\nfunction isRoomExpired(timestamp) {\n    if (!timestamp) return false;\n    const currentTime = Math.floor(Date.now() / 1000);\n    const timeDiff = currentTime - timestamp;\n    return timeDiff >= 120; // 120 seconds = 2 minutes\n}\n// Fetch room data from blockchain\nasync function fetchRoomData(roomId) {\n    try {\n        const roomPDA = getRoomPDA(roomId);\n        // Use the same connection as the rest of the app\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        try {\n            const roomAccount = await program.account.room.fetch(roomPDA);\n            console.log(\"roomAccount: \", roomAccount);\n            return {\n                exists: true,\n                latest_chosen_piece: roomAccount.latestChosenPiece,\n                last_buyer: roomAccount.lastBuyer.toString(),\n                timestamp: roomAccount.timestamp.toNumber(),\n                room_name: roomAccount.roomName,\n                stream_url: roomAccount.streamUrl,\n                owner: roomAccount.playerWallet.toString(),\n                expired: isRoomExpired(roomAccount.timestamp.toNumber())\n            };\n        } catch (fetchError) {\n            // Room doesn't exist\n            return {\n                exists: false,\n                latest_chosen_piece: Math.floor(Math.random() * 7),\n                last_buyer: null,\n                timestamp: 0,\n                room_name: \"\",\n                stream_url: \"\",\n                owner: null,\n                expired: false\n            };\n        }\n    } catch (error) {\n        console.error(\"Error fetching room data:\", error);\n        return {\n            exists: false,\n            latest_chosen_piece: Math.floor(Math.random() * 7),\n            last_buyer: null,\n            timestamp: 0,\n            room_name: \"\",\n            stream_url: \"\",\n            owner: null,\n            expired: false\n        };\n    }\n}\n// Claim room function\nasync function claimRoom(wallet, roomId, roomName, streamUrl) {\n    if (!wallet.connected || !wallet.publicKey) {\n        throw new Error(\"Wallet not connected\");\n    }\n    try {\n        // Create transaction\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Transaction();\n        console.log(\"Creating program instance\");\n        // Create a provider with the wallet using the global connection\n        const provider = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__.AnchorProvider(connection, wallet, _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__.AnchorProvider.defaultOptions());\n        // Set the provider\n        _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__.setProvider(provider);\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        console.log(\"Program created with provider\");\n        // Add your program instruction here\n        const instruction = await (0,_utils_createClaimRoomInstruction__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(program, roomId, roomName, streamUrl, wallet.publicKey // program enforces max 200 chars\n        );\n        console.log(\"instruction: \", instruction);\n        transaction.add(instruction);\n        const signature = await wallet.sendTransaction(transaction, connection);\n        await connection.confirmTransaction(signature, \"confirmed\");\n        return signature;\n    } catch (error) {\n        console.error(\"Error claiming room:\", error);\n        throw error;\n    }\n}\n// Convert blockchain piece ID to Tetris piece type\nfunction getPieceFromBlockchain(pieceId) {\n    const pieces = [\n        \"I\",\n        \"O\",\n        \"T\",\n        \"S\",\n        \"Z\",\n        \"J\",\n        \"L\"\n    ];\n    return pieces[pieceId % 7];\n}\n// Get available rooms\nasync function getAvailableRooms() {\n    const rooms = [];\n    for(let i = 0; i < ROOMS_COUNT; i++){\n        const roomData = await fetchRoomData(i);\n        rooms.push({\n            id: i,\n            ...roomData\n        });\n    }\n    return rooms;\n}\n// Get config PDA (Program Derived Address)\nfunction getConfigPDA() {\n    const [configPDA] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_7__.Buffer.from(\"config\")\n    ], PROGRAM_ID);\n    return configPDA;\n}\n// Check if the app is initialized by checking if config account exists\nasync function isAppInitialized() {\n    try {\n        const configPDA = getConfigPDA();\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        try {\n            await program.account.config.fetch(configPDA);\n            return true; // Config account exists, app is initialized\n        } catch (error) {\n            // Config account doesn't exist, app is not initialized\n            return false;\n        }\n    } catch (error) {\n        console.error(\"Error checking if app is initialized:\", error);\n        return false; // Assume not initialized on error\n    }\n}\n// Get piece price from config account\nasync function getPiecePriceFromConfig() {\n    try {\n        const configPDA = getConfigPDA();\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        try {\n            const configAccount = await program.account.config.fetch(configPDA);\n            console.log(\"configPDA: \", configAccount);\n            return configAccount.piecePrice.toNumber(); // Convert BN to number\n        } catch (error) {\n            console.error(\"Error fetching config account:\", error);\n            return PIECE_PRICE; // Fallback to hardcoded value\n        }\n    } catch (error) {\n        console.error(\"Error getting piece price from config:\", error);\n        return PIECE_PRICE; // Fallback to hardcoded value\n    }\n}\nfunction InitializeButton() {\n    const { connection } = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__.useConnection)();\n    const { wallet, sendTransaction } = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__.useWallet)();\n    const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n    const onClick = async ()=>{\n        if (!wallet) throw new Error(\"Connect wallet first\");\n        console.log(\"wallet: \", wallet);\n        console.log(\"wallet.publicKey: \", wallet.adapter.publicKey.toBase58());\n        const ix = await (0,_utils_createInitializeInstruction__WEBPACK_IMPORTED_MODULE_6__.createInitializeInstruction)(program, DEV_WALLET, wallet.adapter.publicKey);\n        const tx = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Transaction().add(ix);\n        try {\n            const sig = await sendTransaction(tx, connection);\n            console.log(\"tx:\", sig);\n        } catch (err) {\n            console.log(\"error: \", err);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: onClick,\n        children: \"Initialize App\"\n    }, void 0, false, {\n        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/lib/solana.js\",\n        lineNumber: 229,\n        columnNumber: 10\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxFQUFFWSxlQUFlLEVBQUUsR0FBRzNELHVFQUFTQTtJQUM3QyxNQUFNc0IsVUFBVXhCLDBEQUFXQSxDQUFDUztJQUM1QixNQUFNdUUsVUFBVTtRQUNkLElBQUksQ0FBQy9CLFFBQVEsTUFBTSxJQUFJRyxNQUFNO1FBQzdCdkIsUUFBUUMsR0FBRyxDQUFDLFlBQVltQjtRQUN4QnBCLFFBQVFDLEdBQUcsQ0FBQyxzQkFBcUJtQixPQUFPZ0MsT0FBTyxDQUFDOUIsU0FBUyxDQUFDK0IsUUFBUTtRQUNsRSxNQUFNQyxLQUFLLE1BQU1oRiwrRkFBMkJBLENBQzFDcUIsU0FDQWxCLFlBQ0EyQyxPQUFPZ0MsT0FBTyxDQUFDOUIsU0FBUztRQUcxQixNQUFNaUMsS0FBSyxJQUFJdkYsd0RBQVdBLEdBQUc4RCxHQUFHLENBQUN3QjtRQUNqQyxJQUFJO1lBQ0YsTUFBTUUsTUFBTSxNQUFNeEIsZ0JBQWdCdUIsSUFBSTNFO1lBQ3RDb0IsUUFBUUMsR0FBRyxDQUFDLE9BQU91RDtRQUNyQixFQUFFLE9BQU9DLEtBQUs7WUFDWnpELFFBQVFDLEdBQUcsQ0FBQyxXQUFVd0Q7UUFDeEI7SUFDRjtJQUVBLHFCQUFPLDhEQUFDQztRQUFPUCxTQUFTQTtrQkFBUzs7Ozs7O0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL2xpYi9zb2xhbmEuanM/NDcwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb25uZWN0aW9uLFxuICBjbHVzdGVyQXBpVXJsLFxuICBQdWJsaWNLZXksXG4gIFRyYW5zYWN0aW9uLFxufSBmcm9tICdAc29sYW5hL3dlYjMuanMnO1xuaW1wb3J0ICogYXMgYW5jaG9yIGZyb20gJ0Bjb3JhbC14eXovYW5jaG9yJztcbmltcG9ydCBjcmVhdGVDbGFpbVJvb21JbnN0cnVjdGlvbiBmcm9tICcuLi91dGlscy9jcmVhdGVDbGFpbVJvb21JbnN0cnVjdGlvbic7XG5pbXBvcnQgcHJvZ3JhbUhvb2sgZnJvbSAnLi4vdXRpbHMvcHJvZ3JhbSc7XG5pbXBvcnQgeyB1c2VDb25uZWN0aW9uLCB1c2VXYWxsZXQgfSBmcm9tICdAc29sYW5hL3dhbGxldC1hZGFwdGVyLXJlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUluaXRpYWxpemVJbnN0cnVjdGlvbiB9IGZyb20gJy4uL3V0aWxzL2NyZWF0ZUluaXRpYWxpemVJbnN0cnVjdGlvbic7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuLy8gUHJvZ3JhbSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBQUk9HUkFNX0lEID0gbmV3IFB1YmxpY0tleShcbiAgJ0ZIYldRR3pncmRLbnVaY3A0YkxoRTJHZHd6eHJHY2lXS1VlZ1c0MnlqMzNoJ1xuKTsgLy8gUmVwbGFjZSB3aXRoIGFjdHVhbCBwcm9ncmFtIElEXG5leHBvcnQgY29uc3QgREVWX1dBTExFVCA9IG5ldyBQdWJsaWNLZXkoXG4gICczZUJFUjRFZDl6OTFTVkZiUnhFc3FyVkJmb2hzZ3VrTXo0Z28xdnFUZHpmbydcbilcbmV4cG9ydCBjb25zdCBQSUVDRV9QUklDRSA9IDFfMDAwXzAwMDsgLy8gMC4wMDEgU09MIGluIGxhbXBvcnRzXG5leHBvcnQgY29uc3QgUk9PTVNfQ09VTlQgPSAxMDtcblxuLy8gQ29ubmVjdGlvbiBzZXR1cCAtIHVzZSBsb2NhbGhvc3QgZm9yIGRldmVsb3BtZW50XG5leHBvcnQgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBDb25uZWN0aW9uKCdodHRwOi8vbG9jYWxob3N0Ojg4OTknLCAnY29uZmlybWVkJyk7XG5cbi8vIEdldCByb29tIFBEQSAoUHJvZ3JhbSBEZXJpdmVkIEFkZHJlc3MpXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9vbVBEQShyb29tSWQpIHtcbiAgY29uc3QgW3Jvb21QREFdID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW0J1ZmZlci5mcm9tKCdyb29tJyksIEJ1ZmZlci5mcm9tKFtyb29tSWRdKV0sXG4gICAgUFJPR1JBTV9JRFxuICApO1xuICByZXR1cm4gcm9vbVBEQTtcbn1cblxuLy8gQ2hlY2sgaWYgcm9vbSBpcyBleHBpcmVkICgyKyBtaW51dGVzIG9sZClcbmV4cG9ydCBmdW5jdGlvbiBpc1Jvb21FeHBpcmVkKHRpbWVzdGFtcCkge1xuICBpZiAoIXRpbWVzdGFtcCkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICBjb25zdCB0aW1lRGlmZiA9IGN1cnJlbnRUaW1lIC0gdGltZXN0YW1wO1xuICByZXR1cm4gdGltZURpZmYgPj0gMTIwOyAvLyAxMjAgc2Vjb25kcyA9IDIgbWludXRlc1xufVxuXG4vLyBGZXRjaCByb29tIGRhdGEgZnJvbSBibG9ja2NoYWluXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSb29tRGF0YShyb29tSWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByb29tUERBID0gZ2V0Um9vbVBEQShyb29tSWQpO1xuICAgIFxuICAgIC8vIFVzZSB0aGUgc2FtZSBjb25uZWN0aW9uIGFzIHRoZSByZXN0IG9mIHRoZSBhcHBcbiAgICBjb25zdCBwcm9ncmFtID0gcHJvZ3JhbUhvb2soY29ubmVjdGlvbik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgcm9vbUFjY291bnQgPSBhd2FpdCBwcm9ncmFtLmFjY291bnQucm9vbS5mZXRjaChyb29tUERBKTtcbiAgICAgIGNvbnNvbGUubG9nKCdyb29tQWNjb3VudDogJywgcm9vbUFjY291bnQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXhpc3RzOiB0cnVlLFxuICAgICAgICBsYXRlc3RfY2hvc2VuX3BpZWNlOiByb29tQWNjb3VudC5sYXRlc3RDaG9zZW5QaWVjZSxcbiAgICAgICAgbGFzdF9idXllcjogcm9vbUFjY291bnQubGFzdEJ1eWVyLnRvU3RyaW5nKCksXG4gICAgICAgIHRpbWVzdGFtcDogcm9vbUFjY291bnQudGltZXN0YW1wLnRvTnVtYmVyKCksXG4gICAgICAgIHJvb21fbmFtZTogcm9vbUFjY291bnQucm9vbU5hbWUsXG4gICAgICAgIHN0cmVhbV91cmw6IHJvb21BY2NvdW50LnN0cmVhbVVybCxcbiAgICAgICAgb3duZXI6IHJvb21BY2NvdW50LnBsYXllcldhbGxldC50b1N0cmluZygpLFxuICAgICAgICBleHBpcmVkOiBpc1Jvb21FeHBpcmVkKHJvb21BY2NvdW50LnRpbWVzdGFtcC50b051bWJlcigpKSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZmV0Y2hFcnJvcikge1xuICAgICAgLy8gUm9vbSBkb2Vzbid0IGV4aXN0XG4gICAgICByZXR1cm4ge1xuICAgICAgICBleGlzdHM6IGZhbHNlLFxuICAgICAgICBsYXRlc3RfY2hvc2VuX3BpZWNlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KSxcbiAgICAgICAgbGFzdF9idXllcjogbnVsbCxcbiAgICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgICByb29tX25hbWU6ICcnLFxuICAgICAgICBzdHJlYW1fdXJsOiAnJyxcbiAgICAgICAgb3duZXI6IG51bGwsXG4gICAgICAgIGV4cGlyZWQ6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcm9vbSBkYXRhOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgZXhpc3RzOiBmYWxzZSxcbiAgICAgIGxhdGVzdF9jaG9zZW5fcGllY2U6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpLFxuICAgICAgbGFzdF9idXllcjogbnVsbCxcbiAgICAgIHRpbWVzdGFtcDogMCxcbiAgICAgIHJvb21fbmFtZTogJycsXG4gICAgICBzdHJlYW1fdXJsOiAnJyxcbiAgICAgIG93bmVyOiBudWxsLFxuICAgICAgZXhwaXJlZDogZmFsc2UsXG4gICAgfTtcbiAgfVxufVxuXG4vLyBDbGFpbSByb29tIGZ1bmN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xhaW1Sb29tKHdhbGxldCwgcm9vbUlkLCByb29tTmFtZSwgc3RyZWFtVXJsKSB7XG4gIGlmICghd2FsbGV0LmNvbm5lY3RlZCB8fCAhd2FsbGV0LnB1YmxpY0tleSkge1xuICAgIHRocm93IG5ldyBFcnJvcignV2FsbGV0IG5vdCBjb25uZWN0ZWQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHRyYW5zYWN0aW9uXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oKTtcblxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBwcm9ncmFtIGluc3RhbmNlJyk7XG5cbiAgICAvLyBDcmVhdGUgYSBwcm92aWRlciB3aXRoIHRoZSB3YWxsZXQgdXNpbmcgdGhlIGdsb2JhbCBjb25uZWN0aW9uXG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgYW5jaG9yLkFuY2hvclByb3ZpZGVyKFxuICAgICAgY29ubmVjdGlvbixcbiAgICAgIHdhbGxldCxcbiAgICAgIGFuY2hvci5BbmNob3JQcm92aWRlci5kZWZhdWx0T3B0aW9ucygpXG4gICAgKTtcbiAgICBcbiAgICAvLyBTZXQgdGhlIHByb3ZpZGVyXG4gICAgYW5jaG9yLnNldFByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICBcbiAgICBjb25zdCBwcm9ncmFtID0gcHJvZ3JhbUhvb2soY29ubmVjdGlvbik7XG5cbiAgICBjb25zb2xlLmxvZygnUHJvZ3JhbSBjcmVhdGVkIHdpdGggcHJvdmlkZXInKTtcblxuICAgIC8vIEFkZCB5b3VyIHByb2dyYW0gaW5zdHJ1Y3Rpb24gaGVyZVxuICAgIGNvbnN0IGluc3RydWN0aW9uID0gYXdhaXQgY3JlYXRlQ2xhaW1Sb29tSW5zdHJ1Y3Rpb24oXG4gICAgICBwcm9ncmFtLFxuICAgICAgcm9vbUlkLCAvLyBVc2UgdGhlIGFjdHVhbCByb29tSWQgcGFyYW1ldGVyXG4gICAgICByb29tTmFtZSwgLy8gcHJvZ3JhbSBlbmZvcmNlcyBtYXggNTAgY2hhcnNcbiAgICAgIHN0cmVhbVVybCxcbiAgICAgIHdhbGxldC5wdWJsaWNLZXkgLy8gcHJvZ3JhbSBlbmZvcmNlcyBtYXggMjAwIGNoYXJzXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZygnaW5zdHJ1Y3Rpb246ICcsIGluc3RydWN0aW9uKTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoaW5zdHJ1Y3Rpb24pO1xuXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgd2FsbGV0LnNlbmRUcmFuc2FjdGlvbih0cmFuc2FjdGlvbiwgY29ubmVjdGlvbik7XG4gICAgYXdhaXQgY29ubmVjdGlvbi5jb25maXJtVHJhbnNhY3Rpb24oc2lnbmF0dXJlLCAnY29uZmlybWVkJyk7XG5cbiAgICByZXR1cm4gc2lnbmF0dXJlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsYWltaW5nIHJvb206JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIENvbnZlcnQgYmxvY2tjaGFpbiBwaWVjZSBJRCB0byBUZXRyaXMgcGllY2UgdHlwZVxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpZWNlRnJvbUJsb2NrY2hhaW4ocGllY2VJZCkge1xuICBjb25zdCBwaWVjZXMgPSBbJ0knLCAnTycsICdUJywgJ1MnLCAnWicsICdKJywgJ0wnXTtcbiAgcmV0dXJuIHBpZWNlc1twaWVjZUlkICUgN107XG59XG5cbi8vIEdldCBhdmFpbGFibGUgcm9vbXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdmFpbGFibGVSb29tcygpIHtcbiAgY29uc3Qgcm9vbXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBST09NU19DT1VOVDsgaSsrKSB7XG4gICAgY29uc3Qgcm9vbURhdGEgPSBhd2FpdCBmZXRjaFJvb21EYXRhKGkpO1xuICAgIHJvb21zLnB1c2goe1xuICAgICAgaWQ6IGksXG4gICAgICAuLi5yb29tRGF0YSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcm9vbXM7XG59XG5cbi8vIEdldCBjb25maWcgUERBIChQcm9ncmFtIERlcml2ZWQgQWRkcmVzcylcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25maWdQREEoKSB7XG4gIGNvbnN0IFtjb25maWdQREFdID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW0J1ZmZlci5mcm9tKCdjb25maWcnKV0sXG4gICAgUFJPR1JBTV9JRFxuICApO1xuICByZXR1cm4gY29uZmlnUERBO1xufVxuXG4vLyBDaGVjayBpZiB0aGUgYXBwIGlzIGluaXRpYWxpemVkIGJ5IGNoZWNraW5nIGlmIGNvbmZpZyBhY2NvdW50IGV4aXN0c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzQXBwSW5pdGlhbGl6ZWQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlnUERBID0gZ2V0Q29uZmlnUERBKCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHByb2dyYW1Ib29rKGNvbm5lY3Rpb24pO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwcm9ncmFtLmFjY291bnQuY29uZmlnLmZldGNoKGNvbmZpZ1BEQSk7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uZmlnIGFjY291bnQgZXhpc3RzLCBhcHAgaXMgaW5pdGlhbGl6ZWRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gQ29uZmlnIGFjY291bnQgZG9lc24ndCBleGlzdCwgYXBwIGlzIG5vdCBpbml0aWFsaXplZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBpZiBhcHAgaXMgaW5pdGlhbGl6ZWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gQXNzdW1lIG5vdCBpbml0aWFsaXplZCBvbiBlcnJvclxuICB9XG59XG5cbi8vIEdldCBwaWVjZSBwcmljZSBmcm9tIGNvbmZpZyBhY2NvdW50XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGllY2VQcmljZUZyb21Db25maWcoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlnUERBID0gZ2V0Q29uZmlnUERBKCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHByb2dyYW1Ib29rKGNvbm5lY3Rpb24pO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25maWdBY2NvdW50ID0gYXdhaXQgcHJvZ3JhbS5hY2NvdW50LmNvbmZpZy5mZXRjaChjb25maWdQREEpO1xuICAgICAgY29uc29sZS5sb2coJ2NvbmZpZ1BEQTogJywgY29uZmlnQWNjb3VudCk7XG4gICAgICByZXR1cm4gY29uZmlnQWNjb3VudC5waWVjZVByaWNlLnRvTnVtYmVyKCk7IC8vIENvbnZlcnQgQk4gdG8gbnVtYmVyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbmZpZyBhY2NvdW50OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBQSUVDRV9QUklDRTsgLy8gRmFsbGJhY2sgdG8gaGFyZGNvZGVkIHZhbHVlXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcGllY2UgcHJpY2UgZnJvbSBjb25maWc6JywgZXJyb3IpO1xuICAgIHJldHVybiBQSUVDRV9QUklDRTsgLy8gRmFsbGJhY2sgdG8gaGFyZGNvZGVkIHZhbHVlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEluaXRpYWxpemVCdXR0b24oKSB7XG4gIGNvbnN0IHsgY29ubmVjdGlvbiB9ID0gdXNlQ29ubmVjdGlvbigpO1xuICBjb25zdCB7IHdhbGxldCwgc2VuZFRyYW5zYWN0aW9uIH0gPSB1c2VXYWxsZXQoKTtcbiAgY29uc3QgcHJvZ3JhbSA9IHByb2dyYW1Ib29rKGNvbm5lY3Rpb24pO1xuICBjb25zdCBvbkNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2FsbGV0KSB0aHJvdyBuZXcgRXJyb3IoJ0Nvbm5lY3Qgd2FsbGV0IGZpcnN0Jyk7XG4gICAgY29uc29sZS5sb2coJ3dhbGxldDogJywgd2FsbGV0KTtcbiAgICBjb25zb2xlLmxvZygnd2FsbGV0LnB1YmxpY0tleTogJyx3YWxsZXQuYWRhcHRlci5wdWJsaWNLZXkudG9CYXNlNTgoKSlcbiAgICBjb25zdCBpeCA9IGF3YWl0IGNyZWF0ZUluaXRpYWxpemVJbnN0cnVjdGlvbihcbiAgICAgIHByb2dyYW0sXG4gICAgICBERVZfV0FMTEVULFxuICAgICAgd2FsbGV0LmFkYXB0ZXIucHVibGljS2V5XG4gICAgKTtcblxuICAgIGNvbnN0IHR4ID0gbmV3IFRyYW5zYWN0aW9uKCkuYWRkKGl4KTtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2lnID0gYXdhaXQgc2VuZFRyYW5zYWN0aW9uKHR4LCBjb25uZWN0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCd0eDonLCBzaWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnLGVycilcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIDxidXR0b24gb25DbGljaz17b25DbGlja30+SW5pdGlhbGl6ZSBBcHA8L2J1dHRvbj47XG59XG4iXSwibmFtZXMiOlsiQ29ubmVjdGlvbiIsImNsdXN0ZXJBcGlVcmwiLCJQdWJsaWNLZXkiLCJUcmFuc2FjdGlvbiIsImFuY2hvciIsImNyZWF0ZUNsYWltUm9vbUluc3RydWN0aW9uIiwicHJvZ3JhbUhvb2siLCJ1c2VDb25uZWN0aW9uIiwidXNlV2FsbGV0IiwiY3JlYXRlSW5pdGlhbGl6ZUluc3RydWN0aW9uIiwiQnVmZmVyIiwiUFJPR1JBTV9JRCIsIkRFVl9XQUxMRVQiLCJQSUVDRV9QUklDRSIsIlJPT01TX0NPVU5UIiwiY29ubmVjdGlvbiIsImdldFJvb21QREEiLCJyb29tSWQiLCJyb29tUERBIiwiZmluZFByb2dyYW1BZGRyZXNzU3luYyIsImZyb20iLCJpc1Jvb21FeHBpcmVkIiwidGltZXN0YW1wIiwiY3VycmVudFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwidGltZURpZmYiLCJmZXRjaFJvb21EYXRhIiwicHJvZ3JhbSIsInJvb21BY2NvdW50IiwiYWNjb3VudCIsInJvb20iLCJmZXRjaCIsImNvbnNvbGUiLCJsb2ciLCJleGlzdHMiLCJsYXRlc3RfY2hvc2VuX3BpZWNlIiwibGF0ZXN0Q2hvc2VuUGllY2UiLCJsYXN0X2J1eWVyIiwibGFzdEJ1eWVyIiwidG9TdHJpbmciLCJ0b051bWJlciIsInJvb21fbmFtZSIsInJvb21OYW1lIiwic3RyZWFtX3VybCIsInN0cmVhbVVybCIsIm93bmVyIiwicGxheWVyV2FsbGV0IiwiZXhwaXJlZCIsImZldGNoRXJyb3IiLCJyYW5kb20iLCJlcnJvciIsImNsYWltUm9vbSIsIndhbGxldCIsImNvbm5lY3RlZCIsInB1YmxpY0tleSIsIkVycm9yIiwidHJhbnNhY3Rpb24iLCJwcm92aWRlciIsIkFuY2hvclByb3ZpZGVyIiwiZGVmYXVsdE9wdGlvbnMiLCJzZXRQcm92aWRlciIsImluc3RydWN0aW9uIiwiYWRkIiwic2lnbmF0dXJlIiwic2VuZFRyYW5zYWN0aW9uIiwiY29uZmlybVRyYW5zYWN0aW9uIiwiZ2V0UGllY2VGcm9tQmxvY2tjaGFpbiIsInBpZWNlSWQiLCJwaWVjZXMiLCJnZXRBdmFpbGFibGVSb29tcyIsInJvb21zIiwiaSIsInJvb21EYXRhIiwicHVzaCIsImlkIiwiZ2V0Q29uZmlnUERBIiwiY29uZmlnUERBIiwiaXNBcHBJbml0aWFsaXplZCIsImNvbmZpZyIsImdldFBpZWNlUHJpY2VGcm9tQ29uZmlnIiwiY29uZmlnQWNjb3VudCIsInBpZWNlUHJpY2UiLCJJbml0aWFsaXplQnV0dG9uIiwib25DbGljayIsImFkYXB0ZXIiLCJ0b0Jhc2U1OCIsIml4IiwidHgiLCJzaWciLCJlcnIiLCJidXR0b24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/solana.js\n");

/***/ }),

/***/ "./lib/tetris.js":
/*!***********************!*\
  !*** ./lib/tetris.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BOARD_HEIGHT: () => (/* binding */ BOARD_HEIGHT),\n/* harmony export */   BOARD_WIDTH: () => (/* binding */ BOARD_WIDTH),\n/* harmony export */   PIECES: () => (/* binding */ PIECES),\n/* harmony export */   calculateScore: () => (/* binding */ calculateScore),\n/* harmony export */   clearLines: () => (/* binding */ clearLines),\n/* harmony export */   createBoard: () => (/* binding */ createBoard),\n/* harmony export */   createPieceState: () => (/* binding */ createPieceState),\n/* harmony export */   getGhostPiecePosition: () => (/* binding */ getGhostPiecePosition),\n/* harmony export */   getRandomPieceType: () => (/* binding */ getRandomPieceType),\n/* harmony export */   isValidMove: () => (/* binding */ isValidMove),\n/* harmony export */   placePiece: () => (/* binding */ placePiece),\n/* harmony export */   rotatePiece: () => (/* binding */ rotatePiece)\n/* harmony export */ });\n// Tetris game constants\nconst BOARD_WIDTH = 15;\nconst BOARD_HEIGHT = 16;\n// Tetris pieces definitions\nconst PIECES = {\n    I: {\n        shape: [\n            [\n                1,\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-cyan-400\"\n    },\n    O: {\n        shape: [\n            [\n                1,\n                1\n            ],\n            [\n                1,\n                1\n            ]\n        ],\n        color: \"bg-yellow-400\"\n    },\n    T: {\n        shape: [\n            [\n                0,\n                1,\n                0\n            ],\n            [\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-purple-400\"\n    },\n    S: {\n        shape: [\n            [\n                0,\n                1,\n                1\n            ],\n            [\n                1,\n                1,\n                0\n            ]\n        ],\n        color: \"bg-green-400\"\n    },\n    Z: {\n        shape: [\n            [\n                1,\n                1,\n                0\n            ],\n            [\n                0,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-red-400\"\n    },\n    J: {\n        shape: [\n            [\n                1,\n                0,\n                0\n            ],\n            [\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-blue-400\"\n    },\n    L: {\n        shape: [\n            [\n                0,\n                0,\n                1\n            ],\n            [\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-orange-400\"\n    }\n};\n// Create empty board\nfunction createBoard() {\n    const b = Array(BOARD_HEIGHT).fill(null).map(()=>Array(BOARD_WIDTH).fill(0));\n    return b;\n}\n// Rotate piece 90 degrees clockwise\nfunction rotatePiece(piece) {\n    const rotated = piece[0].map((_, index)=>piece.map((row)=>row[index]).reverse());\n    return rotated;\n}\n// Check if piece placement is valid\nfunction isValidMove(board, piece, x, y) {\n    for(let py = 0; py < piece.length; py++){\n        for(let px = 0; px < piece[py].length; px++){\n            if (piece[py][px]) {\n                const newX = x + px;\n                const newY = y + py;\n                // Check boundaries\n                if (newX < 0 || newX >= BOARD_WIDTH || newY >= BOARD_HEIGHT) {\n                    return false;\n                }\n                // Check collision with existing pieces\n                if (newY >= 0 && board[newY][newX]) {\n                    return false;\n                }\n            }\n        }\n    }\n    return true;\n}\n// Place piece on board\nfunction placePiece(board, piece, x, y, pieceType) {\n    const newBoard = board.map((row)=>[\n            ...row\n        ]);\n    for(let py = 0; py < piece.length; py++){\n        for(let px = 0; px < piece[py].length; px++){\n            if (piece[py][px]) {\n                const newY = y + py;\n                const newX = x + px;\n                if (newY >= 0) {\n                    newBoard[newY][newX] = pieceType;\n                }\n            }\n        }\n    }\n    return newBoard;\n}\n// Clear completed lines\nfunction clearLines(board) {\n    let linesCleared = 0;\n    const newBoard = [];\n    for(let y = 0; y < BOARD_HEIGHT; y++){\n        if (board[y].some((cell)=>cell === 0)) {\n            newBoard.push([\n                ...board[y]\n            ]);\n        } else {\n            linesCleared++;\n        }\n    }\n    // Add empty lines at the top\n    while(newBoard.length < BOARD_HEIGHT){\n        newBoard.unshift(Array(BOARD_WIDTH).fill(0));\n    }\n    return {\n        board: newBoard,\n        linesCleared\n    };\n}\n// Calculate score\nfunction calculateScore(lines, level) {\n    const baseScores = [\n        0,\n        40,\n        100,\n        300,\n        1200\n    ];\n    return baseScores[lines] * (level + 1);\n}\n// Get random piece type\nfunction getRandomPieceType() {\n    const pieceTypes = Object.keys(PIECES);\n    return pieceTypes[Math.floor(Math.random() * pieceTypes.length)];\n}\n// Create piece state\nfunction createPieceState(pieceType, x = 3, y = 0) {\n    return {\n        type: pieceType,\n        shape: PIECES[pieceType].shape,\n        x,\n        y,\n        rotation: 0\n    };\n}\n// Get ghost piece position (where piece would land)\nfunction getGhostPiecePosition(board, piece) {\n    let ghostY = piece.y;\n    while(isValidMove(board, piece.shape, piece.x, ghostY + 1)){\n        ghostY++;\n    }\n    return ghostY;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBS0wsV0FBV2xCLE1BQU0sRUFBRTtBQUNsRTtBQUVBLHFCQUFxQjtBQUNkLFNBQVN3QixpQkFBaUJuQixTQUFTLEVBQUVSLElBQUksQ0FBQyxFQUFFQyxJQUFJLENBQUM7SUFDdEQsT0FBTztRQUNMMkIsTUFBTXBCO1FBQ045QixPQUFPRixNQUFNLENBQUNnQyxVQUFVLENBQUM5QixLQUFLO1FBQzlCc0I7UUFDQUM7UUFDQTRCLFVBQVU7SUFDWjtBQUNGO0FBRUEsb0RBQW9EO0FBQzdDLFNBQVNDLHNCQUFzQi9CLEtBQUssRUFBRVAsS0FBSztJQUNoRCxJQUFJdUMsU0FBU3ZDLE1BQU1TLENBQUM7SUFDcEIsTUFBT0gsWUFBWUMsT0FBT1AsTUFBTWQsS0FBSyxFQUFFYyxNQUFNUSxDQUFDLEVBQUUrQixTQUFTLEdBQUk7UUFDM0RBO0lBQ0Y7SUFDQSxPQUFPQTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL2xpYi90ZXRyaXMuanM/Njg4MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUZXRyaXMgZ2FtZSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBCT0FSRF9XSURUSCA9IDE1O1xuZXhwb3J0IGNvbnN0IEJPQVJEX0hFSUdIVCA9IDE2O1xuXG4vLyBUZXRyaXMgcGllY2VzIGRlZmluaXRpb25zXG5leHBvcnQgY29uc3QgUElFQ0VTID0ge1xuICBJOiB7XG4gICAgc2hhcGU6IFtbMSwgMSwgMSwgMV1dLFxuICAgIGNvbG9yOiAnYmctY3lhbi00MDAnXG4gIH0sXG4gIE86IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzEsIDFdLFxuICAgICAgWzEsIDFdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLXllbGxvdy00MDAnXG4gIH0sXG4gIFQ6IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzAsIDEsIDBdLFxuICAgICAgWzEsIDEsIDFdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLXB1cnBsZS00MDAnXG4gIH0sXG4gIFM6IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzAsIDEsIDFdLFxuICAgICAgWzEsIDEsIDBdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLWdyZWVuLTQwMCdcbiAgfSxcbiAgWjoge1xuICAgIHNoYXBlOiBbXG4gICAgICBbMSwgMSwgMF0sXG4gICAgICBbMCwgMSwgMV1cbiAgICBdLFxuICAgIGNvbG9yOiAnYmctcmVkLTQwMCdcbiAgfSxcbiAgSjoge1xuICAgIHNoYXBlOiBbXG4gICAgICBbMSwgMCwgMF0sXG4gICAgICBbMSwgMSwgMV1cbiAgICBdLFxuICAgIGNvbG9yOiAnYmctYmx1ZS00MDAnXG4gIH0sXG4gIEw6IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzAsIDAsIDFdLFxuICAgICAgWzEsIDEsIDFdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLW9yYW5nZS00MDAnXG4gIH1cbn07XG5cbi8vIENyZWF0ZSBlbXB0eSBib2FyZFxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJvYXJkKCkge1xuICBjb25zdCBiID0gQXJyYXkoQk9BUkRfSEVJR0hUKS5maWxsKG51bGwpLm1hcCgoKSA9PiBBcnJheShCT0FSRF9XSURUSCkuZmlsbCgwKSk7XG4gIHJldHVybiBiO1xufVxuXG4vLyBSb3RhdGUgcGllY2UgOTAgZGVncmVlcyBjbG9ja3dpc2VcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVQaWVjZShwaWVjZSkge1xuICBjb25zdCByb3RhdGVkID0gcGllY2VbMF0ubWFwKChfLCBpbmRleCkgPT5cbiAgICBwaWVjZS5tYXAocm93ID0+IHJvd1tpbmRleF0pLnJldmVyc2UoKVxuICApO1xuICByZXR1cm4gcm90YXRlZDtcbn1cblxuLy8gQ2hlY2sgaWYgcGllY2UgcGxhY2VtZW50IGlzIHZhbGlkXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZE1vdmUoYm9hcmQsIHBpZWNlLCB4LCB5KSB7XG4gIGZvciAobGV0IHB5ID0gMDsgcHkgPCBwaWVjZS5sZW5ndGg7IHB5KyspIHtcbiAgICBmb3IgKGxldCBweCA9IDA7IHB4IDwgcGllY2VbcHldLmxlbmd0aDsgcHgrKykge1xuICAgICAgaWYgKHBpZWNlW3B5XVtweF0pIHtcbiAgICAgICAgY29uc3QgbmV3WCA9IHggKyBweDtcbiAgICAgICAgY29uc3QgbmV3WSA9IHkgKyBweTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGJvdW5kYXJpZXNcbiAgICAgICAgaWYgKG5ld1ggPCAwIHx8IG5ld1ggPj0gQk9BUkRfV0lEVEggfHwgbmV3WSA+PSBCT0FSRF9IRUlHSFQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGNvbGxpc2lvbiB3aXRoIGV4aXN0aW5nIHBpZWNlc1xuICAgICAgICBpZiAobmV3WSA+PSAwICYmIGJvYXJkW25ld1ldW25ld1hdKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBQbGFjZSBwaWVjZSBvbiBib2FyZFxuZXhwb3J0IGZ1bmN0aW9uIHBsYWNlUGllY2UoYm9hcmQsIHBpZWNlLCB4LCB5LCBwaWVjZVR5cGUpIHtcbiAgY29uc3QgbmV3Qm9hcmQgPSBib2FyZC5tYXAocm93ID0+IFsuLi5yb3ddKTtcbiAgXG4gIGZvciAobGV0IHB5ID0gMDsgcHkgPCBwaWVjZS5sZW5ndGg7IHB5KyspIHtcbiAgICBmb3IgKGxldCBweCA9IDA7IHB4IDwgcGllY2VbcHldLmxlbmd0aDsgcHgrKykge1xuICAgICAgaWYgKHBpZWNlW3B5XVtweF0pIHtcbiAgICAgICAgY29uc3QgbmV3WSA9IHkgKyBweTtcbiAgICAgICAgY29uc3QgbmV3WCA9IHggKyBweDtcbiAgICAgICAgaWYgKG5ld1kgPj0gMCkge1xuICAgICAgICAgIG5ld0JvYXJkW25ld1ldW25ld1hdID0gcGllY2VUeXBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gbmV3Qm9hcmQ7XG59XG5cbi8vIENsZWFyIGNvbXBsZXRlZCBsaW5lc1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTGluZXMoYm9hcmQpIHtcbiAgbGV0IGxpbmVzQ2xlYXJlZCA9IDA7XG4gIGNvbnN0IG5ld0JvYXJkID0gW107XG4gIFxuICBmb3IgKGxldCB5ID0gMDsgeSA8IEJPQVJEX0hFSUdIVDsgeSsrKSB7XG4gICAgaWYgKGJvYXJkW3ldLnNvbWUoY2VsbCA9PiBjZWxsID09PSAwKSkge1xuICAgICAgbmV3Qm9hcmQucHVzaChbLi4uYm9hcmRbeV1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZXNDbGVhcmVkKys7XG4gICAgfVxuICB9XG4gIFxuICAvLyBBZGQgZW1wdHkgbGluZXMgYXQgdGhlIHRvcFxuICB3aGlsZSAobmV3Qm9hcmQubGVuZ3RoIDwgQk9BUkRfSEVJR0hUKSB7XG4gICAgbmV3Qm9hcmQudW5zaGlmdChBcnJheShCT0FSRF9XSURUSCkuZmlsbCgwKSk7XG4gIH1cbiAgXG4gIHJldHVybiB7IGJvYXJkOiBuZXdCb2FyZCwgbGluZXNDbGVhcmVkIH07XG59XG5cbi8vIENhbGN1bGF0ZSBzY29yZVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNjb3JlKGxpbmVzLCBsZXZlbCkge1xuICBjb25zdCBiYXNlU2NvcmVzID0gWzAsIDQwLCAxMDAsIDMwMCwgMTIwMF07XG4gIHJldHVybiBiYXNlU2NvcmVzW2xpbmVzXSAqIChsZXZlbCArIDEpO1xufVxuXG4vLyBHZXQgcmFuZG9tIHBpZWNlIHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21QaWVjZVR5cGUoKSB7XG4gIGNvbnN0IHBpZWNlVHlwZXMgPSBPYmplY3Qua2V5cyhQSUVDRVMpO1xuICByZXR1cm4gcGllY2VUeXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwaWVjZVR5cGVzLmxlbmd0aCldO1xufVxuXG4vLyBDcmVhdGUgcGllY2Ugc3RhdGVcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQaWVjZVN0YXRlKHBpZWNlVHlwZSwgeCA9IDMsIHkgPSAwKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogcGllY2VUeXBlLFxuICAgIHNoYXBlOiBQSUVDRVNbcGllY2VUeXBlXS5zaGFwZSxcbiAgICB4LFxuICAgIHksXG4gICAgcm90YXRpb246IDBcbiAgfTtcbn1cblxuLy8gR2V0IGdob3N0IHBpZWNlIHBvc2l0aW9uICh3aGVyZSBwaWVjZSB3b3VsZCBsYW5kKVxuZXhwb3J0IGZ1bmN0aW9uIGdldEdob3N0UGllY2VQb3NpdGlvbihib2FyZCwgcGllY2UpIHtcbiAgbGV0IGdob3N0WSA9IHBpZWNlLnk7XG4gIHdoaWxlIChpc1ZhbGlkTW92ZShib2FyZCwgcGllY2Uuc2hhcGUsIHBpZWNlLngsIGdob3N0WSArIDEpKSB7XG4gICAgZ2hvc3RZKys7XG4gIH1cbiAgcmV0dXJuIGdob3N0WTtcbn0iXSwibmFtZXMiOlsiQk9BUkRfV0lEVEgiLCJCT0FSRF9IRUlHSFQiLCJQSUVDRVMiLCJJIiwic2hhcGUiLCJjb2xvciIsIk8iLCJUIiwiUyIsIloiLCJKIiwiTCIsImNyZWF0ZUJvYXJkIiwiYiIsIkFycmF5IiwiZmlsbCIsIm1hcCIsInJvdGF0ZVBpZWNlIiwicGllY2UiLCJyb3RhdGVkIiwiXyIsImluZGV4Iiwicm93IiwicmV2ZXJzZSIsImlzVmFsaWRNb3ZlIiwiYm9hcmQiLCJ4IiwieSIsInB5IiwibGVuZ3RoIiwicHgiLCJuZXdYIiwibmV3WSIsInBsYWNlUGllY2UiLCJwaWVjZVR5cGUiLCJuZXdCb2FyZCIsImNsZWFyTGluZXMiLCJsaW5lc0NsZWFyZWQiLCJzb21lIiwiY2VsbCIsInB1c2giLCJ1bnNoaWZ0IiwiY2FsY3VsYXRlU2NvcmUiLCJsaW5lcyIsImxldmVsIiwiYmFzZVNjb3JlcyIsImdldFJhbmRvbVBpZWNlVHlwZSIsInBpZWNlVHlwZXMiLCJPYmplY3QiLCJrZXlzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY3JlYXRlUGllY2VTdGF0ZSIsInR5cGUiLCJyb3RhdGlvbiIsImdldEdob3N0UGllY2VQb3NpdGlvbiIsImdob3N0WSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/tetris.js\n");

/***/ }),

/***/ "./utils/createClaimRoomInstruction.ts":
/*!*********************************************!*\
  !*** ./utils/createClaimRoomInstruction.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ createClaimRoomInstruction)\n/* harmony export */ });\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function createClaimRoomInstruction(program, room_id, room_name, room_url, streamer) {\n    console.log(\"Creating claim room instruction\");\n    const [room] = _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(\"room\"),\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from([\n            room_id\n        ])\n    ], program.programId);\n    console.log(\"Room PDA:\", room.toString());\n    console.log(\"Program ID:\", program.programId.toString());\n    console.log(\"Streamer:\", streamer.toString());\n    try {\n        const instruction = await program.methods.claimRoom(room_id, room_name, room_url).accountsPartial({\n            room,\n            streamer,\n            systemProgram: _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.SystemProgram.programId\n        }) // Use 'as any' to bypass strict typing for now\n        .instruction();\n        console.log(\"Generated instruction:\", instruction);\n        console.log(\"Instruction program ID:\", instruction.programId?.toString());\n        return instruction;\n    } catch (error) {\n        console.error(\"Error creating instruction:\", error);\n        console.error(\"Error details:\", error.message);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9jcmVhdGVDbGFpbVJvb21JbnN0cnVjdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUU0QztBQUNaO0FBQ2pCLGVBQWVFLDJCQUM1QkMsT0FBd0MsRUFDeENDLE9BQWUsRUFDZkMsU0FBaUIsRUFDakJDLFFBQWdCLEVBQ2hCQyxRQUErQjtJQUUvQkMsUUFBUUMsR0FBRyxDQUFDO0lBRVosTUFBTSxDQUFDQyxLQUFLLEdBQUdWLG1EQUFXLENBQUNZLFNBQVMsQ0FBQ0Msc0JBQXNCLENBQ3pEO1FBQUNaLDBDQUFNQSxDQUFDYSxJQUFJLENBQUM7UUFBU2IsMENBQU1BLENBQUNhLElBQUksQ0FBQztZQUFDVjtTQUFRO0tBQUUsRUFDN0NELFFBQVFZLFNBQVM7SUFHbkJQLFFBQVFDLEdBQUcsQ0FBQyxhQUFhQyxLQUFLTSxRQUFRO0lBQ3RDUixRQUFRQyxHQUFHLENBQUMsZUFBZU4sUUFBUVksU0FBUyxDQUFDQyxRQUFRO0lBQ3JEUixRQUFRQyxHQUFHLENBQUMsYUFBYUYsU0FBU1MsUUFBUTtJQUUxQyxJQUFJO1FBQ0YsTUFBTUMsY0FBYyxNQUFNZCxRQUFRZSxPQUFPLENBQ3RDQyxTQUFTLENBQUNmLFNBQVNDLFdBQVdDLFVBQzlCYyxlQUFlLENBQUM7WUFDZlY7WUFDQUg7WUFDQWMsZUFBZXJCLG1EQUFXLENBQUNzQixhQUFhLENBQUNQLFNBQVM7UUFDcEQsR0FBSSwrQ0FBK0M7U0FDbERFLFdBQVc7UUFFZFQsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQlE7UUFDdENULFFBQVFDLEdBQUcsQ0FBQywyQkFBMkJRLFlBQVlGLFNBQVMsRUFBRUM7UUFFOUQsT0FBT0M7SUFDVCxFQUFFLE9BQU9NLE9BQU87UUFDZGYsUUFBUWUsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0NmLFFBQVFlLEtBQUssQ0FBQyxrQkFBa0JBLE1BQU1DLE9BQU87UUFDN0MsTUFBTUQ7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL3V0aWxzL2NyZWF0ZUNsYWltUm9vbUluc3RydWN0aW9uLnRzPzc0NjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGV0cmlzU3RyZWFtaW5nIH0gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCAqIGFzIGFuY2hvciBmcm9tICdAY29yYWwteHl6L2FuY2hvcic7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2xhaW1Sb29tSW5zdHJ1Y3Rpb24oXG4gIHByb2dyYW06IGFuY2hvci5Qcm9ncmFtPFRldHJpc1N0cmVhbWluZz4sXG4gIHJvb21faWQ6IG51bWJlcixcbiAgcm9vbV9uYW1lOiBzdHJpbmcsXG4gIHJvb21fdXJsOiBzdHJpbmcsXG4gIHN0cmVhbWVyOiBhbmNob3Iud2ViMy5QdWJsaWNLZXlcbikge1xuICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgY2xhaW0gcm9vbSBpbnN0cnVjdGlvbicpO1xuXG4gIGNvbnN0IFtyb29tXSA9IGFuY2hvci53ZWIzLlB1YmxpY0tleS5maW5kUHJvZ3JhbUFkZHJlc3NTeW5jKFxuICAgIFtCdWZmZXIuZnJvbSgncm9vbScpLCBCdWZmZXIuZnJvbShbcm9vbV9pZF0pXSxcbiAgICBwcm9ncmFtLnByb2dyYW1JZFxuICApO1xuICBcbiAgY29uc29sZS5sb2coJ1Jvb20gUERBOicsIHJvb20udG9TdHJpbmcoKSk7XG4gIGNvbnNvbGUubG9nKCdQcm9ncmFtIElEOicsIHByb2dyYW0ucHJvZ3JhbUlkLnRvU3RyaW5nKCkpO1xuICBjb25zb2xlLmxvZygnU3RyZWFtZXI6Jywgc3RyZWFtZXIudG9TdHJpbmcoKSk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGluc3RydWN0aW9uID0gYXdhaXQgcHJvZ3JhbS5tZXRob2RzXG4gICAgICAuY2xhaW1Sb29tKHJvb21faWQsIHJvb21fbmFtZSwgcm9vbV91cmwpXG4gICAgICAuYWNjb3VudHNQYXJ0aWFsKHtcbiAgICAgICAgcm9vbSxcbiAgICAgICAgc3RyZWFtZXIsXG4gICAgICAgIHN5c3RlbVByb2dyYW06IGFuY2hvci53ZWIzLlN5c3RlbVByb2dyYW0ucHJvZ3JhbUlkLFxuICAgICAgfSkgIC8vIFVzZSAnYXMgYW55JyB0byBieXBhc3Mgc3RyaWN0IHR5cGluZyBmb3Igbm93XG4gICAgICAuaW5zdHJ1Y3Rpb24oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnR2VuZXJhdGVkIGluc3RydWN0aW9uOicsIGluc3RydWN0aW9uKTtcbiAgICBjb25zb2xlLmxvZygnSW5zdHJ1Y3Rpb24gcHJvZ3JhbSBJRDonLCBpbnN0cnVjdGlvbi5wcm9ncmFtSWQ/LnRvU3RyaW5nKCkpO1xuICAgIFxuICAgIHJldHVybiBpbnN0cnVjdGlvbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbnN0cnVjdGlvbjonLCBlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCBlcnJvci5tZXNzYWdlKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImFuY2hvciIsIkJ1ZmZlciIsImNyZWF0ZUNsYWltUm9vbUluc3RydWN0aW9uIiwicHJvZ3JhbSIsInJvb21faWQiLCJyb29tX25hbWUiLCJyb29tX3VybCIsInN0cmVhbWVyIiwiY29uc29sZSIsImxvZyIsInJvb20iLCJ3ZWIzIiwiUHVibGljS2V5IiwiZmluZFByb2dyYW1BZGRyZXNzU3luYyIsImZyb20iLCJwcm9ncmFtSWQiLCJ0b1N0cmluZyIsImluc3RydWN0aW9uIiwibWV0aG9kcyIsImNsYWltUm9vbSIsImFjY291bnRzUGFydGlhbCIsInN5c3RlbVByb2dyYW0iLCJTeXN0ZW1Qcm9ncmFtIiwiZXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/createClaimRoomInstruction.ts\n");

/***/ }),

/***/ "./utils/createInitializeInstruction.ts":
/*!**********************************************!*\
  !*** ./utils/createInitializeInstruction.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInitializeInstruction: () => (/* binding */ createInitializeInstruction)\n/* harmony export */ });\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst createInitializeInstruction = async (program, devWallet, authority)=>{\n    console.log(\"program.provider: \", program.provider);\n    console.log(\"authority:\", authority);\n    const [config] = _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(\"config\")\n    ], program.programId);\n    const initIns = await program.methods.initialize(devWallet).accountsPartial({\n        systemProgram: _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.SystemProgram.programId,\n        authority: authority,\n        config\n    }).instruction();\n    return initIns;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9jcmVhdGVJbml0aWFsaXplSW5zdHJ1Y3Rpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFNEM7QUFDWjtBQUV6QixNQUFNRSw4QkFBOEIsT0FDekNDLFNBQ0FDLFdBQ0FDO0lBRUFDLFFBQVFDLEdBQUcsQ0FBQyxzQkFBc0JKLFFBQVFLLFFBQVE7SUFDbERGLFFBQVFDLEdBQUcsQ0FBQyxjQUFjRjtJQUMxQixNQUFNLENBQUNJLE9BQU8sR0FBR1QsbURBQVcsQ0FBQ1csU0FBUyxDQUFDQyxzQkFBc0IsQ0FDM0Q7UUFBQ1gsMENBQU1BLENBQUNZLElBQUksQ0FBQztLQUFVLEVBQ3ZCVixRQUFRVyxTQUFTO0lBRW5CLE1BQU1DLFVBQVUsTUFBTVosUUFBUWEsT0FBTyxDQUNsQ0MsVUFBVSxDQUFDYixXQUNYYyxlQUFlLENBQUM7UUFDZkMsZUFBZW5CLG1EQUFXLENBQUNvQixhQUFhLENBQUNOLFNBQVM7UUFDbERULFdBQVdBO1FBQ1hJO0lBQ0YsR0FDQ1ksV0FBVztJQUVkLE9BQU9OO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RldHJpcy1zdHJlYW1lci1hcHAvLi91dGlscy9jcmVhdGVJbml0aWFsaXplSW5zdHJ1Y3Rpb24udHM/ZjA0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXRyaXNTdHJlYW1pbmcgfSBmcm9tICcuL3R5cGVzJztcblxuaW1wb3J0ICogYXMgYW5jaG9yIGZyb20gJ0Bjb3JhbC14eXovYW5jaG9yJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVJbml0aWFsaXplSW5zdHJ1Y3Rpb24gPSBhc3luYyAoXG4gIHByb2dyYW06IGFuY2hvci5Qcm9ncmFtPFRldHJpc1N0cmVhbWluZz4sXG4gIGRldldhbGxldDogYW5jaG9yLndlYjMuUHVibGljS2V5LFxuICBhdXRob3JpdHk6IGFuY2hvci53ZWIzLlB1YmxpY0tleVxuKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdwcm9ncmFtLnByb3ZpZGVyOiAnLCBwcm9ncmFtLnByb3ZpZGVyKTtcbiAgY29uc29sZS5sb2coJ2F1dGhvcml0eTonLCBhdXRob3JpdHkpXG4gIGNvbnN0IFtjb25maWddID0gYW5jaG9yLndlYjMuUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW0J1ZmZlci5mcm9tKCdjb25maWcnKV0sXG4gICAgcHJvZ3JhbS5wcm9ncmFtSWRcbiAgKTtcbiAgY29uc3QgaW5pdElucyA9IGF3YWl0IHByb2dyYW0ubWV0aG9kc1xuICAgIC5pbml0aWFsaXplKGRldldhbGxldClcbiAgICAuYWNjb3VudHNQYXJ0aWFsKHtcbiAgICAgIHN5c3RlbVByb2dyYW06IGFuY2hvci53ZWIzLlN5c3RlbVByb2dyYW0ucHJvZ3JhbUlkLFxuICAgICAgYXV0aG9yaXR5OiBhdXRob3JpdHksXG4gICAgICBjb25maWcsXG4gICAgfSlcbiAgICAuaW5zdHJ1Y3Rpb24oKTtcblxuICByZXR1cm4gaW5pdElucztcbn07XG4iXSwibmFtZXMiOlsiYW5jaG9yIiwiQnVmZmVyIiwiY3JlYXRlSW5pdGlhbGl6ZUluc3RydWN0aW9uIiwicHJvZ3JhbSIsImRldldhbGxldCIsImF1dGhvcml0eSIsImNvbnNvbGUiLCJsb2ciLCJwcm92aWRlciIsImNvbmZpZyIsIndlYjMiLCJQdWJsaWNLZXkiLCJmaW5kUHJvZ3JhbUFkZHJlc3NTeW5jIiwiZnJvbSIsInByb2dyYW1JZCIsImluaXRJbnMiLCJtZXRob2RzIiwiaW5pdGlhbGl6ZSIsImFjY291bnRzUGFydGlhbCIsInN5c3RlbVByb2dyYW0iLCJTeXN0ZW1Qcm9ncmFtIiwiaW5zdHJ1Y3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/createInitializeInstruction.ts\n");

/***/ }),

/***/ "./utils/program.ts":
/*!**************************!*\
  !*** ./utils/program.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ programHook)\n/* harmony export */ });\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tetris_streaming_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tetris_streaming.json */ \"./utils/tetris_streaming.json\");\n\n\nfunction programHook(connection) {\n    const program = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.Program(_tetris_streaming_json__WEBPACK_IMPORTED_MODULE_1__, {\n        connection\n    });\n    return program;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9wcm9ncmFtLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFFRjtBQUUzQixTQUFTRSxZQUFZQyxVQUFrQztJQUNwRSxNQUFNQyxVQUFVLElBQUlKLHNEQUFjLENBQWtCQyxtREFBR0EsRUFBcUI7UUFDMUVFO0lBQ0Y7SUFFQSxPQUFPQztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL3V0aWxzL3Byb2dyYW0udHM/NGNiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhbmNob3IgZnJvbSAnQGNvcmFsLXh5ei9hbmNob3InO1xuaW1wb3J0IHsgVGV0cmlzU3RyZWFtaW5nIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgaWRsIGZyb20gJy4vdGV0cmlzX3N0cmVhbWluZy5qc29uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJvZ3JhbUhvb2soY29ubmVjdGlvbjogYW5jaG9yLndlYjMuQ29ubmVjdGlvbikge1xuICBjb25zdCBwcm9ncmFtID0gbmV3IGFuY2hvci5Qcm9ncmFtPFRldHJpc1N0cmVhbWluZz4oaWRsIGFzIFRldHJpc1N0cmVhbWluZywge1xuICAgIGNvbm5lY3Rpb24sXG4gIH0pO1xuXG4gIHJldHVybiBwcm9ncmFtO1xufVxuIl0sIm5hbWVzIjpbImFuY2hvciIsImlkbCIsInByb2dyYW1Ib29rIiwiY29ubmVjdGlvbiIsInByb2dyYW0iLCJQcm9ncmFtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/program.ts\n");

/***/ }),

/***/ "./utils/tetris_streaming.json":
/*!*************************************!*\
  !*** ./utils/tetris_streaming.json ***!
  \*************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"address":"FHbWQGzgrdKnuZcp4bLhE2GdwzxrGciWKUegW42yj33h","metadata":{"name":"tetris_streaming","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"choose_piece","discriminator":[30,228,132,255,245,54,193,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"room","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,111,109]},{"kind":"arg","path":"room_id"}]}},{"name":"buyer","writable":true,"signer":true},{"name":"streamer","writable":true},{"name":"dev_wallet","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"room_id","type":"u8"},{"name":"piece_type","type":"u8"}]},{"name":"claim_room","discriminator":[62,51,97,121,144,160,43,85],"accounts":[{"name":"room","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,111,109]},{"kind":"arg","path":"room_id"}]}},{"name":"streamer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"room_id","type":"u8"},{"name":"room_name","type":"string"},{"name":"stream_url","type":"string"}]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"dev_wallet","type":"pubkey"}]}],"accounts":[{"name":"Config","discriminator":[155,12,170,224,30,250,204,130]},{"name":"Room","discriminator":[156,199,67,27,222,23,185,94]}],"errors":[{"code":6000,"name":"InvalidRoomId","msg":"Invalid room ID. Must be 0-9."},{"code":6001,"name":"RoomNameTooLong","msg":"Room name too long. Max 50 characters."},{"code":6002,"name":"StreamUrlTooLong","msg":"Stream URL too long. Max 200 characters."},{"code":6003,"name":"InvalidPieceType","msg":"Invalid piece type. Must be 0-6."},{"code":6004,"name":"InvalidStreamer","msg":"Only the room owner can receive payments."},{"code":6005,"name":"InvalidDevWallet","msg":"Invalid dev wallet."},{"code":6006,"name":"RoomNotExpired","msg":"Room is not expired yet. Wait 2 minutes before reclaiming."}],"types":[{"name":"Config","type":{"kind":"struct","fields":[{"name":"dev_wallet","type":"pubkey"},{"name":"piece_price","type":"u64"}]}},{"name":"Room","type":{"kind":"struct","fields":[{"name":"room_name","type":"string"},{"name":"stream_url","type":"string"},{"name":"player_wallet","type":"pubkey"},{"name":"latest_chosen_piece","type":"u8"},{"name":"last_buyer","type":"pubkey"},{"name":"timestamp","type":"i64"}]}}]}');

/***/ })

};
;