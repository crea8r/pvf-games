"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_ui_ViewerMode_jsx";
exports.ids = ["components_ui_ViewerMode_jsx"];
exports.modules = {

/***/ "./components/ui/TetrisPiecePreview.jsx":
/*!**********************************************!*\
  !*** ./components/ui/TetrisPiecePreview.jsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_tetris__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/tetris */ \"./lib/tetris.js\");\n\n\n\nconst TetrisPiecePreview = ({ pieceType, size = \"small\", className = \"\" })=>{\n    if (!pieceType || !_lib_tetris__WEBPACK_IMPORTED_MODULE_2__.PIECES[pieceType]) {\n        return null;\n    }\n    const piece = _lib_tetris__WEBPACK_IMPORTED_MODULE_2__.PIECES[pieceType];\n    const shape = piece.shape;\n    // Different sizes\n    const sizeConfig = {\n        small: {\n            cellSize: \"w-2 h-2\",\n            containerSize: \"40px\",\n            gap: \"gap-px\"\n        },\n        medium: {\n            cellSize: \"w-3 h-3\",\n            containerSize: \"60px\",\n            gap: \"gap-px\"\n        },\n        large: {\n            cellSize: \"w-4 h-4\",\n            containerSize: \"80px\",\n            gap: \"gap-1\"\n        }\n    };\n    const config = sizeConfig[size];\n    const gridSize = 4; // Fixed 4x4 grid for consistent sizing\n    // Create centered preview\n    const preview = Array(gridSize).fill(null).map(()=>Array(gridSize).fill(0));\n    // Calculate centering offsets\n    const pieceHeight = shape.length;\n    const pieceWidth = Math.max(...shape.map((row)=>row.length));\n    const offsetY = Math.max(0, Math.floor((gridSize - pieceHeight) / 2));\n    const offsetX = Math.max(0, Math.floor((gridSize - pieceWidth) / 2));\n    // Place the piece in the preview grid\n    for(let y = 0; y < shape.length; y++){\n        for(let x = 0; x < shape[y].length; x++){\n            const previewY = offsetY + y;\n            const previewX = offsetX + x;\n            if (previewY >= 0 && previewY < gridSize && previewX >= 0 && previewX < gridSize && shape[y][x]) {\n                preview[previewY][previewX] = pieceType;\n            }\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `inline-flex justify-center ${className}`,\n        style: {\n            width: config.containerSize,\n            height: config.containerSize\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `grid ${config.gap} p-1`,\n            style: {\n                gridTemplateColumns: `repeat(${gridSize}, 1fr)`,\n                width: \"100%\",\n                height: \"100%\"\n            },\n            children: preview.flat().map((cell, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `\n              ${config.cellSize} rounded-sm\n              ${cell === pieceType ? `${piece.color} border border-gray-600` : \"bg-transparent\"}\n            `\n                }, index, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/TetrisPiecePreview.jsx\",\n                    lineNumber: 74,\n                    columnNumber: 11\n                }, undefined))\n        }, void 0, false, {\n            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/TetrisPiecePreview.jsx\",\n            lineNumber: 65,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/TetrisPiecePreview.jsx\",\n        lineNumber: 58,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TetrisPiecePreview);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL2NvbXBvbmVudHMvdWkvVGV0cmlzUGllY2VQcmV2aWV3LmpzeD85ZjEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQSUVDRVMgfSBmcm9tICcuLi8uLi9saWIvdGV0cmlzJztcblxuY29uc3QgVGV0cmlzUGllY2VQcmV2aWV3ID0gKHsgcGllY2VUeXBlLCBzaXplID0gJ3NtYWxsJywgY2xhc3NOYW1lID0gJycgfSkgPT4ge1xuICBpZiAoIXBpZWNlVHlwZSB8fCAhUElFQ0VTW3BpZWNlVHlwZV0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBpZWNlID0gUElFQ0VTW3BpZWNlVHlwZV07XG4gIGNvbnN0IHNoYXBlID0gcGllY2Uuc2hhcGU7XG4gIFxuICAvLyBEaWZmZXJlbnQgc2l6ZXNcbiAgY29uc3Qgc2l6ZUNvbmZpZyA9IHtcbiAgICBzbWFsbDoge1xuICAgICAgY2VsbFNpemU6ICd3LTIgaC0yJyxcbiAgICAgIGNvbnRhaW5lclNpemU6ICc0MHB4JyxcbiAgICAgIGdhcDogJ2dhcC1weCdcbiAgICB9LFxuICAgIG1lZGl1bToge1xuICAgICAgY2VsbFNpemU6ICd3LTMgaC0zJywgXG4gICAgICBjb250YWluZXJTaXplOiAnNjBweCcsXG4gICAgICBnYXA6ICdnYXAtcHgnXG4gICAgfSxcbiAgICBsYXJnZToge1xuICAgICAgY2VsbFNpemU6ICd3LTQgaC00JyxcbiAgICAgIGNvbnRhaW5lclNpemU6ICc4MHB4JywgXG4gICAgICBnYXA6ICdnYXAtMSdcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY29uZmlnID0gc2l6ZUNvbmZpZ1tzaXplXTtcbiAgY29uc3QgZ3JpZFNpemUgPSA0OyAvLyBGaXhlZCA0eDQgZ3JpZCBmb3IgY29uc2lzdGVudCBzaXppbmdcbiAgXG4gIC8vIENyZWF0ZSBjZW50ZXJlZCBwcmV2aWV3XG4gIGNvbnN0IHByZXZpZXcgPSBBcnJheShncmlkU2l6ZSkuZmlsbChudWxsKS5tYXAoKCkgPT4gQXJyYXkoZ3JpZFNpemUpLmZpbGwoMCkpO1xuICBcbiAgLy8gQ2FsY3VsYXRlIGNlbnRlcmluZyBvZmZzZXRzXG4gIGNvbnN0IHBpZWNlSGVpZ2h0ID0gc2hhcGUubGVuZ3RoO1xuICBjb25zdCBwaWVjZVdpZHRoID0gTWF0aC5tYXgoLi4uc2hhcGUubWFwKHJvdyA9PiByb3cubGVuZ3RoKSk7XG4gIGNvbnN0IG9mZnNldFkgPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKChncmlkU2l6ZSAtIHBpZWNlSGVpZ2h0KSAvIDIpKTtcbiAgY29uc3Qgb2Zmc2V0WCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKGdyaWRTaXplIC0gcGllY2VXaWR0aCkgLyAyKSk7XG4gIFxuICAvLyBQbGFjZSB0aGUgcGllY2UgaW4gdGhlIHByZXZpZXcgZ3JpZFxuICBmb3IgKGxldCB5ID0gMDsgeSA8IHNoYXBlLmxlbmd0aDsgeSsrKSB7XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCBzaGFwZVt5XS5sZW5ndGg7IHgrKykge1xuICAgICAgY29uc3QgcHJldmlld1kgPSBvZmZzZXRZICsgeTtcbiAgICAgIGNvbnN0IHByZXZpZXdYID0gb2Zmc2V0WCArIHg7XG4gICAgICBcbiAgICAgIGlmIChwcmV2aWV3WSA+PSAwICYmIHByZXZpZXdZIDwgZ3JpZFNpemUgJiYgXG4gICAgICAgICAgcHJldmlld1ggPj0gMCAmJiBwcmV2aWV3WCA8IGdyaWRTaXplICYmIFxuICAgICAgICAgIHNoYXBlW3ldW3hdKSB7XG4gICAgICAgIHByZXZpZXdbcHJldmlld1ldW3ByZXZpZXdYXSA9IHBpZWNlVHlwZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgXG4gICAgICBjbGFzc05hbWU9e2BpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciAke2NsYXNzTmFtZX1gfVxuICAgICAgc3R5bGU9e3sgXG4gICAgICAgIHdpZHRoOiBjb25maWcuY29udGFpbmVyU2l6ZSxcbiAgICAgICAgaGVpZ2h0OiBjb25maWcuY29udGFpbmVyU2l6ZVxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9e2BncmlkICR7Y29uZmlnLmdhcH0gcC0xYH1cbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogYHJlcGVhdCgke2dyaWRTaXplfSwgMWZyKWAsXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJ1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7cHJldmlldy5mbGF0KCkubWFwKChjZWxsLCBpbmRleCkgPT4gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgJHtjb25maWcuY2VsbFNpemV9IHJvdW5kZWQtc21cbiAgICAgICAgICAgICAgJHtjZWxsID09PSBwaWVjZVR5cGUgPyBcbiAgICAgICAgICAgICAgICBgJHtwaWVjZS5jb2xvcn0gYm9yZGVyIGJvcmRlci1ncmF5LTYwMGAgOiBcbiAgICAgICAgICAgICAgICAnYmctdHJhbnNwYXJlbnQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRldHJpc1BpZWNlUHJldmlldzsiXSwibmFtZXMiOlsiUmVhY3QiLCJQSUVDRVMiLCJUZXRyaXNQaWVjZVByZXZpZXciLCJwaWVjZVR5cGUiLCJzaXplIiwiY2xhc3NOYW1lIiwicGllY2UiLCJzaGFwZSIsInNpemVDb25maWciLCJzbWFsbCIsImNlbGxTaXplIiwiY29udGFpbmVyU2l6ZSIsImdhcCIsIm1lZGl1bSIsImxhcmdlIiwiY29uZmlnIiwiZ3JpZFNpemUiLCJwcmV2aWV3IiwiQXJyYXkiLCJmaWxsIiwibWFwIiwicGllY2VIZWlnaHQiLCJsZW5ndGgiLCJwaWVjZVdpZHRoIiwiTWF0aCIsIm1heCIsInJvdyIsIm9mZnNldFkiLCJmbG9vciIsIm9mZnNldFgiLCJ5IiwieCIsInByZXZpZXdZIiwicHJldmlld1giLCJkaXYiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsImZsYXQiLCJjZWxsIiwiaW5kZXgiLCJjb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/ui/TetrisPiecePreview.jsx\n");

/***/ }),

/***/ "./components/ui/ViewerMode.jsx":
/*!**************************************!*\
  !*** ./components/ui/ViewerMode.jsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @solana/wallet-adapter-react */ \"@solana/wallet-adapter-react\");\n/* harmony import */ var _solana_wallet_adapter_react_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @solana/wallet-adapter-react-ui */ \"@solana/wallet-adapter-react-ui\");\n/* harmony import */ var _lib_solana__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/solana */ \"./lib/solana.js\");\n/* harmony import */ var _lib_tetris__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/tetris */ \"./lib/tetris.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils_createChoosePieceInstruction__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/createChoosePieceInstruction */ \"./utils/createChoosePieceInstruction.ts\");\n/* harmony import */ var _utils_program__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/program */ \"./utils/program.ts\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _TetrisPiecePreview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TetrisPiecePreview */ \"./components/ui/TetrisPiecePreview.jsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_2__, _solana_wallet_adapter_react_ui__WEBPACK_IMPORTED_MODULE_3__, _lib_solana__WEBPACK_IMPORTED_MODULE_4__]);\n([_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_2__, _solana_wallet_adapter_react_ui__WEBPACK_IMPORTED_MODULE_3__, _lib_solana__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\nconst ViewerMode = ()=>{\n    const wallet = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_2__.useWallet)();\n    const { connection } = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_2__.useConnection)();\n    const { sendTransaction } = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_2__.useWallet)();\n    const [rooms, setRooms] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedRoom, setSelectedRoom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [purchasing, setPurchasing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedPiece, setSelectedPiece] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [piecePrice, setPiecePrice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Load available rooms\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadRooms = async ()=>{\n            setLoading(true);\n            try {\n                const availableRooms = await (0,_lib_solana__WEBPACK_IMPORTED_MODULE_4__.getAvailableRooms)();\n                const activeRooms = availableRooms.filter((room)=>room.exists);\n                setRooms(activeRooms);\n            } catch (error) {\n                console.error(\"Error loading rooms:\", error);\n                const dummyRooms = [\n                    {\n                        id: 0,\n                        exists: true,\n                        room_name: \"ProGamer Stream\",\n                        stream_url: \"https://www.youtube.com/embed/dQw4w9WgXcQ\",\n                        owner: \"DemoStreamer1\",\n                        latest_chosen_piece: 3,\n                        timestamp: Date.now() / 1000\n                    },\n                    {\n                        id: 1,\n                        exists: true,\n                        room_name: \"Tetris Master\",\n                        stream_url: \"https://www.youtube.com/embed/Alw5hs0chj0\",\n                        owner: \"DemoStreamer2\",\n                        latest_chosen_piece: 1,\n                        timestamp: Date.now() / 1000\n                    }\n                ];\n                setRooms(dummyRooms);\n            }\n            setLoading(false);\n        };\n        loadRooms();\n        const interval = setInterval(loadRooms, 30000);\n        return ()=>clearInterval(interval);\n    }, []);\n    // Load piece price from config\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadPiecePrice = async ()=>{\n            try {\n                const price = await (0,_lib_solana__WEBPACK_IMPORTED_MODULE_4__.getPiecePriceFromConfig)();\n                setPiecePrice(price);\n            } catch (error) {\n                console.error(\"Error loading piece price:\", error);\n                setPiecePrice(1000000); // Fallback to default\n            }\n        };\n        loadPiecePrice();\n    }, []);\n    // Extract YouTube video ID from URL\n    const getYouTubeEmbedUrl = (url)=>{\n        if (!url) return null;\n        let videoId = \"\";\n        if (url.includes(\"youtube.com/watch?v=\")) {\n            videoId = url.split(\"watch?v=\")[1].split(\"&\")[0];\n        } else if (url.includes(\"youtu.be/\")) {\n            videoId = url.split(\"youtu.be/\")[1].split(\"?\")[0];\n        } else if (url.includes(\"youtube.com/embed/\")) {\n            return url;\n        }\n        return videoId ? `https://www.youtube.com/embed/${videoId}` : null;\n    };\n    // Purchase piece\n    const handlePurchasePiece = async (pieceType)=>{\n        if (!wallet.connected || !selectedRoom || purchasing) {\n            return;\n        }\n        if (!wallet.publicKey) {\n            alert(\"Please connect your wallet\");\n            return;\n        }\n        const pieceIndex = Object.keys(_lib_tetris__WEBPACK_IMPORTED_MODULE_5__.PIECES).indexOf(pieceType);\n        if (pieceIndex === -1) {\n            alert(\"Invalid piece type\");\n            return;\n        }\n        setPurchasing(true);\n        setSelectedPiece(pieceType);\n        try {\n            const provider = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_9__.AnchorProvider(connection, wallet, _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_9__.AnchorProvider.defaultOptions());\n            _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_9__.setProvider(provider);\n            const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(connection);\n            const ix = await (0,_utils_createChoosePieceInstruction__WEBPACK_IMPORTED_MODULE_7__.createChoosePieceInstruction)(program, selectedRoom.id, pieceIndex, wallet.publicKey, selectedRoom.owner);\n            const tx = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_6__.Transaction().add(ix);\n            const signature = await sendTransaction(tx, connection, {\n                skipPreflight: true\n            });\n            console.log(\"signature: \", signature);\n            await connection.confirmTransaction(signature, \"confirmed\");\n            const solAmount = piecePrice / 1000000000;\n            alert(`Successfully purchased ${pieceType}-piece for ${solAmount} SOL!`);\n            setTimeout(()=>{\n                const loadRooms = async ()=>{\n                    const availableRooms = await (0,_lib_solana__WEBPACK_IMPORTED_MODULE_4__.getAvailableRooms)();\n                    const activeRooms = availableRooms.filter((room)=>room.exists);\n                    setRooms(activeRooms);\n                };\n                loadRooms();\n            }, 2000);\n        } catch (error) {\n            console.error(\"Error purchasing piece:\", error);\n            alert(\"Failed to purchase piece: \" + (error.message || error.toString()));\n        }\n        setPurchasing(false);\n        setSelectedPiece(null);\n    };\n    const selectedRoomData = selectedRoom ? rooms.find((r)=>r.id === selectedRoom.id) : null;\n    // Filter rooms to show only active streams (within 2 minutes)\n    const activeRooms = rooms.filter((room)=>{\n        if (!room.timestamp) return false;\n        const currentTime = Math.floor(Date.now() / 1000);\n        const timeDiff = currentTime - room.timestamp;\n        return timeDiff < 120; // Less than 2 minutes\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"grid grid-cols-12 gap-4\",\n            style: {\n                height: \"calc(100vh - 160px)\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"col-span-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-800 p-4 rounded-lg border border-gray-600 h-full flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: selectedRoom?.id ?? \"\",\n                                    onChange: (e)=>{\n                                        const roomId = e.target.value;\n                                        if (roomId === \"\") {\n                                            setSelectedRoom(null);\n                                        } else {\n                                            const room = activeRooms.find((r)=>r.id === parseInt(roomId));\n                                            setSelectedRoom(room);\n                                        }\n                                    },\n                                    className: \"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm focus:border-blue-400 focus:outline-none\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"\",\n                                            children: loading ? \"Loading...\" : activeRooms.length === 0 ? \"No active streams\" : \"Select a stream\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 195,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        activeRooms.map((room)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: room.id,\n                                                children: [\n                                                    room.room_name,\n                                                    \" (Room #\",\n                                                    room.id,\n                                                    \")\"\n                                                ]\n                                            }, room.id, true, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                lineNumber: 199,\n                                                columnNumber: 19\n                                            }, undefined))\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 182,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                lineNumber: 181,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_solana_wallet_adapter_react_ui__WEBPACK_IMPORTED_MODULE_3__.WalletMultiButton, {\n                                        className: \"!bg-blue-600 hover:!bg-blue-700 w-full !text-sm !py-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    wallet.connected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2 text-xs text-gray-400 text-center\",\n                                        children: [\n                                            wallet.publicKey?.toString().slice(0, 8),\n                                            \"...\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                        lineNumber: 210,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                lineNumber: 207,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: !selectedRoomData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-3xl mb-2\",\n                                            children: \"\\uD83C\\uDFAE\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 220,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-400 text-xs\",\n                                            children: \"Select a stream first\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 221,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 219,\n                                    columnNumber: 17\n                                }, undefined) : !wallet.connected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-3xl mb-2\",\n                                            children: \"\\uD83D\\uDD10\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 225,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-400 text-xs\",\n                                            children: \"Connect wallet to buy pieces\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 226,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 224,\n                                    columnNumber: 17\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-3 p-2 bg-blue-900/20 rounded-lg border border-blue-600\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-blue-400 text-xs font-medium\",\n                                                        children: \"Price\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                        lineNumber: 232,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-white text-sm font-bold\",\n                                                        children: [\n                                                            piecePrice ? (piecePrice / 1000000).toFixed(3) : \"...\",\n                                                            \" SOL\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                        lineNumber: 233,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                lineNumber: 231,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 230,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 gap-2\",\n                                            children: Object.keys(_lib_tetris__WEBPACK_IMPORTED_MODULE_5__.PIECES).map((pieceType)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handlePurchasePiece(pieceType),\n                                                    disabled: purchasing,\n                                                    className: `\n                          p-2 rounded-lg border-2 transition-all duration-200 text-center\n                          ${purchasing && selectedPiece === pieceType ? \"border-yellow-400 bg-yellow-900/20\" : \"border-gray-600 bg-gray-700 hover:border-blue-400 hover:bg-blue-900/20\"}\n                          disabled:opacity-50 disabled:cursor-not-allowed\n                        `,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex justify-center mb-1\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TetrisPiecePreview__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                                pieceType: pieceType,\n                                                                size: \"small\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                                lineNumber: 255,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                            lineNumber: 254,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        purchasing && selectedPiece === pieceType && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-yellow-400 text-xs\",\n                                                            children: \"Purchasing...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                            lineNumber: 258,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    ]\n                                                }, pieceType, true, {\n                                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                    lineNumber: 241,\n                                                    columnNumber: 23\n                                                }, undefined))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 239,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 p-2 bg-gray-700 rounded-lg text-xs text-gray-400\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mb-1\",\n                                                    children: \"\\uD83D\\uDCA1 Purchase becomes next piece in game!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                    lineNumber: 265,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    children: \"âš¡ 70% to streamer, 30% to development\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                    lineNumber: 266,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 264,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 229,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                lineNumber: 217,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                        lineNumber: 178,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                    lineNumber: 177,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"col-span-9\",\n                    children: selectedRoomData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-800 rounded-lg border border-gray-600 p-4 h-full\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-white text-lg font-bold\",\n                                        children: selectedRoomData.room_name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                        lineNumber: 279,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white\",\n                                        children: [\n                                            \"Last updated: \",\n                                            new Date(selectedRoomData.timestamp * 1000).toLocaleTimeString()\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                        lineNumber: 280,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-2 h-2 bg-red-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                lineNumber: 284,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-red-400 text-sm font-medium\",\n                                                children: \"LIVE\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                                lineNumber: 285,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                        lineNumber: 283,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                lineNumber: 278,\n                                columnNumber: 15\n                            }, undefined),\n                            selectedRoomData.stream_url ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"aspect-video bg-gray-900 rounded-lg overflow-hidden\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                                    src: getYouTubeEmbedUrl(selectedRoomData.stream_url),\n                                    className: \"w-full h-full\",\n                                    style: {\n                                        border: 0\n                                    },\n                                    allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n                                    allowFullScreen: true,\n                                    title: `${selectedRoomData.room_name} Stream`\n                                }, void 0, false, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 291,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                lineNumber: 290,\n                                columnNumber: 17\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"aspect-video bg-gray-900 rounded-lg flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-4xl mb-2\",\n                                            children: \"\\uD83D\\uDCFA\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 303,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-400\",\n                                            children: \"Stream not available\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                            lineNumber: 304,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 302,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                lineNumber: 301,\n                                columnNumber: 17\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                        lineNumber: 277,\n                        columnNumber: 13\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gray-800 rounded-lg border border-gray-600 p-8 text-center h-full flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-6xl mb-4\",\n                                    children: \"\\uD83D\\uDCFA\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 312,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-bold mb-2\",\n                                    children: \"Select a Stream\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 313,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-400\",\n                                    children: \"Choose an active stream from the dropdown to start watching and interacting\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                                    lineNumber: 314,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                            lineNumber: 311,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                        lineNumber: 310,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n                    lineNumber: 275,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n            lineNumber: 175,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/components/ui/ViewerMode.jsx\",\n        lineNumber: 174,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ViewerMode);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWlCekMsVUFBVSxpQkFDMUIsOERBQUNnRDtnQ0FBSUMsV0FBVTswQ0FDYiw0RUFBQ3VCO29DQUNDQyxLQUFLOUQsbUJBQW1COEIsaUJBQWlCekMsVUFBVTtvQ0FDbkRpRCxXQUFVO29DQUNWQyxPQUFPO3dDQUFFd0IsUUFBUTtvQ0FBRTtvQ0FDbkJDLE9BQU07b0NBQ05DLGVBQWU7b0NBQ2ZDLE9BQU8sQ0FBQyxFQUFFcEMsaUJBQWlCMUMsU0FBUyxDQUFDLE9BQU8sQ0FBQzs7Ozs7Ozs7OzswREFJakQsOERBQUNpRDtnQ0FBSUMsV0FBVTswQ0FDYiw0RUFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDRDs0Q0FBSUMsV0FBVTtzREFBZ0I7Ozs7OztzREFDL0IsOERBQUNjOzRDQUFFZCxXQUFVO3NEQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrREFNckMsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDRDs7OENBQ0MsOERBQUNBO29DQUFJQyxXQUFVOzhDQUFnQjs7Ozs7OzhDQUMvQiw4REFBQ29CO29DQUFHcEIsV0FBVTs4Q0FBeUI7Ozs7Ozs4Q0FDdkMsOERBQUNjO29DQUFFZCxXQUFVOzhDQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVTdDO0FBRUEsaUVBQWU1RSxVQUFVQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL2NvbXBvbmVudHMvdWkvVmlld2VyTW9kZS5qc3g/ZTQwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVdhbGxldCwgdXNlQ29ubmVjdGlvbiB9IGZyb20gJ0Bzb2xhbmEvd2FsbGV0LWFkYXB0ZXItcmVhY3QnO1xuaW1wb3J0IHsgV2FsbGV0TXVsdGlCdXR0b24gfSBmcm9tICdAc29sYW5hL3dhbGxldC1hZGFwdGVyLXJlYWN0LXVpJztcbmltcG9ydCB7IGdldEF2YWlsYWJsZVJvb21zLCBnZXRQaWVjZVByaWNlRnJvbUNvbmZpZyB9IGZyb20gJy4uLy4uL2xpYi9zb2xhbmEnO1xuaW1wb3J0IHsgUElFQ0VTIH0gZnJvbSAnLi4vLi4vbGliL3RldHJpcyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJ0Bzb2xhbmEvd2ViMy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVDaG9vc2VQaWVjZUluc3RydWN0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvY3JlYXRlQ2hvb3NlUGllY2VJbnN0cnVjdGlvbic7XG5pbXBvcnQgcHJvZ3JhbUhvb2sgZnJvbSAnLi4vLi4vdXRpbHMvcHJvZ3JhbSc7XG5pbXBvcnQgKiBhcyBhbmNob3IgZnJvbSAnQGNvcmFsLXh5ei9hbmNob3InO1xuaW1wb3J0IFRldHJpc1BpZWNlUHJldmlldyBmcm9tICcuL1RldHJpc1BpZWNlUHJldmlldyc7XG5cbmNvbnN0IFZpZXdlck1vZGUgPSAoKSA9PiB7XG4gIGNvbnN0IHdhbGxldCA9IHVzZVdhbGxldCgpO1xuICBjb25zdCB7IGNvbm5lY3Rpb24gfSA9IHVzZUNvbm5lY3Rpb24oKTtcbiAgY29uc3QgeyBzZW5kVHJhbnNhY3Rpb24gfSA9IHVzZVdhbGxldCgpO1xuICBcbiAgY29uc3QgW3Jvb21zLCBzZXRSb29tc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZFJvb20sIHNldFNlbGVjdGVkUm9vbV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHVyY2hhc2luZywgc2V0UHVyY2hhc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFBpZWNlLCBzZXRTZWxlY3RlZFBpZWNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbcGllY2VQcmljZSwgc2V0UGllY2VQcmljZV0gPSB1c2VTdGF0ZSgwKTtcblxuICAvLyBMb2FkIGF2YWlsYWJsZSByb29tc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRSb29tcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhdmFpbGFibGVSb29tcyA9IGF3YWl0IGdldEF2YWlsYWJsZVJvb21zKCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVJvb21zID0gYXZhaWxhYmxlUm9vbXMuZmlsdGVyKHJvb20gPT4gcm9vbS5leGlzdHMpO1xuICAgICAgICBzZXRSb29tcyhhY3RpdmVSb29tcyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHJvb21zOicsIGVycm9yKTtcbiAgICAgICAgY29uc3QgZHVtbXlSb29tcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogMCxcbiAgICAgICAgICAgIGV4aXN0czogdHJ1ZSxcbiAgICAgICAgICAgIHJvb21fbmFtZTogJ1Byb0dhbWVyIFN0cmVhbScsXG4gICAgICAgICAgICBzdHJlYW1fdXJsOiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvZFF3NHc5V2dYY1EnLFxuICAgICAgICAgICAgb3duZXI6ICdEZW1vU3RyZWFtZXIxJyxcbiAgICAgICAgICAgIGxhdGVzdF9jaG9zZW5fcGllY2U6IDMsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCkgLyAxMDAwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICBleGlzdHM6IHRydWUsXG4gICAgICAgICAgICByb29tX25hbWU6ICdUZXRyaXMgTWFzdGVyJyxcbiAgICAgICAgICAgIHN0cmVhbV91cmw6ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9BbHc1aHMwY2hqMCcsXG4gICAgICAgICAgICBvd25lcjogJ0RlbW9TdHJlYW1lcjInLCBcbiAgICAgICAgICAgIGxhdGVzdF9jaG9zZW5fcGllY2U6IDEsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCkgLyAxMDAwLFxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgc2V0Um9vbXMoZHVtbXlSb29tcyk7XG4gICAgICB9XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgbG9hZFJvb21zKCk7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChsb2FkUm9vbXMsIDMwMDAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtdKTtcblxuICAvLyBMb2FkIHBpZWNlIHByaWNlIGZyb20gY29uZmlnXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZFBpZWNlUHJpY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwcmljZSA9IGF3YWl0IGdldFBpZWNlUHJpY2VGcm9tQ29uZmlnKCk7XG4gICAgICAgIHNldFBpZWNlUHJpY2UocHJpY2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBwaWVjZSBwcmljZTonLCBlcnJvcik7XG4gICAgICAgIHNldFBpZWNlUHJpY2UoMV8wMDBfMDAwKTsgLy8gRmFsbGJhY2sgdG8gZGVmYXVsdFxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgbG9hZFBpZWNlUHJpY2UoKTtcbiAgfSwgW10pO1xuXG4gIC8vIEV4dHJhY3QgWW91VHViZSB2aWRlbyBJRCBmcm9tIFVSTFxuICBjb25zdCBnZXRZb3VUdWJlRW1iZWRVcmwgPSAodXJsKSA9PiB7XG4gICAgaWYgKCF1cmwpIHJldHVybiBudWxsO1xuICAgIFxuICAgIGxldCB2aWRlb0lkID0gJyc7XG4gICAgXG4gICAgaWYgKHVybC5pbmNsdWRlcygneW91dHViZS5jb20vd2F0Y2g/dj0nKSkge1xuICAgICAgdmlkZW9JZCA9IHVybC5zcGxpdCgnd2F0Y2g/dj0nKVsxXS5zcGxpdCgnJicpWzBdO1xuICAgIH0gZWxzZSBpZiAodXJsLmluY2x1ZGVzKCd5b3V0dS5iZS8nKSkge1xuICAgICAgdmlkZW9JZCA9IHVybC5zcGxpdCgneW91dHUuYmUvJylbMV0uc3BsaXQoJz8nKVswXTtcbiAgICB9IGVsc2UgaWYgKHVybC5pbmNsdWRlcygneW91dHViZS5jb20vZW1iZWQvJykpIHtcbiAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB2aWRlb0lkID8gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dmlkZW9JZH1gIDogbnVsbDtcbiAgfTtcblxuICAvLyBQdXJjaGFzZSBwaWVjZVxuICBjb25zdCBoYW5kbGVQdXJjaGFzZVBpZWNlID0gYXN5bmMgKHBpZWNlVHlwZSkgPT4ge1xuICAgIGlmICghd2FsbGV0LmNvbm5lY3RlZCB8fCAhc2VsZWN0ZWRSb29tIHx8IHB1cmNoYXNpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXdhbGxldC5wdWJsaWNLZXkpIHtcbiAgICAgIGFsZXJ0KCdQbGVhc2UgY29ubmVjdCB5b3VyIHdhbGxldCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBpZWNlSW5kZXggPSBPYmplY3Qua2V5cyhQSUVDRVMpLmluZGV4T2YocGllY2VUeXBlKTtcbiAgICBpZiAocGllY2VJbmRleCA9PT0gLTEpIHtcbiAgICAgIGFsZXJ0KCdJbnZhbGlkIHBpZWNlIHR5cGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRQdXJjaGFzaW5nKHRydWUpO1xuICAgIHNldFNlbGVjdGVkUGllY2UocGllY2VUeXBlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm92aWRlciA9IG5ldyBhbmNob3IuQW5jaG9yUHJvdmlkZXIoXG4gICAgICAgIGNvbm5lY3Rpb24sXG4gICAgICAgIHdhbGxldCxcbiAgICAgICAgYW5jaG9yLkFuY2hvclByb3ZpZGVyLmRlZmF1bHRPcHRpb25zKClcbiAgICAgICk7XG4gICAgICBhbmNob3Iuc2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuXG4gICAgICBjb25zdCBwcm9ncmFtID0gcHJvZ3JhbUhvb2soY29ubmVjdGlvbik7XG4gICAgICBcbiAgICAgIGNvbnN0IGl4ID0gYXdhaXQgY3JlYXRlQ2hvb3NlUGllY2VJbnN0cnVjdGlvbihcbiAgICAgICAgcHJvZ3JhbSxcbiAgICAgICAgc2VsZWN0ZWRSb29tLmlkLFxuICAgICAgICBwaWVjZUluZGV4LFxuICAgICAgICB3YWxsZXQucHVibGljS2V5LFxuICAgICAgICBzZWxlY3RlZFJvb20ub3duZXJcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHR4ID0gbmV3IFRyYW5zYWN0aW9uKCkuYWRkKGl4KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgc2VuZFRyYW5zYWN0aW9uKHR4LCBjb25uZWN0aW9uLCB7XG4gICAgICAgIHNraXBQcmVmbGlnaHQ6IHRydWVcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ3NpZ25hdHVyZTogJywgc2lnbmF0dXJlKTtcbiAgICAgIGF3YWl0IGNvbm5lY3Rpb24uY29uZmlybVRyYW5zYWN0aW9uKHNpZ25hdHVyZSwgJ2NvbmZpcm1lZCcpO1xuICAgICAgXG4gICAgICBjb25zdCBzb2xBbW91bnQgPSBwaWVjZVByaWNlIC8gMV8wMDBfMDAwXzAwMDtcbiAgICAgIGFsZXJ0KGBTdWNjZXNzZnVsbHkgcHVyY2hhc2VkICR7cGllY2VUeXBlfS1waWVjZSBmb3IgJHtzb2xBbW91bnR9IFNPTCFgKTtcbiAgICAgIFxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvYWRSb29tcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCBhdmFpbGFibGVSb29tcyA9IGF3YWl0IGdldEF2YWlsYWJsZVJvb21zKCk7XG4gICAgICAgICAgY29uc3QgYWN0aXZlUm9vbXMgPSBhdmFpbGFibGVSb29tcy5maWx0ZXIocm9vbSA9PiByb29tLmV4aXN0cyk7XG4gICAgICAgICAgc2V0Um9vbXMoYWN0aXZlUm9vbXMpO1xuICAgICAgICB9O1xuICAgICAgICBsb2FkUm9vbXMoKTtcbiAgICAgIH0sIDIwMDApO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHB1cmNoYXNpbmcgcGllY2U6JywgZXJyb3IpO1xuICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBwdXJjaGFzZSBwaWVjZTogJyArIChlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgXG4gICAgc2V0UHVyY2hhc2luZyhmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWRQaWVjZShudWxsKTtcbiAgfTtcblxuICBjb25zdCBzZWxlY3RlZFJvb21EYXRhID0gc2VsZWN0ZWRSb29tID8gcm9vbXMuZmluZChyID0+IHIuaWQgPT09IHNlbGVjdGVkUm9vbS5pZCkgOiBudWxsO1xuXG4gIC8vIEZpbHRlciByb29tcyB0byBzaG93IG9ubHkgYWN0aXZlIHN0cmVhbXMgKHdpdGhpbiAyIG1pbnV0ZXMpXG4gIGNvbnN0IGFjdGl2ZVJvb21zID0gcm9vbXMuZmlsdGVyKHJvb20gPT4ge1xuICAgIGlmICghcm9vbS50aW1lc3RhbXApIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgIGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSByb29tLnRpbWVzdGFtcDtcbiAgICByZXR1cm4gdGltZURpZmYgPCAxMjA7IC8vIExlc3MgdGhhbiAyIG1pbnV0ZXNcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xMiBnYXAtNFwiIHN0eWxlPXt7aGVpZ2h0OiAnY2FsYygxMDB2aCAtIDE2MHB4KSd9fT5cbiAgICAgICAgey8qIExlZnQgU2lkZSAtIE1lcmdlZCBDb250cm9scyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNjAwIGgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBBY3RpdmUgU3RyZWFtcyBEcm9wZG93biAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkUm9vbT8uaWQgPz8gJyd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByb29tSWQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIGlmIChyb29tSWQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9vbShudWxsKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvb20gPSBhY3RpdmVSb29tcy5maW5kKHIgPT4gci5pZCA9PT0gcGFyc2VJbnQocm9vbUlkKSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUm9vbShyb29tKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTcwMCBib3JkZXIgYm9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgcHgtMyBweS0yIHRleHQtd2hpdGUgdGV4dC1zbSBmb2N1czpib3JkZXItYmx1ZS00MDAgZm9jdXM6b3V0bGluZS1ub25lXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5cbiAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gJ0xvYWRpbmcuLi4nIDogYWN0aXZlUm9vbXMubGVuZ3RoID09PSAwID8gJ05vIGFjdGl2ZSBzdHJlYW1zJyA6ICdTZWxlY3QgYSBzdHJlYW0nfVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIHthY3RpdmVSb29tcy5tYXAoKHJvb20pID0+IChcbiAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtyb29tLmlkfSB2YWx1ZT17cm9vbS5pZH0+XG4gICAgICAgICAgICAgICAgICAgIHtyb29tLnJvb21fbmFtZX0gKFJvb20gI3tyb29tLmlkfSlcbiAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogV2FsbGV0IENvbm5lY3Rpb24gKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgICAgICAgPFdhbGxldE11bHRpQnV0dG9uIGNsYXNzTmFtZT1cIiFiZy1ibHVlLTYwMCBob3ZlcjohYmctYmx1ZS03MDAgdy1mdWxsICF0ZXh0LXNtICFweS0yXCIgLz5cbiAgICAgICAgICAgICAge3dhbGxldC5jb25uZWN0ZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXhzIHRleHQtZ3JheS00MDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIHt3YWxsZXQucHVibGljS2V5Py50b1N0cmluZygpLnNsaWNlKDAsIDgpfS4uLlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBQaWVjZSBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICB7IXNlbGVjdGVkUm9vbURhdGEgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS02XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtM3hsIG1iLTJcIj7wn46uPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIHRleHQteHNcIj5TZWxlY3QgYSBzdHJlYW0gZmlyc3Q8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAhd2FsbGV0LmNvbm5lY3RlZCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTZcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0zeGwgbWItMlwiPvCflJA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC14c1wiPkNvbm5lY3Qgd2FsbGV0IHRvIGJ1eSBwaWVjZXM8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMyBwLTIgYmctYmx1ZS05MDAvMjAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJsdWUtNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmx1ZS00MDAgdGV4dC14cyBmb250LW1lZGl1bVwiPlByaWNlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cGllY2VQcmljZSA/IChwaWVjZVByaWNlIC8gMV8wMDBfMDAwKS50b0ZpeGVkKDMpIDogJy4uLid9IFNPTFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKFBJRUNFUykubWFwKChwaWVjZVR5cGUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3BpZWNlVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVB1cmNoYXNlUGllY2UocGllY2VUeXBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwdXJjaGFzaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHAtMiByb3VuZGVkLWxnIGJvcmRlci0yIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCB0ZXh0LWNlbnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3B1cmNoYXNpbmcgJiYgc2VsZWN0ZWRQaWVjZSA9PT0gcGllY2VUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLXllbGxvdy00MDAgYmcteWVsbG93LTkwMC8yMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS02MDAgYmctZ3JheS03MDAgaG92ZXI6Ym9yZGVyLWJsdWUtNDAwIGhvdmVyOmJnLWJsdWUtOTAwLzIwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXRyaXNQaWVjZVByZXZpZXcgcGllY2VUeXBlPXtwaWVjZVR5cGV9IHNpemU9XCJzbWFsbFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwdXJjaGFzaW5nICYmIHNlbGVjdGVkUGllY2UgPT09IHBpZWNlVHlwZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwIHRleHQteHNcIj5QdXJjaGFzaW5nLi4uPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgcC0yIGJnLWdyYXktNzAwIHJvdW5kZWQtbGcgdGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTFcIj7wn5KhIFB1cmNoYXNlIGJlY29tZXMgbmV4dCBwaWVjZSBpbiBnYW1lITwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+4pqhIDcwJSB0byBzdHJlYW1lciwgMzAlIHRvIGRldmVsb3BtZW50PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFJpZ2h0IFNpZGUgLSBTdHJlYW0gRGlzcGxheSAoRXhwYW5kZWQpICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTlcIj5cbiAgICAgICAgICB7c2VsZWN0ZWRSb29tRGF0YSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNjAwIHAtNCBoLWZ1bGxcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtbGcgZm9udC1ib2xkXCI+e3NlbGVjdGVkUm9vbURhdGEucm9vbV9uYW1lfTwvaDI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICBMYXN0IHVwZGF0ZWQ6IHtuZXcgRGF0ZShzZWxlY3RlZFJvb21EYXRhLnRpbWVzdGFtcCAqIDEwMDApLnRvTG9jYWxlVGltZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwIHRleHQtc20gZm9udC1tZWRpdW1cIj5MSVZFPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHtzZWxlY3RlZFJvb21EYXRhLnN0cmVhbV91cmwgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhc3BlY3QtdmlkZW8gYmctZ3JheS05MDAgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgIDxpZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtnZXRZb3VUdWJlRW1iZWRVcmwoc2VsZWN0ZWRSb29tRGF0YS5zdHJlYW1fdXJsKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJvcmRlcjogMCB9fVxuICAgICAgICAgICAgICAgICAgICBhbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIlxuICAgICAgICAgICAgICAgICAgICBhbGxvd0Z1bGxTY3JlZW5cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2Ake3NlbGVjdGVkUm9vbURhdGEucm9vbV9uYW1lfSBTdHJlYW1gfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFzcGVjdC12aWRlbyBiZy1ncmF5LTkwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC00eGwgbWItMlwiPvCfk7o8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlN0cmVhbSBub3QgYXZhaWxhYmxlPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS02MDAgcC04IHRleHQtY2VudGVyIGgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC02eGwgbWItNFwiPvCfk7o8L2Rpdj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItMlwiPlNlbGVjdCBhIFN0cmVhbTwvaDI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgQ2hvb3NlIGFuIGFjdGl2ZSBzdHJlYW0gZnJvbSB0aGUgZHJvcGRvd24gdG8gc3RhcnQgd2F0Y2hpbmcgYW5kIGludGVyYWN0aW5nXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXJNb2RlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlV2FsbGV0IiwidXNlQ29ubmVjdGlvbiIsIldhbGxldE11bHRpQnV0dG9uIiwiZ2V0QXZhaWxhYmxlUm9vbXMiLCJnZXRQaWVjZVByaWNlRnJvbUNvbmZpZyIsIlBJRUNFUyIsIlRyYW5zYWN0aW9uIiwiY3JlYXRlQ2hvb3NlUGllY2VJbnN0cnVjdGlvbiIsInByb2dyYW1Ib29rIiwiYW5jaG9yIiwiVGV0cmlzUGllY2VQcmV2aWV3IiwiVmlld2VyTW9kZSIsIndhbGxldCIsImNvbm5lY3Rpb24iLCJzZW5kVHJhbnNhY3Rpb24iLCJyb29tcyIsInNldFJvb21zIiwic2VsZWN0ZWRSb29tIiwic2V0U2VsZWN0ZWRSb29tIiwibG9hZGluZyIsInNldExvYWRpbmciLCJwdXJjaGFzaW5nIiwic2V0UHVyY2hhc2luZyIsInNlbGVjdGVkUGllY2UiLCJzZXRTZWxlY3RlZFBpZWNlIiwicGllY2VQcmljZSIsInNldFBpZWNlUHJpY2UiLCJsb2FkUm9vbXMiLCJhdmFpbGFibGVSb29tcyIsImFjdGl2ZVJvb21zIiwiZmlsdGVyIiwicm9vbSIsImV4aXN0cyIsImVycm9yIiwiY29uc29sZSIsImR1bW15Um9vbXMiLCJpZCIsInJvb21fbmFtZSIsInN0cmVhbV91cmwiLCJvd25lciIsImxhdGVzdF9jaG9zZW5fcGllY2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJsb2FkUGllY2VQcmljZSIsInByaWNlIiwiZ2V0WW91VHViZUVtYmVkVXJsIiwidXJsIiwidmlkZW9JZCIsImluY2x1ZGVzIiwic3BsaXQiLCJoYW5kbGVQdXJjaGFzZVBpZWNlIiwicGllY2VUeXBlIiwiY29ubmVjdGVkIiwicHVibGljS2V5IiwiYWxlcnQiLCJwaWVjZUluZGV4IiwiT2JqZWN0Iiwia2V5cyIsImluZGV4T2YiLCJwcm92aWRlciIsIkFuY2hvclByb3ZpZGVyIiwiZGVmYXVsdE9wdGlvbnMiLCJzZXRQcm92aWRlciIsInByb2dyYW0iLCJpeCIsInR4IiwiYWRkIiwic2lnbmF0dXJlIiwic2tpcFByZWZsaWdodCIsImxvZyIsImNvbmZpcm1UcmFuc2FjdGlvbiIsInNvbEFtb3VudCIsInNldFRpbWVvdXQiLCJtZXNzYWdlIiwidG9TdHJpbmciLCJzZWxlY3RlZFJvb21EYXRhIiwiZmluZCIsInIiLCJjdXJyZW50VGltZSIsIk1hdGgiLCJmbG9vciIsInRpbWVEaWZmIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJoZWlnaHQiLCJzZWxlY3QiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInJvb21JZCIsInRhcmdldCIsInBhcnNlSW50Iiwib3B0aW9uIiwibGVuZ3RoIiwibWFwIiwic2xpY2UiLCJwIiwidG9GaXhlZCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInNpemUiLCJoMiIsInNwYW4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJpZnJhbWUiLCJzcmMiLCJib3JkZXIiLCJhbGxvdyIsImFsbG93RnVsbFNjcmVlbiIsInRpdGxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/ui/ViewerMode.jsx\n");

/***/ }),

/***/ "./lib/solana.js":
/*!***********************!*\
  !*** ./lib/solana.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEV_WALLET: () => (/* binding */ DEV_WALLET),\n/* harmony export */   InitializeButton: () => (/* binding */ InitializeButton),\n/* harmony export */   PIECE_PRICE: () => (/* binding */ PIECE_PRICE),\n/* harmony export */   PROGRAM_ID: () => (/* binding */ PROGRAM_ID),\n/* harmony export */   ROOMS_COUNT: () => (/* binding */ ROOMS_COUNT),\n/* harmony export */   claimRoom: () => (/* binding */ claimRoom),\n/* harmony export */   connection: () => (/* binding */ connection),\n/* harmony export */   fetchRoomData: () => (/* binding */ fetchRoomData),\n/* harmony export */   getAvailableRooms: () => (/* binding */ getAvailableRooms),\n/* harmony export */   getConfigPDA: () => (/* binding */ getConfigPDA),\n/* harmony export */   getPieceFromBlockchain: () => (/* binding */ getPieceFromBlockchain),\n/* harmony export */   getPiecePriceFromConfig: () => (/* binding */ getPiecePriceFromConfig),\n/* harmony export */   getRoomPDA: () => (/* binding */ getRoomPDA),\n/* harmony export */   isAppInitialized: () => (/* binding */ isAppInitialized),\n/* harmony export */   isRoomExpired: () => (/* binding */ isRoomExpired)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_createClaimRoomInstruction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/createClaimRoomInstruction */ \"./utils/createClaimRoomInstruction.ts\");\n/* harmony import */ var _utils_program__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/program */ \"./utils/program.ts\");\n/* harmony import */ var _solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/wallet-adapter-react */ \"@solana/wallet-adapter-react\");\n/* harmony import */ var _utils_createInitializeInstruction__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/createInitializeInstruction */ \"./utils/createInitializeInstruction.ts\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_7__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__]);\n_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n// Program constants\nconst PROGRAM_ID = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(\"FHbWQGzgrdKnuZcp4bLhE2GdwzxrGciWKUegW42yj33h\"); // Replace with actual program ID\nconst DEV_WALLET = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(\"3eBER4Ed9z91SVFbRxEsqrVBfohsgukMz4go1vqTdzfo\");\nconst PIECE_PRICE = 1000000; // 0.001 SOL in lamports\nconst ROOMS_COUNT = 10;\n// Connection setup - use localhost for development\nconst connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Connection(\"http://localhost:8899\", \"confirmed\");\n// Get room PDA (Program Derived Address)\nfunction getRoomPDA(roomId) {\n    const [roomPDA] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_7__.Buffer.from(\"room\"),\n        buffer__WEBPACK_IMPORTED_MODULE_7__.Buffer.from([\n            roomId\n        ])\n    ], PROGRAM_ID);\n    return roomPDA;\n}\n// Check if room is expired (2+ minutes old)\nfunction isRoomExpired(timestamp) {\n    if (!timestamp) return false;\n    const currentTime = Math.floor(Date.now() / 1000);\n    const timeDiff = currentTime - timestamp;\n    return timeDiff >= 120; // 120 seconds = 2 minutes\n}\n// Fetch room data from blockchain\nasync function fetchRoomData(roomId) {\n    try {\n        const roomPDA = getRoomPDA(roomId);\n        // Use the same connection as the rest of the app\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        try {\n            const roomAccount = await program.account.room.fetch(roomPDA);\n            console.log(\"roomAccount: \", roomAccount);\n            return {\n                exists: true,\n                latest_chosen_piece: roomAccount.latestChosenPiece,\n                last_buyer: roomAccount.lastBuyer.toString(),\n                timestamp: roomAccount.timestamp.toNumber(),\n                room_name: roomAccount.roomName,\n                stream_url: roomAccount.streamUrl,\n                owner: roomAccount.playerWallet.toString(),\n                expired: isRoomExpired(roomAccount.timestamp.toNumber())\n            };\n        } catch (fetchError) {\n            // Room doesn't exist\n            return {\n                exists: false,\n                latest_chosen_piece: Math.floor(Math.random() * 7),\n                last_buyer: null,\n                timestamp: 0,\n                room_name: \"\",\n                stream_url: \"\",\n                owner: null,\n                expired: false\n            };\n        }\n    } catch (error) {\n        console.error(\"Error fetching room data:\", error);\n        return {\n            exists: false,\n            latest_chosen_piece: Math.floor(Math.random() * 7),\n            last_buyer: null,\n            timestamp: 0,\n            room_name: \"\",\n            stream_url: \"\",\n            owner: null,\n            expired: false\n        };\n    }\n}\n// Claim room function\nasync function claimRoom(wallet, roomId, roomName, streamUrl) {\n    if (!wallet.connected || !wallet.publicKey) {\n        throw new Error(\"Wallet not connected\");\n    }\n    try {\n        // Create transaction\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Transaction();\n        console.log(\"Creating program instance\");\n        // Create a provider with the wallet using the global connection\n        const provider = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__.AnchorProvider(connection, wallet, _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__.AnchorProvider.defaultOptions());\n        // Set the provider\n        _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_2__.setProvider(provider);\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        console.log(\"Program created with provider\");\n        // Add your program instruction here\n        const instruction = await (0,_utils_createClaimRoomInstruction__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(program, roomId, roomName, streamUrl, wallet.publicKey // program enforces max 200 chars\n        );\n        console.log(\"instruction: \", instruction);\n        transaction.add(instruction);\n        const signature = await wallet.sendTransaction(transaction, connection);\n        await connection.confirmTransaction(signature, \"confirmed\");\n        return signature;\n    } catch (error) {\n        console.error(\"Error claiming room:\", error);\n        throw error;\n    }\n}\n// Convert blockchain piece ID to Tetris piece type\nfunction getPieceFromBlockchain(pieceId) {\n    const pieces = [\n        \"I\",\n        \"O\",\n        \"T\",\n        \"S\",\n        \"Z\",\n        \"J\",\n        \"L\"\n    ];\n    return pieces[pieceId % 7];\n}\n// Get available rooms\nasync function getAvailableRooms() {\n    const rooms = [];\n    for(let i = 0; i < ROOMS_COUNT; i++){\n        const roomData = await fetchRoomData(i);\n        rooms.push({\n            id: i,\n            ...roomData\n        });\n    }\n    return rooms;\n}\n// Get config PDA (Program Derived Address)\nfunction getConfigPDA() {\n    const [configPDA] = _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_7__.Buffer.from(\"config\")\n    ], PROGRAM_ID);\n    return configPDA;\n}\n// Check if the app is initialized by checking if config account exists\nasync function isAppInitialized() {\n    try {\n        const configPDA = getConfigPDA();\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        try {\n            await program.account.config.fetch(configPDA);\n            return true; // Config account exists, app is initialized\n        } catch (error) {\n            // Config account doesn't exist, app is not initialized\n            return false;\n        }\n    } catch (error) {\n        console.error(\"Error checking if app is initialized:\", error);\n        return false; // Assume not initialized on error\n    }\n}\n// Get piece price from config account\nasync function getPiecePriceFromConfig() {\n    try {\n        const configPDA = getConfigPDA();\n        const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n        try {\n            const configAccount = await program.account.config.fetch(configPDA);\n            console.log(\"configPDA: \", configAccount);\n            return configAccount.piecePrice.toNumber(); // Convert BN to number\n        } catch (error) {\n            console.error(\"Error fetching config account:\", error);\n            return PIECE_PRICE; // Fallback to hardcoded value\n        }\n    } catch (error) {\n        console.error(\"Error getting piece price from config:\", error);\n        return PIECE_PRICE; // Fallback to hardcoded value\n    }\n}\nfunction InitializeButton() {\n    const { connection } = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__.useConnection)();\n    const { wallet, sendTransaction } = (0,_solana_wallet_adapter_react__WEBPACK_IMPORTED_MODULE_5__.useWallet)();\n    const program = (0,_utils_program__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(connection);\n    const onClick = async ()=>{\n        if (!wallet) throw new Error(\"Connect wallet first\");\n        console.log(\"wallet: \", wallet);\n        console.log(\"wallet.publicKey: \", wallet.adapter.publicKey.toBase58());\n        const ix = await (0,_utils_createInitializeInstruction__WEBPACK_IMPORTED_MODULE_6__.createInitializeInstruction)(program, DEV_WALLET, wallet.adapter.publicKey);\n        const tx = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Transaction().add(ix);\n        try {\n            const sig = await sendTransaction(tx, connection);\n            console.log(\"tx:\", sig);\n        } catch (err) {\n            console.log(\"error: \", err);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        onClick: onClick,\n        children: \"Initialize App\"\n    }, void 0, false, {\n        fileName: \"/Users/hieu/Work/crea8r/pvf-games/games/streamer/lib/solana.js\",\n        lineNumber: 229,\n        columnNumber: 10\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxFQUFFWSxlQUFlLEVBQUUsR0FBRzNELHVFQUFTQTtJQUM3QyxNQUFNc0IsVUFBVXhCLDBEQUFXQSxDQUFDUztJQUM1QixNQUFNdUUsVUFBVTtRQUNkLElBQUksQ0FBQy9CLFFBQVEsTUFBTSxJQUFJRyxNQUFNO1FBQzdCdkIsUUFBUUMsR0FBRyxDQUFDLFlBQVltQjtRQUN4QnBCLFFBQVFDLEdBQUcsQ0FBQyxzQkFBcUJtQixPQUFPZ0MsT0FBTyxDQUFDOUIsU0FBUyxDQUFDK0IsUUFBUTtRQUNsRSxNQUFNQyxLQUFLLE1BQU1oRiwrRkFBMkJBLENBQzFDcUIsU0FDQWxCLFlBQ0EyQyxPQUFPZ0MsT0FBTyxDQUFDOUIsU0FBUztRQUcxQixNQUFNaUMsS0FBSyxJQUFJdkYsd0RBQVdBLEdBQUc4RCxHQUFHLENBQUN3QjtRQUNqQyxJQUFJO1lBQ0YsTUFBTUUsTUFBTSxNQUFNeEIsZ0JBQWdCdUIsSUFBSTNFO1lBQ3RDb0IsUUFBUUMsR0FBRyxDQUFDLE9BQU91RDtRQUNyQixFQUFFLE9BQU9DLEtBQUs7WUFDWnpELFFBQVFDLEdBQUcsQ0FBQyxXQUFVd0Q7UUFDeEI7SUFDRjtJQUVBLHFCQUFPLDhEQUFDQztRQUFPUCxTQUFTQTtrQkFBUzs7Ozs7O0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL2xpYi9zb2xhbmEuanM/NDcwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb25uZWN0aW9uLFxuICBjbHVzdGVyQXBpVXJsLFxuICBQdWJsaWNLZXksXG4gIFRyYW5zYWN0aW9uLFxufSBmcm9tICdAc29sYW5hL3dlYjMuanMnO1xuaW1wb3J0ICogYXMgYW5jaG9yIGZyb20gJ0Bjb3JhbC14eXovYW5jaG9yJztcbmltcG9ydCBjcmVhdGVDbGFpbVJvb21JbnN0cnVjdGlvbiBmcm9tICcuLi91dGlscy9jcmVhdGVDbGFpbVJvb21JbnN0cnVjdGlvbic7XG5pbXBvcnQgcHJvZ3JhbUhvb2sgZnJvbSAnLi4vdXRpbHMvcHJvZ3JhbSc7XG5pbXBvcnQgeyB1c2VDb25uZWN0aW9uLCB1c2VXYWxsZXQgfSBmcm9tICdAc29sYW5hL3dhbGxldC1hZGFwdGVyLXJlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUluaXRpYWxpemVJbnN0cnVjdGlvbiB9IGZyb20gJy4uL3V0aWxzL2NyZWF0ZUluaXRpYWxpemVJbnN0cnVjdGlvbic7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuLy8gUHJvZ3JhbSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBQUk9HUkFNX0lEID0gbmV3IFB1YmxpY0tleShcbiAgJ0ZIYldRR3pncmRLbnVaY3A0YkxoRTJHZHd6eHJHY2lXS1VlZ1c0MnlqMzNoJ1xuKTsgLy8gUmVwbGFjZSB3aXRoIGFjdHVhbCBwcm9ncmFtIElEXG5leHBvcnQgY29uc3QgREVWX1dBTExFVCA9IG5ldyBQdWJsaWNLZXkoXG4gICczZUJFUjRFZDl6OTFTVkZiUnhFc3FyVkJmb2hzZ3VrTXo0Z28xdnFUZHpmbydcbilcbmV4cG9ydCBjb25zdCBQSUVDRV9QUklDRSA9IDFfMDAwXzAwMDsgLy8gMC4wMDEgU09MIGluIGxhbXBvcnRzXG5leHBvcnQgY29uc3QgUk9PTVNfQ09VTlQgPSAxMDtcblxuLy8gQ29ubmVjdGlvbiBzZXR1cCAtIHVzZSBsb2NhbGhvc3QgZm9yIGRldmVsb3BtZW50XG5leHBvcnQgY29uc3QgY29ubmVjdGlvbiA9IG5ldyBDb25uZWN0aW9uKCdodHRwOi8vbG9jYWxob3N0Ojg4OTknLCAnY29uZmlybWVkJyk7XG5cbi8vIEdldCByb29tIFBEQSAoUHJvZ3JhbSBEZXJpdmVkIEFkZHJlc3MpXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9vbVBEQShyb29tSWQpIHtcbiAgY29uc3QgW3Jvb21QREFdID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW0J1ZmZlci5mcm9tKCdyb29tJyksIEJ1ZmZlci5mcm9tKFtyb29tSWRdKV0sXG4gICAgUFJPR1JBTV9JRFxuICApO1xuICByZXR1cm4gcm9vbVBEQTtcbn1cblxuLy8gQ2hlY2sgaWYgcm9vbSBpcyBleHBpcmVkICgyKyBtaW51dGVzIG9sZClcbmV4cG9ydCBmdW5jdGlvbiBpc1Jvb21FeHBpcmVkKHRpbWVzdGFtcCkge1xuICBpZiAoIXRpbWVzdGFtcCkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICBjb25zdCB0aW1lRGlmZiA9IGN1cnJlbnRUaW1lIC0gdGltZXN0YW1wO1xuICByZXR1cm4gdGltZURpZmYgPj0gMTIwOyAvLyAxMjAgc2Vjb25kcyA9IDIgbWludXRlc1xufVxuXG4vLyBGZXRjaCByb29tIGRhdGEgZnJvbSBibG9ja2NoYWluXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSb29tRGF0YShyb29tSWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByb29tUERBID0gZ2V0Um9vbVBEQShyb29tSWQpO1xuICAgIFxuICAgIC8vIFVzZSB0aGUgc2FtZSBjb25uZWN0aW9uIGFzIHRoZSByZXN0IG9mIHRoZSBhcHBcbiAgICBjb25zdCBwcm9ncmFtID0gcHJvZ3JhbUhvb2soY29ubmVjdGlvbik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgcm9vbUFjY291bnQgPSBhd2FpdCBwcm9ncmFtLmFjY291bnQucm9vbS5mZXRjaChyb29tUERBKTtcbiAgICAgIGNvbnNvbGUubG9nKCdyb29tQWNjb3VudDogJywgcm9vbUFjY291bnQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXhpc3RzOiB0cnVlLFxuICAgICAgICBsYXRlc3RfY2hvc2VuX3BpZWNlOiByb29tQWNjb3VudC5sYXRlc3RDaG9zZW5QaWVjZSxcbiAgICAgICAgbGFzdF9idXllcjogcm9vbUFjY291bnQubGFzdEJ1eWVyLnRvU3RyaW5nKCksXG4gICAgICAgIHRpbWVzdGFtcDogcm9vbUFjY291bnQudGltZXN0YW1wLnRvTnVtYmVyKCksXG4gICAgICAgIHJvb21fbmFtZTogcm9vbUFjY291bnQucm9vbU5hbWUsXG4gICAgICAgIHN0cmVhbV91cmw6IHJvb21BY2NvdW50LnN0cmVhbVVybCxcbiAgICAgICAgb3duZXI6IHJvb21BY2NvdW50LnBsYXllcldhbGxldC50b1N0cmluZygpLFxuICAgICAgICBleHBpcmVkOiBpc1Jvb21FeHBpcmVkKHJvb21BY2NvdW50LnRpbWVzdGFtcC50b051bWJlcigpKSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZmV0Y2hFcnJvcikge1xuICAgICAgLy8gUm9vbSBkb2Vzbid0IGV4aXN0XG4gICAgICByZXR1cm4ge1xuICAgICAgICBleGlzdHM6IGZhbHNlLFxuICAgICAgICBsYXRlc3RfY2hvc2VuX3BpZWNlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KSxcbiAgICAgICAgbGFzdF9idXllcjogbnVsbCxcbiAgICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgICByb29tX25hbWU6ICcnLFxuICAgICAgICBzdHJlYW1fdXJsOiAnJyxcbiAgICAgICAgb3duZXI6IG51bGwsXG4gICAgICAgIGV4cGlyZWQ6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcm9vbSBkYXRhOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgZXhpc3RzOiBmYWxzZSxcbiAgICAgIGxhdGVzdF9jaG9zZW5fcGllY2U6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpLFxuICAgICAgbGFzdF9idXllcjogbnVsbCxcbiAgICAgIHRpbWVzdGFtcDogMCxcbiAgICAgIHJvb21fbmFtZTogJycsXG4gICAgICBzdHJlYW1fdXJsOiAnJyxcbiAgICAgIG93bmVyOiBudWxsLFxuICAgICAgZXhwaXJlZDogZmFsc2UsXG4gICAgfTtcbiAgfVxufVxuXG4vLyBDbGFpbSByb29tIGZ1bmN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xhaW1Sb29tKHdhbGxldCwgcm9vbUlkLCByb29tTmFtZSwgc3RyZWFtVXJsKSB7XG4gIGlmICghd2FsbGV0LmNvbm5lY3RlZCB8fCAhd2FsbGV0LnB1YmxpY0tleSkge1xuICAgIHRocm93IG5ldyBFcnJvcignV2FsbGV0IG5vdCBjb25uZWN0ZWQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHRyYW5zYWN0aW9uXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oKTtcblxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBwcm9ncmFtIGluc3RhbmNlJyk7XG5cbiAgICAvLyBDcmVhdGUgYSBwcm92aWRlciB3aXRoIHRoZSB3YWxsZXQgdXNpbmcgdGhlIGdsb2JhbCBjb25uZWN0aW9uXG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgYW5jaG9yLkFuY2hvclByb3ZpZGVyKFxuICAgICAgY29ubmVjdGlvbixcbiAgICAgIHdhbGxldCxcbiAgICAgIGFuY2hvci5BbmNob3JQcm92aWRlci5kZWZhdWx0T3B0aW9ucygpXG4gICAgKTtcbiAgICBcbiAgICAvLyBTZXQgdGhlIHByb3ZpZGVyXG4gICAgYW5jaG9yLnNldFByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICBcbiAgICBjb25zdCBwcm9ncmFtID0gcHJvZ3JhbUhvb2soY29ubmVjdGlvbik7XG5cbiAgICBjb25zb2xlLmxvZygnUHJvZ3JhbSBjcmVhdGVkIHdpdGggcHJvdmlkZXInKTtcblxuICAgIC8vIEFkZCB5b3VyIHByb2dyYW0gaW5zdHJ1Y3Rpb24gaGVyZVxuICAgIGNvbnN0IGluc3RydWN0aW9uID0gYXdhaXQgY3JlYXRlQ2xhaW1Sb29tSW5zdHJ1Y3Rpb24oXG4gICAgICBwcm9ncmFtLFxuICAgICAgcm9vbUlkLCAvLyBVc2UgdGhlIGFjdHVhbCByb29tSWQgcGFyYW1ldGVyXG4gICAgICByb29tTmFtZSwgLy8gcHJvZ3JhbSBlbmZvcmNlcyBtYXggNTAgY2hhcnNcbiAgICAgIHN0cmVhbVVybCxcbiAgICAgIHdhbGxldC5wdWJsaWNLZXkgLy8gcHJvZ3JhbSBlbmZvcmNlcyBtYXggMjAwIGNoYXJzXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZygnaW5zdHJ1Y3Rpb246ICcsIGluc3RydWN0aW9uKTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoaW5zdHJ1Y3Rpb24pO1xuXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgd2FsbGV0LnNlbmRUcmFuc2FjdGlvbih0cmFuc2FjdGlvbiwgY29ubmVjdGlvbik7XG4gICAgYXdhaXQgY29ubmVjdGlvbi5jb25maXJtVHJhbnNhY3Rpb24oc2lnbmF0dXJlLCAnY29uZmlybWVkJyk7XG5cbiAgICByZXR1cm4gc2lnbmF0dXJlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsYWltaW5nIHJvb206JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIENvbnZlcnQgYmxvY2tjaGFpbiBwaWVjZSBJRCB0byBUZXRyaXMgcGllY2UgdHlwZVxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpZWNlRnJvbUJsb2NrY2hhaW4ocGllY2VJZCkge1xuICBjb25zdCBwaWVjZXMgPSBbJ0knLCAnTycsICdUJywgJ1MnLCAnWicsICdKJywgJ0wnXTtcbiAgcmV0dXJuIHBpZWNlc1twaWVjZUlkICUgN107XG59XG5cbi8vIEdldCBhdmFpbGFibGUgcm9vbXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdmFpbGFibGVSb29tcygpIHtcbiAgY29uc3Qgcm9vbXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBST09NU19DT1VOVDsgaSsrKSB7XG4gICAgY29uc3Qgcm9vbURhdGEgPSBhd2FpdCBmZXRjaFJvb21EYXRhKGkpO1xuICAgIHJvb21zLnB1c2goe1xuICAgICAgaWQ6IGksXG4gICAgICAuLi5yb29tRGF0YSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcm9vbXM7XG59XG5cbi8vIEdldCBjb25maWcgUERBIChQcm9ncmFtIERlcml2ZWQgQWRkcmVzcylcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25maWdQREEoKSB7XG4gIGNvbnN0IFtjb25maWdQREFdID0gUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW0J1ZmZlci5mcm9tKCdjb25maWcnKV0sXG4gICAgUFJPR1JBTV9JRFxuICApO1xuICByZXR1cm4gY29uZmlnUERBO1xufVxuXG4vLyBDaGVjayBpZiB0aGUgYXBwIGlzIGluaXRpYWxpemVkIGJ5IGNoZWNraW5nIGlmIGNvbmZpZyBhY2NvdW50IGV4aXN0c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzQXBwSW5pdGlhbGl6ZWQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlnUERBID0gZ2V0Q29uZmlnUERBKCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHByb2dyYW1Ib29rKGNvbm5lY3Rpb24pO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBwcm9ncmFtLmFjY291bnQuY29uZmlnLmZldGNoKGNvbmZpZ1BEQSk7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gQ29uZmlnIGFjY291bnQgZXhpc3RzLCBhcHAgaXMgaW5pdGlhbGl6ZWRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gQ29uZmlnIGFjY291bnQgZG9lc24ndCBleGlzdCwgYXBwIGlzIG5vdCBpbml0aWFsaXplZFxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBpZiBhcHAgaXMgaW5pdGlhbGl6ZWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTsgLy8gQXNzdW1lIG5vdCBpbml0aWFsaXplZCBvbiBlcnJvclxuICB9XG59XG5cbi8vIEdldCBwaWVjZSBwcmljZSBmcm9tIGNvbmZpZyBhY2NvdW50XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGllY2VQcmljZUZyb21Db25maWcoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlnUERBID0gZ2V0Q29uZmlnUERBKCk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IHByb2dyYW1Ib29rKGNvbm5lY3Rpb24pO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25maWdBY2NvdW50ID0gYXdhaXQgcHJvZ3JhbS5hY2NvdW50LmNvbmZpZy5mZXRjaChjb25maWdQREEpO1xuICAgICAgY29uc29sZS5sb2coJ2NvbmZpZ1BEQTogJywgY29uZmlnQWNjb3VudCk7XG4gICAgICByZXR1cm4gY29uZmlnQWNjb3VudC5waWVjZVByaWNlLnRvTnVtYmVyKCk7IC8vIENvbnZlcnQgQk4gdG8gbnVtYmVyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbmZpZyBhY2NvdW50OicsIGVycm9yKTtcbiAgICAgIHJldHVybiBQSUVDRV9QUklDRTsgLy8gRmFsbGJhY2sgdG8gaGFyZGNvZGVkIHZhbHVlXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcGllY2UgcHJpY2UgZnJvbSBjb25maWc6JywgZXJyb3IpO1xuICAgIHJldHVybiBQSUVDRV9QUklDRTsgLy8gRmFsbGJhY2sgdG8gaGFyZGNvZGVkIHZhbHVlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEluaXRpYWxpemVCdXR0b24oKSB7XG4gIGNvbnN0IHsgY29ubmVjdGlvbiB9ID0gdXNlQ29ubmVjdGlvbigpO1xuICBjb25zdCB7IHdhbGxldCwgc2VuZFRyYW5zYWN0aW9uIH0gPSB1c2VXYWxsZXQoKTtcbiAgY29uc3QgcHJvZ3JhbSA9IHByb2dyYW1Ib29rKGNvbm5lY3Rpb24pO1xuICBjb25zdCBvbkNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghd2FsbGV0KSB0aHJvdyBuZXcgRXJyb3IoJ0Nvbm5lY3Qgd2FsbGV0IGZpcnN0Jyk7XG4gICAgY29uc29sZS5sb2coJ3dhbGxldDogJywgd2FsbGV0KTtcbiAgICBjb25zb2xlLmxvZygnd2FsbGV0LnB1YmxpY0tleTogJyx3YWxsZXQuYWRhcHRlci5wdWJsaWNLZXkudG9CYXNlNTgoKSlcbiAgICBjb25zdCBpeCA9IGF3YWl0IGNyZWF0ZUluaXRpYWxpemVJbnN0cnVjdGlvbihcbiAgICAgIHByb2dyYW0sXG4gICAgICBERVZfV0FMTEVULFxuICAgICAgd2FsbGV0LmFkYXB0ZXIucHVibGljS2V5XG4gICAgKTtcblxuICAgIGNvbnN0IHR4ID0gbmV3IFRyYW5zYWN0aW9uKCkuYWRkKGl4KTtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2lnID0gYXdhaXQgc2VuZFRyYW5zYWN0aW9uKHR4LCBjb25uZWN0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCd0eDonLCBzaWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnLGVycilcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIDxidXR0b24gb25DbGljaz17b25DbGlja30+SW5pdGlhbGl6ZSBBcHA8L2J1dHRvbj47XG59XG4iXSwibmFtZXMiOlsiQ29ubmVjdGlvbiIsImNsdXN0ZXJBcGlVcmwiLCJQdWJsaWNLZXkiLCJUcmFuc2FjdGlvbiIsImFuY2hvciIsImNyZWF0ZUNsYWltUm9vbUluc3RydWN0aW9uIiwicHJvZ3JhbUhvb2siLCJ1c2VDb25uZWN0aW9uIiwidXNlV2FsbGV0IiwiY3JlYXRlSW5pdGlhbGl6ZUluc3RydWN0aW9uIiwiQnVmZmVyIiwiUFJPR1JBTV9JRCIsIkRFVl9XQUxMRVQiLCJQSUVDRV9QUklDRSIsIlJPT01TX0NPVU5UIiwiY29ubmVjdGlvbiIsImdldFJvb21QREEiLCJyb29tSWQiLCJyb29tUERBIiwiZmluZFByb2dyYW1BZGRyZXNzU3luYyIsImZyb20iLCJpc1Jvb21FeHBpcmVkIiwidGltZXN0YW1wIiwiY3VycmVudFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwidGltZURpZmYiLCJmZXRjaFJvb21EYXRhIiwicHJvZ3JhbSIsInJvb21BY2NvdW50IiwiYWNjb3VudCIsInJvb20iLCJmZXRjaCIsImNvbnNvbGUiLCJsb2ciLCJleGlzdHMiLCJsYXRlc3RfY2hvc2VuX3BpZWNlIiwibGF0ZXN0Q2hvc2VuUGllY2UiLCJsYXN0X2J1eWVyIiwibGFzdEJ1eWVyIiwidG9TdHJpbmciLCJ0b051bWJlciIsInJvb21fbmFtZSIsInJvb21OYW1lIiwic3RyZWFtX3VybCIsInN0cmVhbVVybCIsIm93bmVyIiwicGxheWVyV2FsbGV0IiwiZXhwaXJlZCIsImZldGNoRXJyb3IiLCJyYW5kb20iLCJlcnJvciIsImNsYWltUm9vbSIsIndhbGxldCIsImNvbm5lY3RlZCIsInB1YmxpY0tleSIsIkVycm9yIiwidHJhbnNhY3Rpb24iLCJwcm92aWRlciIsIkFuY2hvclByb3ZpZGVyIiwiZGVmYXVsdE9wdGlvbnMiLCJzZXRQcm92aWRlciIsImluc3RydWN0aW9uIiwiYWRkIiwic2lnbmF0dXJlIiwic2VuZFRyYW5zYWN0aW9uIiwiY29uZmlybVRyYW5zYWN0aW9uIiwiZ2V0UGllY2VGcm9tQmxvY2tjaGFpbiIsInBpZWNlSWQiLCJwaWVjZXMiLCJnZXRBdmFpbGFibGVSb29tcyIsInJvb21zIiwiaSIsInJvb21EYXRhIiwicHVzaCIsImlkIiwiZ2V0Q29uZmlnUERBIiwiY29uZmlnUERBIiwiaXNBcHBJbml0aWFsaXplZCIsImNvbmZpZyIsImdldFBpZWNlUHJpY2VGcm9tQ29uZmlnIiwiY29uZmlnQWNjb3VudCIsInBpZWNlUHJpY2UiLCJJbml0aWFsaXplQnV0dG9uIiwib25DbGljayIsImFkYXB0ZXIiLCJ0b0Jhc2U1OCIsIml4IiwidHgiLCJzaWciLCJlcnIiLCJidXR0b24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/solana.js\n");

/***/ }),

/***/ "./lib/tetris.js":
/*!***********************!*\
  !*** ./lib/tetris.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BOARD_HEIGHT: () => (/* binding */ BOARD_HEIGHT),\n/* harmony export */   BOARD_WIDTH: () => (/* binding */ BOARD_WIDTH),\n/* harmony export */   PIECES: () => (/* binding */ PIECES),\n/* harmony export */   calculateScore: () => (/* binding */ calculateScore),\n/* harmony export */   clearLines: () => (/* binding */ clearLines),\n/* harmony export */   createBoard: () => (/* binding */ createBoard),\n/* harmony export */   createPieceState: () => (/* binding */ createPieceState),\n/* harmony export */   getGhostPiecePosition: () => (/* binding */ getGhostPiecePosition),\n/* harmony export */   getRandomPieceType: () => (/* binding */ getRandomPieceType),\n/* harmony export */   isValidMove: () => (/* binding */ isValidMove),\n/* harmony export */   placePiece: () => (/* binding */ placePiece),\n/* harmony export */   rotatePiece: () => (/* binding */ rotatePiece)\n/* harmony export */ });\n// Tetris game constants\nconst BOARD_WIDTH = 15;\nconst BOARD_HEIGHT = 16;\n// Tetris pieces definitions\nconst PIECES = {\n    I: {\n        shape: [\n            [\n                1,\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-cyan-400\"\n    },\n    O: {\n        shape: [\n            [\n                1,\n                1\n            ],\n            [\n                1,\n                1\n            ]\n        ],\n        color: \"bg-yellow-400\"\n    },\n    T: {\n        shape: [\n            [\n                0,\n                1,\n                0\n            ],\n            [\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-purple-400\"\n    },\n    S: {\n        shape: [\n            [\n                0,\n                1,\n                1\n            ],\n            [\n                1,\n                1,\n                0\n            ]\n        ],\n        color: \"bg-green-400\"\n    },\n    Z: {\n        shape: [\n            [\n                1,\n                1,\n                0\n            ],\n            [\n                0,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-red-400\"\n    },\n    J: {\n        shape: [\n            [\n                1,\n                0,\n                0\n            ],\n            [\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-blue-400\"\n    },\n    L: {\n        shape: [\n            [\n                0,\n                0,\n                1\n            ],\n            [\n                1,\n                1,\n                1\n            ]\n        ],\n        color: \"bg-orange-400\"\n    }\n};\n// Create empty board\nfunction createBoard() {\n    const b = Array(BOARD_HEIGHT).fill(null).map(()=>Array(BOARD_WIDTH).fill(0));\n    return b;\n}\n// Rotate piece 90 degrees clockwise\nfunction rotatePiece(piece) {\n    const rotated = piece[0].map((_, index)=>piece.map((row)=>row[index]).reverse());\n    return rotated;\n}\n// Check if piece placement is valid\nfunction isValidMove(board, piece, x, y) {\n    for(let py = 0; py < piece.length; py++){\n        for(let px = 0; px < piece[py].length; px++){\n            if (piece[py][px]) {\n                const newX = x + px;\n                const newY = y + py;\n                // Check boundaries\n                if (newX < 0 || newX >= BOARD_WIDTH || newY >= BOARD_HEIGHT) {\n                    return false;\n                }\n                // Check collision with existing pieces\n                if (newY >= 0 && board[newY][newX]) {\n                    return false;\n                }\n            }\n        }\n    }\n    return true;\n}\n// Place piece on board\nfunction placePiece(board, piece, x, y, pieceType) {\n    const newBoard = board.map((row)=>[\n            ...row\n        ]);\n    for(let py = 0; py < piece.length; py++){\n        for(let px = 0; px < piece[py].length; px++){\n            if (piece[py][px]) {\n                const newY = y + py;\n                const newX = x + px;\n                if (newY >= 0) {\n                    newBoard[newY][newX] = pieceType;\n                }\n            }\n        }\n    }\n    return newBoard;\n}\n// Clear completed lines\nfunction clearLines(board) {\n    let linesCleared = 0;\n    const newBoard = [];\n    for(let y = 0; y < BOARD_HEIGHT; y++){\n        if (board[y].some((cell)=>cell === 0)) {\n            newBoard.push([\n                ...board[y]\n            ]);\n        } else {\n            linesCleared++;\n        }\n    }\n    // Add empty lines at the top\n    while(newBoard.length < BOARD_HEIGHT){\n        newBoard.unshift(Array(BOARD_WIDTH).fill(0));\n    }\n    return {\n        board: newBoard,\n        linesCleared\n    };\n}\n// Calculate score\nfunction calculateScore(lines, level) {\n    const baseScores = [\n        0,\n        40,\n        100,\n        300,\n        1200\n    ];\n    return baseScores[lines] * (level + 1);\n}\n// Get random piece type\nfunction getRandomPieceType() {\n    const pieceTypes = Object.keys(PIECES);\n    return pieceTypes[Math.floor(Math.random() * pieceTypes.length)];\n}\n// Create piece state\nfunction createPieceState(pieceType, x = 3, y = 0) {\n    return {\n        type: pieceType,\n        shape: PIECES[pieceType].shape,\n        x,\n        y,\n        rotation: 0\n    };\n}\n// Get ghost piece position (where piece would land)\nfunction getGhostPiecePosition(board, piece) {\n    let ghostY = piece.y;\n    while(isValidMove(board, piece.shape, piece.x, ghostY + 1)){\n        ghostY++;\n    }\n    return ghostY;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBS0wsV0FBV2xCLE1BQU0sRUFBRTtBQUNsRTtBQUVBLHFCQUFxQjtBQUNkLFNBQVN3QixpQkFBaUJuQixTQUFTLEVBQUVSLElBQUksQ0FBQyxFQUFFQyxJQUFJLENBQUM7SUFDdEQsT0FBTztRQUNMMkIsTUFBTXBCO1FBQ045QixPQUFPRixNQUFNLENBQUNnQyxVQUFVLENBQUM5QixLQUFLO1FBQzlCc0I7UUFDQUM7UUFDQTRCLFVBQVU7SUFDWjtBQUNGO0FBRUEsb0RBQW9EO0FBQzdDLFNBQVNDLHNCQUFzQi9CLEtBQUssRUFBRVAsS0FBSztJQUNoRCxJQUFJdUMsU0FBU3ZDLE1BQU1TLENBQUM7SUFDcEIsTUFBT0gsWUFBWUMsT0FBT1AsTUFBTWQsS0FBSyxFQUFFYyxNQUFNUSxDQUFDLEVBQUUrQixTQUFTLEdBQUk7UUFDM0RBO0lBQ0Y7SUFDQSxPQUFPQTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL2xpYi90ZXRyaXMuanM/Njg4MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUZXRyaXMgZ2FtZSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBCT0FSRF9XSURUSCA9IDE1O1xuZXhwb3J0IGNvbnN0IEJPQVJEX0hFSUdIVCA9IDE2O1xuXG4vLyBUZXRyaXMgcGllY2VzIGRlZmluaXRpb25zXG5leHBvcnQgY29uc3QgUElFQ0VTID0ge1xuICBJOiB7XG4gICAgc2hhcGU6IFtbMSwgMSwgMSwgMV1dLFxuICAgIGNvbG9yOiAnYmctY3lhbi00MDAnXG4gIH0sXG4gIE86IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzEsIDFdLFxuICAgICAgWzEsIDFdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLXllbGxvdy00MDAnXG4gIH0sXG4gIFQ6IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzAsIDEsIDBdLFxuICAgICAgWzEsIDEsIDFdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLXB1cnBsZS00MDAnXG4gIH0sXG4gIFM6IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzAsIDEsIDFdLFxuICAgICAgWzEsIDEsIDBdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLWdyZWVuLTQwMCdcbiAgfSxcbiAgWjoge1xuICAgIHNoYXBlOiBbXG4gICAgICBbMSwgMSwgMF0sXG4gICAgICBbMCwgMSwgMV1cbiAgICBdLFxuICAgIGNvbG9yOiAnYmctcmVkLTQwMCdcbiAgfSxcbiAgSjoge1xuICAgIHNoYXBlOiBbXG4gICAgICBbMSwgMCwgMF0sXG4gICAgICBbMSwgMSwgMV1cbiAgICBdLFxuICAgIGNvbG9yOiAnYmctYmx1ZS00MDAnXG4gIH0sXG4gIEw6IHtcbiAgICBzaGFwZTogW1xuICAgICAgWzAsIDAsIDFdLFxuICAgICAgWzEsIDEsIDFdXG4gICAgXSxcbiAgICBjb2xvcjogJ2JnLW9yYW5nZS00MDAnXG4gIH1cbn07XG5cbi8vIENyZWF0ZSBlbXB0eSBib2FyZFxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJvYXJkKCkge1xuICBjb25zdCBiID0gQXJyYXkoQk9BUkRfSEVJR0hUKS5maWxsKG51bGwpLm1hcCgoKSA9PiBBcnJheShCT0FSRF9XSURUSCkuZmlsbCgwKSk7XG4gIHJldHVybiBiO1xufVxuXG4vLyBSb3RhdGUgcGllY2UgOTAgZGVncmVlcyBjbG9ja3dpc2VcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVQaWVjZShwaWVjZSkge1xuICBjb25zdCByb3RhdGVkID0gcGllY2VbMF0ubWFwKChfLCBpbmRleCkgPT5cbiAgICBwaWVjZS5tYXAocm93ID0+IHJvd1tpbmRleF0pLnJldmVyc2UoKVxuICApO1xuICByZXR1cm4gcm90YXRlZDtcbn1cblxuLy8gQ2hlY2sgaWYgcGllY2UgcGxhY2VtZW50IGlzIHZhbGlkXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZE1vdmUoYm9hcmQsIHBpZWNlLCB4LCB5KSB7XG4gIGZvciAobGV0IHB5ID0gMDsgcHkgPCBwaWVjZS5sZW5ndGg7IHB5KyspIHtcbiAgICBmb3IgKGxldCBweCA9IDA7IHB4IDwgcGllY2VbcHldLmxlbmd0aDsgcHgrKykge1xuICAgICAgaWYgKHBpZWNlW3B5XVtweF0pIHtcbiAgICAgICAgY29uc3QgbmV3WCA9IHggKyBweDtcbiAgICAgICAgY29uc3QgbmV3WSA9IHkgKyBweTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGJvdW5kYXJpZXNcbiAgICAgICAgaWYgKG5ld1ggPCAwIHx8IG5ld1ggPj0gQk9BUkRfV0lEVEggfHwgbmV3WSA+PSBCT0FSRF9IRUlHSFQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGNvbGxpc2lvbiB3aXRoIGV4aXN0aW5nIHBpZWNlc1xuICAgICAgICBpZiAobmV3WSA+PSAwICYmIGJvYXJkW25ld1ldW25ld1hdKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBQbGFjZSBwaWVjZSBvbiBib2FyZFxuZXhwb3J0IGZ1bmN0aW9uIHBsYWNlUGllY2UoYm9hcmQsIHBpZWNlLCB4LCB5LCBwaWVjZVR5cGUpIHtcbiAgY29uc3QgbmV3Qm9hcmQgPSBib2FyZC5tYXAocm93ID0+IFsuLi5yb3ddKTtcbiAgXG4gIGZvciAobGV0IHB5ID0gMDsgcHkgPCBwaWVjZS5sZW5ndGg7IHB5KyspIHtcbiAgICBmb3IgKGxldCBweCA9IDA7IHB4IDwgcGllY2VbcHldLmxlbmd0aDsgcHgrKykge1xuICAgICAgaWYgKHBpZWNlW3B5XVtweF0pIHtcbiAgICAgICAgY29uc3QgbmV3WSA9IHkgKyBweTtcbiAgICAgICAgY29uc3QgbmV3WCA9IHggKyBweDtcbiAgICAgICAgaWYgKG5ld1kgPj0gMCkge1xuICAgICAgICAgIG5ld0JvYXJkW25ld1ldW25ld1hdID0gcGllY2VUeXBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gbmV3Qm9hcmQ7XG59XG5cbi8vIENsZWFyIGNvbXBsZXRlZCBsaW5lc1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTGluZXMoYm9hcmQpIHtcbiAgbGV0IGxpbmVzQ2xlYXJlZCA9IDA7XG4gIGNvbnN0IG5ld0JvYXJkID0gW107XG4gIFxuICBmb3IgKGxldCB5ID0gMDsgeSA8IEJPQVJEX0hFSUdIVDsgeSsrKSB7XG4gICAgaWYgKGJvYXJkW3ldLnNvbWUoY2VsbCA9PiBjZWxsID09PSAwKSkge1xuICAgICAgbmV3Qm9hcmQucHVzaChbLi4uYm9hcmRbeV1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZXNDbGVhcmVkKys7XG4gICAgfVxuICB9XG4gIFxuICAvLyBBZGQgZW1wdHkgbGluZXMgYXQgdGhlIHRvcFxuICB3aGlsZSAobmV3Qm9hcmQubGVuZ3RoIDwgQk9BUkRfSEVJR0hUKSB7XG4gICAgbmV3Qm9hcmQudW5zaGlmdChBcnJheShCT0FSRF9XSURUSCkuZmlsbCgwKSk7XG4gIH1cbiAgXG4gIHJldHVybiB7IGJvYXJkOiBuZXdCb2FyZCwgbGluZXNDbGVhcmVkIH07XG59XG5cbi8vIENhbGN1bGF0ZSBzY29yZVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVNjb3JlKGxpbmVzLCBsZXZlbCkge1xuICBjb25zdCBiYXNlU2NvcmVzID0gWzAsIDQwLCAxMDAsIDMwMCwgMTIwMF07XG4gIHJldHVybiBiYXNlU2NvcmVzW2xpbmVzXSAqIChsZXZlbCArIDEpO1xufVxuXG4vLyBHZXQgcmFuZG9tIHBpZWNlIHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21QaWVjZVR5cGUoKSB7XG4gIGNvbnN0IHBpZWNlVHlwZXMgPSBPYmplY3Qua2V5cyhQSUVDRVMpO1xuICByZXR1cm4gcGllY2VUeXBlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwaWVjZVR5cGVzLmxlbmd0aCldO1xufVxuXG4vLyBDcmVhdGUgcGllY2Ugc3RhdGVcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQaWVjZVN0YXRlKHBpZWNlVHlwZSwgeCA9IDMsIHkgPSAwKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogcGllY2VUeXBlLFxuICAgIHNoYXBlOiBQSUVDRVNbcGllY2VUeXBlXS5zaGFwZSxcbiAgICB4LFxuICAgIHksXG4gICAgcm90YXRpb246IDBcbiAgfTtcbn1cblxuLy8gR2V0IGdob3N0IHBpZWNlIHBvc2l0aW9uICh3aGVyZSBwaWVjZSB3b3VsZCBsYW5kKVxuZXhwb3J0IGZ1bmN0aW9uIGdldEdob3N0UGllY2VQb3NpdGlvbihib2FyZCwgcGllY2UpIHtcbiAgbGV0IGdob3N0WSA9IHBpZWNlLnk7XG4gIHdoaWxlIChpc1ZhbGlkTW92ZShib2FyZCwgcGllY2Uuc2hhcGUsIHBpZWNlLngsIGdob3N0WSArIDEpKSB7XG4gICAgZ2hvc3RZKys7XG4gIH1cbiAgcmV0dXJuIGdob3N0WTtcbn0iXSwibmFtZXMiOlsiQk9BUkRfV0lEVEgiLCJCT0FSRF9IRUlHSFQiLCJQSUVDRVMiLCJJIiwic2hhcGUiLCJjb2xvciIsIk8iLCJUIiwiUyIsIloiLCJKIiwiTCIsImNyZWF0ZUJvYXJkIiwiYiIsIkFycmF5IiwiZmlsbCIsIm1hcCIsInJvdGF0ZVBpZWNlIiwicGllY2UiLCJyb3RhdGVkIiwiXyIsImluZGV4Iiwicm93IiwicmV2ZXJzZSIsImlzVmFsaWRNb3ZlIiwiYm9hcmQiLCJ4IiwieSIsInB5IiwibGVuZ3RoIiwicHgiLCJuZXdYIiwibmV3WSIsInBsYWNlUGllY2UiLCJwaWVjZVR5cGUiLCJuZXdCb2FyZCIsImNsZWFyTGluZXMiLCJsaW5lc0NsZWFyZWQiLCJzb21lIiwiY2VsbCIsInB1c2giLCJ1bnNoaWZ0IiwiY2FsY3VsYXRlU2NvcmUiLCJsaW5lcyIsImxldmVsIiwiYmFzZVNjb3JlcyIsImdldFJhbmRvbVBpZWNlVHlwZSIsInBpZWNlVHlwZXMiLCJPYmplY3QiLCJrZXlzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY3JlYXRlUGllY2VTdGF0ZSIsInR5cGUiLCJyb3RhdGlvbiIsImdldEdob3N0UGllY2VQb3NpdGlvbiIsImdob3N0WSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/tetris.js\n");

/***/ }),

/***/ "./utils/createChoosePieceInstruction.ts":
/*!***********************************************!*\
  !*** ./utils/createChoosePieceInstruction.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createChoosePieceInstruction: () => (/* binding */ createChoosePieceInstruction)\n/* harmony export */ });\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst createChoosePieceInstruction = async (program, roomId, pieceType, buyerWallet, streamerWallet)=>{\n    console.log(\"Creating choose piece instruction...\");\n    console.log(\"roomId:\", roomId);\n    console.log(\"pieceType:\", pieceType);\n    console.log(\"buyerWallet:\", buyerWallet.toString());\n    console.log(\"streamerWallet:\", streamerWallet.toString());\n    // Derive PDAs\n    const [config] = _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(\"config\")\n    ], program.programId);\n    const [room] = _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(\"room\"),\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from([\n            roomId\n        ])\n    ], program.programId);\n    // Get dev wallet from constants\n    const DEV_WALLET = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.PublicKey(\"3eBER4Ed9z91SVFbRxEsqrVBfohsgukMz4go1vqTdzfo\");\n    const instruction = await program.methods.choosePiece(roomId, pieceType).accountsPartial({\n        config,\n        room,\n        buyer: buyerWallet,\n        streamer: streamerWallet,\n        devWallet: DEV_WALLET,\n        systemProgram: _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.SystemProgram.programId\n    }).instruction();\n    return instruction;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9jcmVhdGVDaG9vc2VQaWVjZUluc3RydWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzRDO0FBQ1o7QUFFekIsTUFBTUUsK0JBQStCLE9BQzFDQyxTQUNBQyxRQUNBQyxXQUNBQyxhQUNBQztJQUVBQyxRQUFRQyxHQUFHLENBQUM7SUFDWkQsUUFBUUMsR0FBRyxDQUFDLFdBQVdMO0lBQ3ZCSSxRQUFRQyxHQUFHLENBQUMsY0FBY0o7SUFDMUJHLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JILFlBQVlJLFFBQVE7SUFDaERGLFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUJGLGVBQWVHLFFBQVE7SUFFdEQsY0FBYztJQUNkLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHWCxtREFBVyxDQUFDYSxTQUFTLENBQUNDLHNCQUFzQixDQUMzRDtRQUFDYiwwQ0FBTUEsQ0FBQ2MsSUFBSSxDQUFDO0tBQVUsRUFDdkJaLFFBQVFhLFNBQVM7SUFHbkIsTUFBTSxDQUFDQyxLQUFLLEdBQUdqQixtREFBVyxDQUFDYSxTQUFTLENBQUNDLHNCQUFzQixDQUN6RDtRQUFDYiwwQ0FBTUEsQ0FBQ2MsSUFBSSxDQUFDO1FBQVNkLDBDQUFNQSxDQUFDYyxJQUFJLENBQUM7WUFBQ1g7U0FBTztLQUFFLEVBQzVDRCxRQUFRYSxTQUFTO0lBR25CLGdDQUFnQztJQUNoQyxNQUFNRSxhQUFhLElBQUlsQixtREFBVyxDQUFDYSxTQUFTLENBQzFDO0lBR0YsTUFBTU0sY0FBYyxNQUFNaEIsUUFBUWlCLE9BQU8sQ0FDdENDLFdBQVcsQ0FBQ2pCLFFBQVFDLFdBQ3BCaUIsZUFBZSxDQUFDO1FBQ2ZYO1FBQ0FNO1FBQ0FNLE9BQU9qQjtRQUNQa0IsVUFBVWpCO1FBQ1ZrQixXQUFXUDtRQUNYUSxlQUFlMUIsbURBQVcsQ0FBQzJCLGFBQWEsQ0FBQ1gsU0FBUztJQUNwRCxHQUNDRyxXQUFXO0lBRWQsT0FBT0E7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL3V0aWxzL2NyZWF0ZUNob29zZVBpZWNlSW5zdHJ1Y3Rpb24udHM/NGJlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXRyaXNTdHJlYW1pbmcgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCAqIGFzIGFuY2hvciBmcm9tICdAY29yYWwteHl6L2FuY2hvcic7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2hvb3NlUGllY2VJbnN0cnVjdGlvbiA9IGFzeW5jIChcbiAgcHJvZ3JhbTogYW5jaG9yLlByb2dyYW08VGV0cmlzU3RyZWFtaW5nPixcbiAgcm9vbUlkOiBudW1iZXIsXG4gIHBpZWNlVHlwZTogbnVtYmVyLFxuICBidXllcldhbGxldDogYW5jaG9yLndlYjMuUHVibGljS2V5LFxuICBzdHJlYW1lcldhbGxldDogYW5jaG9yLndlYjMuUHVibGljS2V5XG4pID0+IHtcbiAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGNob29zZSBwaWVjZSBpbnN0cnVjdGlvbi4uLicpO1xuICBjb25zb2xlLmxvZygncm9vbUlkOicsIHJvb21JZCk7XG4gIGNvbnNvbGUubG9nKCdwaWVjZVR5cGU6JywgcGllY2VUeXBlKTtcbiAgY29uc29sZS5sb2coJ2J1eWVyV2FsbGV0OicsIGJ1eWVyV2FsbGV0LnRvU3RyaW5nKCkpO1xuICBjb25zb2xlLmxvZygnc3RyZWFtZXJXYWxsZXQ6Jywgc3RyZWFtZXJXYWxsZXQudG9TdHJpbmcoKSk7XG5cbiAgLy8gRGVyaXZlIFBEQXNcbiAgY29uc3QgW2NvbmZpZ10gPSBhbmNob3Iud2ViMy5QdWJsaWNLZXkuZmluZFByb2dyYW1BZGRyZXNzU3luYyhcbiAgICBbQnVmZmVyLmZyb20oJ2NvbmZpZycpXSxcbiAgICBwcm9ncmFtLnByb2dyYW1JZFxuICApO1xuXG4gIGNvbnN0IFtyb29tXSA9IGFuY2hvci53ZWIzLlB1YmxpY0tleS5maW5kUHJvZ3JhbUFkZHJlc3NTeW5jKFxuICAgIFtCdWZmZXIuZnJvbSgncm9vbScpLCBCdWZmZXIuZnJvbShbcm9vbUlkXSldLFxuICAgIHByb2dyYW0ucHJvZ3JhbUlkXG4gICk7XG5cbiAgLy8gR2V0IGRldiB3YWxsZXQgZnJvbSBjb25zdGFudHNcbiAgY29uc3QgREVWX1dBTExFVCA9IG5ldyBhbmNob3Iud2ViMy5QdWJsaWNLZXkoXG4gICAgJzNlQkVSNEVkOXo5MVNWRmJSeEVzcXJWQmZvaHNndWtNejRnbzF2cVRkemZvJ1xuICApO1xuXG4gIGNvbnN0IGluc3RydWN0aW9uID0gYXdhaXQgcHJvZ3JhbS5tZXRob2RzXG4gICAgLmNob29zZVBpZWNlKHJvb21JZCwgcGllY2VUeXBlKVxuICAgIC5hY2NvdW50c1BhcnRpYWwoe1xuICAgICAgY29uZmlnLFxuICAgICAgcm9vbSxcbiAgICAgIGJ1eWVyOiBidXllcldhbGxldCxcbiAgICAgIHN0cmVhbWVyOiBzdHJlYW1lcldhbGxldCxcbiAgICAgIGRldldhbGxldDogREVWX1dBTExFVCxcbiAgICAgIHN5c3RlbVByb2dyYW06IGFuY2hvci53ZWIzLlN5c3RlbVByb2dyYW0ucHJvZ3JhbUlkLFxuICAgIH0pXG4gICAgLmluc3RydWN0aW9uKCk7XG5cbiAgcmV0dXJuIGluc3RydWN0aW9uO1xufTsiXSwibmFtZXMiOlsiYW5jaG9yIiwiQnVmZmVyIiwiY3JlYXRlQ2hvb3NlUGllY2VJbnN0cnVjdGlvbiIsInByb2dyYW0iLCJyb29tSWQiLCJwaWVjZVR5cGUiLCJidXllcldhbGxldCIsInN0cmVhbWVyV2FsbGV0IiwiY29uc29sZSIsImxvZyIsInRvU3RyaW5nIiwiY29uZmlnIiwid2ViMyIsIlB1YmxpY0tleSIsImZpbmRQcm9ncmFtQWRkcmVzc1N5bmMiLCJmcm9tIiwicHJvZ3JhbUlkIiwicm9vbSIsIkRFVl9XQUxMRVQiLCJpbnN0cnVjdGlvbiIsIm1ldGhvZHMiLCJjaG9vc2VQaWVjZSIsImFjY291bnRzUGFydGlhbCIsImJ1eWVyIiwic3RyZWFtZXIiLCJkZXZXYWxsZXQiLCJzeXN0ZW1Qcm9ncmFtIiwiU3lzdGVtUHJvZ3JhbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/createChoosePieceInstruction.ts\n");

/***/ }),

/***/ "./utils/createClaimRoomInstruction.ts":
/*!*********************************************!*\
  !*** ./utils/createClaimRoomInstruction.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ createClaimRoomInstruction)\n/* harmony export */ });\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function createClaimRoomInstruction(program, room_id, room_name, room_url, streamer) {\n    console.log(\"Creating claim room instruction\");\n    const [room] = _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(\"room\"),\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from([\n            room_id\n        ])\n    ], program.programId);\n    console.log(\"Room PDA:\", room.toString());\n    console.log(\"Program ID:\", program.programId.toString());\n    console.log(\"Streamer:\", streamer.toString());\n    try {\n        const instruction = await program.methods.claimRoom(room_id, room_name, room_url).accountsPartial({\n            room,\n            streamer,\n            systemProgram: _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.SystemProgram.programId\n        }) // Use 'as any' to bypass strict typing for now\n        .instruction();\n        console.log(\"Generated instruction:\", instruction);\n        console.log(\"Instruction program ID:\", instruction.programId?.toString());\n        return instruction;\n    } catch (error) {\n        console.error(\"Error creating instruction:\", error);\n        console.error(\"Error details:\", error.message);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9jcmVhdGVDbGFpbVJvb21JbnN0cnVjdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUU0QztBQUNaO0FBQ2pCLGVBQWVFLDJCQUM1QkMsT0FBd0MsRUFDeENDLE9BQWUsRUFDZkMsU0FBaUIsRUFDakJDLFFBQWdCLEVBQ2hCQyxRQUErQjtJQUUvQkMsUUFBUUMsR0FBRyxDQUFDO0lBRVosTUFBTSxDQUFDQyxLQUFLLEdBQUdWLG1EQUFXLENBQUNZLFNBQVMsQ0FBQ0Msc0JBQXNCLENBQ3pEO1FBQUNaLDBDQUFNQSxDQUFDYSxJQUFJLENBQUM7UUFBU2IsMENBQU1BLENBQUNhLElBQUksQ0FBQztZQUFDVjtTQUFRO0tBQUUsRUFDN0NELFFBQVFZLFNBQVM7SUFHbkJQLFFBQVFDLEdBQUcsQ0FBQyxhQUFhQyxLQUFLTSxRQUFRO0lBQ3RDUixRQUFRQyxHQUFHLENBQUMsZUFBZU4sUUFBUVksU0FBUyxDQUFDQyxRQUFRO0lBQ3JEUixRQUFRQyxHQUFHLENBQUMsYUFBYUYsU0FBU1MsUUFBUTtJQUUxQyxJQUFJO1FBQ0YsTUFBTUMsY0FBYyxNQUFNZCxRQUFRZSxPQUFPLENBQ3RDQyxTQUFTLENBQUNmLFNBQVNDLFdBQVdDLFVBQzlCYyxlQUFlLENBQUM7WUFDZlY7WUFDQUg7WUFDQWMsZUFBZXJCLG1EQUFXLENBQUNzQixhQUFhLENBQUNQLFNBQVM7UUFDcEQsR0FBSSwrQ0FBK0M7U0FDbERFLFdBQVc7UUFFZFQsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQlE7UUFDdENULFFBQVFDLEdBQUcsQ0FBQywyQkFBMkJRLFlBQVlGLFNBQVMsRUFBRUM7UUFFOUQsT0FBT0M7SUFDVCxFQUFFLE9BQU9NLE9BQU87UUFDZGYsUUFBUWUsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0NmLFFBQVFlLEtBQUssQ0FBQyxrQkFBa0JBLE1BQU1DLE9BQU87UUFDN0MsTUFBTUQ7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL3V0aWxzL2NyZWF0ZUNsYWltUm9vbUluc3RydWN0aW9uLnRzPzc0NjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGV0cmlzU3RyZWFtaW5nIH0gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCAqIGFzIGFuY2hvciBmcm9tICdAY29yYWwteHl6L2FuY2hvcic7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2xhaW1Sb29tSW5zdHJ1Y3Rpb24oXG4gIHByb2dyYW06IGFuY2hvci5Qcm9ncmFtPFRldHJpc1N0cmVhbWluZz4sXG4gIHJvb21faWQ6IG51bWJlcixcbiAgcm9vbV9uYW1lOiBzdHJpbmcsXG4gIHJvb21fdXJsOiBzdHJpbmcsXG4gIHN0cmVhbWVyOiBhbmNob3Iud2ViMy5QdWJsaWNLZXlcbikge1xuICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgY2xhaW0gcm9vbSBpbnN0cnVjdGlvbicpO1xuXG4gIGNvbnN0IFtyb29tXSA9IGFuY2hvci53ZWIzLlB1YmxpY0tleS5maW5kUHJvZ3JhbUFkZHJlc3NTeW5jKFxuICAgIFtCdWZmZXIuZnJvbSgncm9vbScpLCBCdWZmZXIuZnJvbShbcm9vbV9pZF0pXSxcbiAgICBwcm9ncmFtLnByb2dyYW1JZFxuICApO1xuICBcbiAgY29uc29sZS5sb2coJ1Jvb20gUERBOicsIHJvb20udG9TdHJpbmcoKSk7XG4gIGNvbnNvbGUubG9nKCdQcm9ncmFtIElEOicsIHByb2dyYW0ucHJvZ3JhbUlkLnRvU3RyaW5nKCkpO1xuICBjb25zb2xlLmxvZygnU3RyZWFtZXI6Jywgc3RyZWFtZXIudG9TdHJpbmcoKSk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGluc3RydWN0aW9uID0gYXdhaXQgcHJvZ3JhbS5tZXRob2RzXG4gICAgICAuY2xhaW1Sb29tKHJvb21faWQsIHJvb21fbmFtZSwgcm9vbV91cmwpXG4gICAgICAuYWNjb3VudHNQYXJ0aWFsKHtcbiAgICAgICAgcm9vbSxcbiAgICAgICAgc3RyZWFtZXIsXG4gICAgICAgIHN5c3RlbVByb2dyYW06IGFuY2hvci53ZWIzLlN5c3RlbVByb2dyYW0ucHJvZ3JhbUlkLFxuICAgICAgfSkgIC8vIFVzZSAnYXMgYW55JyB0byBieXBhc3Mgc3RyaWN0IHR5cGluZyBmb3Igbm93XG4gICAgICAuaW5zdHJ1Y3Rpb24oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnR2VuZXJhdGVkIGluc3RydWN0aW9uOicsIGluc3RydWN0aW9uKTtcbiAgICBjb25zb2xlLmxvZygnSW5zdHJ1Y3Rpb24gcHJvZ3JhbSBJRDonLCBpbnN0cnVjdGlvbi5wcm9ncmFtSWQ/LnRvU3RyaW5nKCkpO1xuICAgIFxuICAgIHJldHVybiBpbnN0cnVjdGlvbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBpbnN0cnVjdGlvbjonLCBlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCBlcnJvci5tZXNzYWdlKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImFuY2hvciIsIkJ1ZmZlciIsImNyZWF0ZUNsYWltUm9vbUluc3RydWN0aW9uIiwicHJvZ3JhbSIsInJvb21faWQiLCJyb29tX25hbWUiLCJyb29tX3VybCIsInN0cmVhbWVyIiwiY29uc29sZSIsImxvZyIsInJvb20iLCJ3ZWIzIiwiUHVibGljS2V5IiwiZmluZFByb2dyYW1BZGRyZXNzU3luYyIsImZyb20iLCJwcm9ncmFtSWQiLCJ0b1N0cmluZyIsImluc3RydWN0aW9uIiwibWV0aG9kcyIsImNsYWltUm9vbSIsImFjY291bnRzUGFydGlhbCIsInN5c3RlbVByb2dyYW0iLCJTeXN0ZW1Qcm9ncmFtIiwiZXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/createClaimRoomInstruction.ts\n");

/***/ }),

/***/ "./utils/createInitializeInstruction.ts":
/*!**********************************************!*\
  !*** ./utils/createInitializeInstruction.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInitializeInstruction: () => (/* binding */ createInitializeInstruction)\n/* harmony export */ });\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst createInitializeInstruction = async (program, devWallet, authority)=>{\n    console.log(\"program.provider: \", program.provider);\n    console.log(\"authority:\", authority);\n    const [config] = _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.PublicKey.findProgramAddressSync([\n        buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(\"config\")\n    ], program.programId);\n    const initIns = await program.methods.initialize(devWallet).accountsPartial({\n        systemProgram: _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.web3.SystemProgram.programId,\n        authority: authority,\n        config\n    }).instruction();\n    return initIns;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9jcmVhdGVJbml0aWFsaXplSW5zdHJ1Y3Rpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFNEM7QUFDWjtBQUV6QixNQUFNRSw4QkFBOEIsT0FDekNDLFNBQ0FDLFdBQ0FDO0lBRUFDLFFBQVFDLEdBQUcsQ0FBQyxzQkFBc0JKLFFBQVFLLFFBQVE7SUFDbERGLFFBQVFDLEdBQUcsQ0FBQyxjQUFjRjtJQUMxQixNQUFNLENBQUNJLE9BQU8sR0FBR1QsbURBQVcsQ0FBQ1csU0FBUyxDQUFDQyxzQkFBc0IsQ0FDM0Q7UUFBQ1gsMENBQU1BLENBQUNZLElBQUksQ0FBQztLQUFVLEVBQ3ZCVixRQUFRVyxTQUFTO0lBRW5CLE1BQU1DLFVBQVUsTUFBTVosUUFBUWEsT0FBTyxDQUNsQ0MsVUFBVSxDQUFDYixXQUNYYyxlQUFlLENBQUM7UUFDZkMsZUFBZW5CLG1EQUFXLENBQUNvQixhQUFhLENBQUNOLFNBQVM7UUFDbERULFdBQVdBO1FBQ1hJO0lBQ0YsR0FDQ1ksV0FBVztJQUVkLE9BQU9OO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RldHJpcy1zdHJlYW1lci1hcHAvLi91dGlscy9jcmVhdGVJbml0aWFsaXplSW5zdHJ1Y3Rpb24udHM/ZjA0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXRyaXNTdHJlYW1pbmcgfSBmcm9tICcuL3R5cGVzJztcblxuaW1wb3J0ICogYXMgYW5jaG9yIGZyb20gJ0Bjb3JhbC14eXovYW5jaG9yJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVJbml0aWFsaXplSW5zdHJ1Y3Rpb24gPSBhc3luYyAoXG4gIHByb2dyYW06IGFuY2hvci5Qcm9ncmFtPFRldHJpc1N0cmVhbWluZz4sXG4gIGRldldhbGxldDogYW5jaG9yLndlYjMuUHVibGljS2V5LFxuICBhdXRob3JpdHk6IGFuY2hvci53ZWIzLlB1YmxpY0tleVxuKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdwcm9ncmFtLnByb3ZpZGVyOiAnLCBwcm9ncmFtLnByb3ZpZGVyKTtcbiAgY29uc29sZS5sb2coJ2F1dGhvcml0eTonLCBhdXRob3JpdHkpXG4gIGNvbnN0IFtjb25maWddID0gYW5jaG9yLndlYjMuUHVibGljS2V5LmZpbmRQcm9ncmFtQWRkcmVzc1N5bmMoXG4gICAgW0J1ZmZlci5mcm9tKCdjb25maWcnKV0sXG4gICAgcHJvZ3JhbS5wcm9ncmFtSWRcbiAgKTtcbiAgY29uc3QgaW5pdElucyA9IGF3YWl0IHByb2dyYW0ubWV0aG9kc1xuICAgIC5pbml0aWFsaXplKGRldldhbGxldClcbiAgICAuYWNjb3VudHNQYXJ0aWFsKHtcbiAgICAgIHN5c3RlbVByb2dyYW06IGFuY2hvci53ZWIzLlN5c3RlbVByb2dyYW0ucHJvZ3JhbUlkLFxuICAgICAgYXV0aG9yaXR5OiBhdXRob3JpdHksXG4gICAgICBjb25maWcsXG4gICAgfSlcbiAgICAuaW5zdHJ1Y3Rpb24oKTtcblxuICByZXR1cm4gaW5pdElucztcbn07XG4iXSwibmFtZXMiOlsiYW5jaG9yIiwiQnVmZmVyIiwiY3JlYXRlSW5pdGlhbGl6ZUluc3RydWN0aW9uIiwicHJvZ3JhbSIsImRldldhbGxldCIsImF1dGhvcml0eSIsImNvbnNvbGUiLCJsb2ciLCJwcm92aWRlciIsImNvbmZpZyIsIndlYjMiLCJQdWJsaWNLZXkiLCJmaW5kUHJvZ3JhbUFkZHJlc3NTeW5jIiwiZnJvbSIsInByb2dyYW1JZCIsImluaXRJbnMiLCJtZXRob2RzIiwiaW5pdGlhbGl6ZSIsImFjY291bnRzUGFydGlhbCIsInN5c3RlbVByb2dyYW0iLCJTeXN0ZW1Qcm9ncmFtIiwiaW5zdHJ1Y3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/createInitializeInstruction.ts\n");

/***/ }),

/***/ "./utils/program.ts":
/*!**************************!*\
  !*** ./utils/program.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ programHook)\n/* harmony export */ });\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coral-xyz/anchor */ \"@coral-xyz/anchor\");\n/* harmony import */ var _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _tetris_streaming_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tetris_streaming.json */ \"./utils/tetris_streaming.json\");\n\n\nfunction programHook(connection) {\n    const program = new _coral_xyz_anchor__WEBPACK_IMPORTED_MODULE_0__.Program(_tetris_streaming_json__WEBPACK_IMPORTED_MODULE_1__, {\n        connection\n    });\n    return program;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9wcm9ncmFtLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFFRjtBQUUzQixTQUFTRSxZQUFZQyxVQUFrQztJQUNwRSxNQUFNQyxVQUFVLElBQUlKLHNEQUFjLENBQWtCQyxtREFBR0EsRUFBcUI7UUFDMUVFO0lBQ0Y7SUFFQSxPQUFPQztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLXN0cmVhbWVyLWFwcC8uL3V0aWxzL3Byb2dyYW0udHM/NGNiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhbmNob3IgZnJvbSAnQGNvcmFsLXh5ei9hbmNob3InO1xuaW1wb3J0IHsgVGV0cmlzU3RyZWFtaW5nIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgaWRsIGZyb20gJy4vdGV0cmlzX3N0cmVhbWluZy5qc29uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJvZ3JhbUhvb2soY29ubmVjdGlvbjogYW5jaG9yLndlYjMuQ29ubmVjdGlvbikge1xuICBjb25zdCBwcm9ncmFtID0gbmV3IGFuY2hvci5Qcm9ncmFtPFRldHJpc1N0cmVhbWluZz4oaWRsIGFzIFRldHJpc1N0cmVhbWluZywge1xuICAgIGNvbm5lY3Rpb24sXG4gIH0pO1xuXG4gIHJldHVybiBwcm9ncmFtO1xufVxuIl0sIm5hbWVzIjpbImFuY2hvciIsImlkbCIsInByb2dyYW1Ib29rIiwiY29ubmVjdGlvbiIsInByb2dyYW0iLCJQcm9ncmFtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/program.ts\n");

/***/ }),

/***/ "./utils/tetris_streaming.json":
/*!*************************************!*\
  !*** ./utils/tetris_streaming.json ***!
  \*************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"address":"FHbWQGzgrdKnuZcp4bLhE2GdwzxrGciWKUegW42yj33h","metadata":{"name":"tetris_streaming","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"choose_piece","discriminator":[30,228,132,255,245,54,193,148],"accounts":[{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"room","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,111,109]},{"kind":"arg","path":"room_id"}]}},{"name":"buyer","writable":true,"signer":true},{"name":"streamer","writable":true},{"name":"dev_wallet","writable":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"room_id","type":"u8"},{"name":"piece_type","type":"u8"}]},{"name":"claim_room","discriminator":[62,51,97,121,144,160,43,85],"accounts":[{"name":"room","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,111,111,109]},{"kind":"arg","path":"room_id"}]}},{"name":"streamer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"room_id","type":"u8"},{"name":"room_name","type":"string"},{"name":"stream_url","type":"string"}]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]}]}},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"dev_wallet","type":"pubkey"}]}],"accounts":[{"name":"Config","discriminator":[155,12,170,224,30,250,204,130]},{"name":"Room","discriminator":[156,199,67,27,222,23,185,94]}],"errors":[{"code":6000,"name":"InvalidRoomId","msg":"Invalid room ID. Must be 0-9."},{"code":6001,"name":"RoomNameTooLong","msg":"Room name too long. Max 50 characters."},{"code":6002,"name":"StreamUrlTooLong","msg":"Stream URL too long. Max 200 characters."},{"code":6003,"name":"InvalidPieceType","msg":"Invalid piece type. Must be 0-6."},{"code":6004,"name":"InvalidStreamer","msg":"Only the room owner can receive payments."},{"code":6005,"name":"InvalidDevWallet","msg":"Invalid dev wallet."},{"code":6006,"name":"RoomNotExpired","msg":"Room is not expired yet. Wait 2 minutes before reclaiming."}],"types":[{"name":"Config","type":{"kind":"struct","fields":[{"name":"dev_wallet","type":"pubkey"},{"name":"piece_price","type":"u64"}]}},{"name":"Room","type":{"kind":"struct","fields":[{"name":"room_name","type":"string"},{"name":"stream_url","type":"string"},{"name":"player_wallet","type":"pubkey"},{"name":"latest_chosen_piece","type":"u8"},{"name":"last_buyer","type":"pubkey"},{"name":"timestamp","type":"i64"}]}}]}');

/***/ })

};
;